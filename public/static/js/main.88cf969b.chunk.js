(this.webpackJsonpjeff=this.webpackJsonpjeff||[]).push([[0],{19:function(e,t,a){e.exports={card:"Login_card__1aHd1",body:"Login_body__2QrV6"}},50:function(e,t,a){},51:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a.n(n),r=a(40),l=a.n(r),i=(a(50),a(6)),o=a(9),d=(a(51),"/"),u="/login",j="/register",b="/dashboard",m="/document-types",h="/users",p="/requests",f="/profile",O=a(41),x=a(42),v=function(){function e(t){Object(O.a)(this,e),this.storage=void 0,this.key="react-state-key",this.listeners={},this.storage=window.localStorage,t&&(this.key=t);var a=this.getAll();this.setAll(a)}return Object(x.a)(e,[{key:"clear",value:function(){return this.setAll({})}},{key:"getAll",value:function(){try{var e=this.storage.getItem(this.key);return e?JSON.parse(e):{}}catch(t){return{}}}},{key:"setAll",value:function(e){return this.storage.setItem(this.key,JSON.stringify(e)),this}},{key:"has",value:function(e){return e in this.getAll()}},{key:"get",value:function(e){return this.getAll()[e]}},{key:"set",value:function(e,t){var a=this.getAll();return a[e]=t,this.dispatch(e,t),this.setAll(a)}},{key:"remove",value:function(e){if(this.has(e)){var t=this.getAll();delete t[e],this.setAll(t)}return this}},{key:"dispatch",value:function(e,t){var a=this;return e in this.listeners&&this.listeners[e].forEach((function(e){return e(t,a)})),this}},{key:"listen",value:function(e,t){return e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)-1}},{key:"unlisten",value:function(e,t){e in this.listeners&&this.listeners[e].splice(t,1)}}]),e}(),g=new v,N=a(2),w=a.n(N),y=a(5),k=a(16),C=a(7),S=a(3),D=a(4),P=a.n(D),_=a(29),A=a(25),E=a(8),L=a.n(E),M=a(22),B=a.n(M),F=a(14),U=a.n(F),R=a(43),T=a.n(R);function I(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?t:a}function q(e){return e.split(" ").map((function(e){return"Id"===e?"ID":function(e){var t=e.split("");return t[0]=t[0].toUpperCase(),t.join("")}(e)})).join(" ")}function J(e){if(e.response){var t=e.response;t.data.message&&422!==t.status?L.a.error(t.data.message):422===t.status?t.data.errors.map((function(e){var t=e.param,a=e.msg;return a.split(" ")[0].trim().toLowerCase()!==t.trim().toLowerCase()&&a.includes("required")?"".concat(H(t)," ").concat(a):a})).forEach((function(e){return L.a.error(e)})):L.a.error("Something went wrong, please try again later.","Oops!")}else e.message&&L.a.error(e.message)}function V(e){return 0===e.length?[]:Object.keys(e[0]).map((function(e){switch(e){case"id":return"ID";case"createdAt":return"Created";case"updatedAt":return"Modified";case"created_at":return"Created";case"updated_at":return"Modified";default:return H(e)}}))}function H(e){return q(B.a.snakeCase(e).split("_").join(" "))}function z(e,t){return Object(_.a)(e).map((function(e){return function(e,t){var a,c=Object(C.a)({},e),n=Object(A.a)(t);try{for(n.s();!(a=n.n()).done;){var s=a.value;s in c&&delete c[s]}}catch(r){n.e(r)}finally{n.f()}return c}(e,t)}))}U.a.extend(T.a);new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"});function X(){var e=Object(n.useState)(!1),t=Object(S.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)("Add"),l=Object(S.a)(r,2),i=l[0],d=l[1],u=Object(n.useState)({id:-1,name:""}),j=Object(S.a)(u,2),b=j[0],m=j[1],h=Object(o.f)(),p=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:return s(!0),e.prev=3,e.next=6,"Add"===i?P.a.post("/document-types",b):P.a.put("/document-types",b);case 6:L.a.success("Document Type saved successfully."),m({name:"",id:-1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),J(e.t0);case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d("Edit"),e.prev=1,e.next=4,P.a.get("/document-types/show?id=".concat(t));case 4:a=e.sent,c=a.data,m(c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),J(e.t0),h.goBack();case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),O=Object(o.g)(),x=O.params,v=O.path;return Object(n.useEffect)((function(){v.includes("edit")&&f(x.id)}),[]),Object(c.jsxs)("form",{className:"container",onSubmit:function(){var e=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsxs)("h3",{className:"align-self-center mb-0",children:[i," Document Type"]}),Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center ml-auto",onClick:function(e){e.preventDefault(),h.goBack()},children:"Back"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"Name",className:"form-control form-control-sm ".concat(I(a,"disabled")),disabled:a,value:b.name,onChange:function(e){var t=e.target,a=t.id,c=t.value;m(Object(C.a)(Object(C.a)({},b),{},Object(k.a)({},a,c)))}})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm ".concat(I(a,"disabled")),disabled:a,children:a?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Save"})})]})}var Y=a(28),Q=a.n(Y);function W(e){var t=e.url,a=e.current,n=e.total,s=e.limit,r=e.onChange,l=Math.ceil(n/s),i=a-1,o=a+1,d="".concat(t,"?page=").concat(i),u="".concat(t,"?page=").concat(o),j=i>=1,b=o<=l;return Object(c.jsx)("nav",{"aria-label":"...",children:Object(c.jsxs)("ul",{className:"pagination justify-content-end mb-0",children:[Object(c.jsx)("li",{className:"page-item ".concat(j?"":"disabled"),children:Object(c.jsxs)("a",{className:"page-link",href:d,tabIndex:-1,onClick:function(e){e.preventDefault(),j&&r(i)},children:[Object(c.jsx)("i",{className:"fas fa-angle-left"}),Object(c.jsx)("span",{className:"sr-only",children:"Previous"})]})}),function(){for(var e=[],n=function(n){var s;e.push(Object(c.jsx)("li",{className:"page-item ".concat(n===a?"active":""),children:Object(c.jsxs)("a",{className:"page-link",href:(s=n,"".concat(t,"?page=").concat(s)),tabIndex:-1,onClick:function(e){e.preventDefault(),r(n)},children:[n," ",n===a?Object(c.jsx)("span",{className:"sr-only",children:"(current)"}):null]})},n))},s=1;s<=l;s++)n(s);return e}(),Object(c.jsx)("li",{className:"page-item ".concat(b?"":"disabled"),children:Object(c.jsxs)("a",{className:"page-link",href:u,tabIndex:-1,onClick:function(e){e.preventDefault(),b&&r(o)},children:[Object(c.jsx)("i",{className:"fas fa-angle-right"}),Object(c.jsx)("span",{className:"sr-only",children:"Next"})]})})]})})}function G(e){var t=e.title,a=(e.theme,e.columns),s=e.data,r=e.onViewClick,l=e.onEditClick,i=e.onDeleteConfirm,d=e.onRefreshClick,u=e.processing,j=e.onAddClick,b=e.withAction,m=e.pagination,h=e.border,p=e.dontShowView,f=e.dontShowEdit,O=e.dontShowDelete,x=a||V(s),g=Object(o.g)(),N=new v(B.a.kebabCase(t.toLowerCase()+"-table")),w=s.length,y=N.has("page")?N.get("page"):1,k=Object(n.useState)(N.has("perPage")?N.get("perPage"):10),C=Object(S.a)(k,2),D=C[0],P=C[1];y>Math.ceil(w/D)&&N.has("page")&&N.set("page",1);var _=Object(n.useState)(y<=Math.ceil(w/D)?y:1),A=Object(S.a)(_,2),E=A[0],L=A[1],M=N.listen("page",(function(e){return L(e)})),F=Object(n.useState)(D),R=Object(S.a)(F,2),T=R[0],q=R[1],J=Object(n.useState)(!1),z=Object(S.a)(J,2),X=z[0],Y=z[1],G=N.listen("perPage",(function(e){E>Math.ceil(w/e)&&N.set("page",1),P(e)}));Object(n.useEffect)((function(){return function(){N.unlisten("page",M),N.unlisten("perPage",G)}}),[]);for(var K=(E-1)*D,Z=[],ee=K;ee<K+D;ee++)"undefined"!==typeof s[ee]&&Z.push(s[ee]);var te=m?Z:s;return Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsxs)("div",{className:"card ".concat(h?"border":""," w-100"),children:[Object(c.jsxs)("div",{className:"card-header border-0",children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("h3",{className:"mb-0 align-self-center",children:t}),Object(c.jsxs)("div",{className:"ml-auto align-self-center d-flex",children:[b?Object(c.jsx)("i",{className:"fas fa-plus clickable d-block align-self-center m-1 text-warning",onClick:function(){return j()}}):null,b?Object(c.jsx)("i",{className:"fas fa-redo-alt clickable d-block align-self-center m-1 text-info ".concat(u?"fa-spin":""),onClick:function(){return d()}}):null]})]}),m?Object(c.jsxs)("div",{className:"mt-4",children:[Object(c.jsx)("div",{className:"py-2",children:Object(c.jsxs)("button",{className:"btn btn-".concat(X?"danger":"primary"," btn-sm"),onClick:function(e){e.preventDefault(),Y(!X)},children:[X?"Hide":"Show"," Options"]})}),X?Object(c.jsxs)("form",{className:"form-inline",onSubmit:function(e){e.preventDefault(),N.set("perPage",T>=1?T:10)},children:[Object(c.jsxs)("div",{className:"form-group p-1",children:[Object(c.jsx)("label",{htmlFor:"perPage",className:"mr-2",children:"Rows per Page:"}),Object(c.jsx)("input",{type:"number",name:"perPage",id:"perPage",placeholder:"Per Page",value:T,onChange:function(e){return q(Number(e.target.value))},className:"form-control form-control-sm"})]}),Object(c.jsx)("div",{className:"form-group p-1",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-warning btn-sm",children:"Change"})})]}):null]}):null]}),u?Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)("i",{className:"fas fa-circle-notch fa-spin fa-2x"})})}):Object(c.jsx)("div",{className:"card-body",children:te.length>0?Object(c.jsxs)("div",{className:"table-responsive",style:{overflowY:"hidden"},children:[Object(c.jsxs)("table",{className:"table table-sm",children:[Object(c.jsx)("thead",{className:"text-primary",children:Object(c.jsxs)("tr",{children:[x.map((function(e,t){return Object(c.jsx)("th",{className:"sort text-center","data-sort":e.toLowerCase(),scope:"col",children:e},t)})),b?Object(c.jsx)("th",{scope:"col",className:"text-center",children:"Actions"}):null]})}),Object(c.jsx)("tbody",{children:te.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object.entries(e).map((function(e,t){var a,n=Object(S.a)(e,2),s=n[0],r=n[1];return Object(c.jsx)("td",{className:"text-center",children:"updatedAt"===s||"createdAt"===s?(a=r,U()(a).fromNow()):r},t)})),b?Object(c.jsx)("td",{className:"text-center",children:Object(c.jsxs)("div",{className:"dropdown",children:[Object(c.jsx)("button",{className:"btn btn-sm btn-icon-only text-light","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(c.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(c.jsxs)("div",{className:"dropdown-menu dropdown-menu-right dropdown-menu-arrow",children:[I(void 0===p||!1===p,Object(c.jsxs)("button",{className:"dropdown-item",onClick:function(){return r(e)},children:[Object(c.jsx)("i",{className:"ni ni-active-40 text-info"}),"View"]})),I(void 0===f||!1===f,Object(c.jsxs)("button",{className:"dropdown-item",onClick:function(){return l(e)},children:[Object(c.jsx)("i",{className:"ni ni-ruler-pencil text-warning"}),"Edit"]})),I(void 0===O||!1===O,Object(c.jsxs)("button",{type:"button","data-toggle":"modal","data-target":"#deleteModal".concat(t),className:"dropdown-item",children:[Object(c.jsx)("i",{className:"ni ni-fat-delete text-danger"}),"Delete"]}))]})]})}):null]},t)}))}),te.length>=10?Object(c.jsx)("thead",{className:"text-primary",children:Object(c.jsxs)("tr",{children:[x.map((function(e,t){return Object(c.jsx)("th",{className:"sort text-center","data-sort":e.toLowerCase(),scope:"col",children:e},t)})),b?Object(c.jsx)("th",{scope:"col",className:"text-center",children:"Actions"}):null]})}):null]}),b?te.map((function(e,a){return Object(c.jsx)("div",{className:"modal fade",id:"deleteModal".concat(a),tabIndex:-1,role:"dialog","aria-labelledby":"deleteModalLabel".concat(a),"aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsxs)("h5",{className:"modal-title",id:"deleteModalLabel".concat(a),children:["Delete ",Q.a.singular(t)]}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsxs)("div",{className:"modal-body",children:["Are you sure you want to delete this ",Q.a.singular(H(t)),"?"]}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(t){t.preventDefault();var c=$("#deleteModal".concat(a));c.on("hidden.bs.modal",(function(){return i(e)})),c.modal("hide")},children:"Confirm"}),Object(c.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",children:"Cancel"})]})]})})},a)})):null]}):Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("h3",{className:"text-center",children:"No Data"})})}),m?Object(c.jsx)("div",{className:"card-footer py-4",children:te.length>0&&Math.ceil(w/D)>1?Object(c.jsx)(W,{url:g.path,current:E,total:w,limit:D,onChange:function(e){N.set("page",e)}}):null}):null]})})})}function K(){var e=Object(n.useState)([]),t=Object(S.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),l=Object(S.a)(r,2),i=l[0],d=l[1],u=Object(o.g)(),j=Object(o.f)(),b=function(e){return"".concat(u.path).concat(e)},m=function(){var e=Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,P.a.get("/document-types");case 4:t=e.sent,a=t.data,s(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),L.a.error("Unable to fetch Document Types.");case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,P.a.delete("/document-types?id=".concat(t));case 4:return L.a.success("Document Type deleted successfully."),e.next=7,m();case 7:e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),L.a.error("Unable to delete Document Type."),d(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){m()}),[]),Object(c.jsx)(G,{title:"Document Types",columns:V(a).map((function(e){return["updated at","created at"].includes(e.toLowerCase())?q(e.split(" ")[0]):e})),data:a.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{created_at:U()(e.created_at).fromNow(),updated_at:U()(e.updated_at).fromNow()})})),processing:i,onAddClick:function(){return j.push(b("add"))},onViewClick:function(e){var t=e.id;j.push(b("".concat(t)))},onEditClick:function(e){var t=e.id;j.push(b("".concat(t,"/edit")))},onDeleteConfirm:function(e){var t=e.id;h(t)},onRefreshClick:m,withAction:!0,pagination:!0})}function Z(){var e=Object(n.useState)(null),t=Object(S.a)(e,2),a=t[0],s=t[1],r=Object(o.f)(),l=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/document-types/show?id=".concat(t));case 3:a=e.sent,c=a.data,s(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),J(e.t0),r.goBack();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),i=Object(o.g)().params;return Object(n.useEffect)((function(){l(i.id)}),[]),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("h3",{className:"mb-0",children:"View Document Type"})}),Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("button",{className:"btn btn-info btn-sm",onClick:function(e){e.preventDefault(),r.goBack()},children:"Back"})}),Object(c.jsx)("div",{className:"col-12",children:a?Object(c.jsx)("div",{className:"card shadow rounded",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h6",{children:"Name"}),Object(c.jsx)("p",{children:a.name})]})}):Object(c.jsx)("div",{className:"d-flex h-100 w-100",children:Object(c.jsx)("div",{className:"align-self-center mx-auto",children:Object(c.jsx)("i",{className:"fas fa-circle-notch fa-spin fa-2x"})})})})]})})}function ee(){var e=Object(o.g)(),t=function(t){return"".concat(e.path).concat(t)};return Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:t("/"),exact:!0,component:K}),Object(c.jsx)(o.a,{path:t("/add"),component:X}),Object(c.jsx)(o.a,{path:t("/:id"),exact:!0,component:Z}),Object(c.jsx)(o.a,{path:t("/:id/edit"),component:X})]})}function te(){var e=Object(n.useState)(!1),t=Object(S.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)("Add"),l=Object(S.a)(r,2),i=l[0],d=l[1],u=Object(n.useState)({id:-1,name:"",email:"",password:"",role:"Student"}),j=Object(S.a)(u,2),b=j[0],m=j[1],h=Object(o.f)(),p=function(e){var t=e.target,a=t.id,c=t.value;m(Object(C.a)(Object(C.a)({},b),{},Object(k.a)({},a,c)))},f=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:return s(!0),e.prev=3,e.next=6,"Add"===i?P.a.post("/users",b):P.a.put("/users",b);case 6:L.a.success("User saved successfully."),m({name:"",email:"",password:"",role:b.role,id:-1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),J(e.t0);case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d("Edit"),e.prev=1,e.next=4,P.a.get("/users/show?id=".concat(t));case 4:a=e.sent,(c=a.data).password="",m(c),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),J(e.t0),h.goBack();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),x=Object(o.g)(),v=x.params,g=x.path;return Object(n.useEffect)((function(){g.includes("edit")&&O(v.id)}),[]),Object(c.jsxs)("form",{className:"container",onSubmit:function(){var e=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsxs)("h3",{className:"align-self-center mb-0",children:[i," User"]}),Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center ml-auto",onClick:function(e){e.preventDefault(),h.goBack()},children:"Back"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"Name",className:"form-control form-control-sm ".concat(I(a,"disabled")),disabled:a,value:b.name,onChange:p})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email",className:"form-control form-control-sm ".concat(I(a,"disabled")),disabled:a,value:b.email,onChange:p})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"form-control form-control-sm ".concat(I(a,"disabled")),disabled:a,value:b.password,onChange:p})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"role",children:"Role"}),Object(c.jsxs)("select",{name:"role",id:"role",className:"form-control form-control-sm",value:b.role,onChange:p,children:[Object(c.jsx)("option",{value:"Admin",children:"Admin"}),Object(c.jsx)("option",{value:"Student",children:"Student"})]})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm ".concat(I(a,"disabled")),disabled:a,children:a?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Save"})})]})}function ae(){var e=Object(n.useState)([]),t=Object(S.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),l=Object(S.a)(r,2),d=l[0],u=l[1],j=Object(o.g)(),b=Object(o.f)(),m=function(e){return"".concat(j.path).concat(e)},h=function(){var e=Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,P.a.get("/users");case 4:t=e.sent,a=t.data,s(z(a,["profile_picture_id"])),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),L.a.error("Unable to fetch users.");case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,P.a.delete("/users?id=".concat(t));case 4:return L.a.success("User deleted successfully."),e.next=7,h();case 7:e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),J(e.t0),u(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){h()}),[]),Object(c.jsx)(G,{title:"Users",columns:V(a).map((function(e){return["updated at","created at"].includes(e.toLowerCase())?q(e.split(" ")[0]):"profile picture"===e.toLowerCase()?"":e})),data:a.map((function(e){var t;return Object(C.a)(Object(C.a)({},e),{},{created_at:U()(e.created_at).fromNow(),updated_at:U()(e.updated_at).fromNow(),role:"Admin"===e.role?Object(c.jsx)("span",{className:"badge badge-secondary",children:e.role}):Object(c.jsx)("span",{className:"badge badge-danger",children:e.role}),profilePicture:Object(c.jsx)(i.b,{to:m("".concat(e.id)),children:Object(c.jsx)("img",{src:(null===(t=e.profilePicture)||void 0===t?void 0:t.url)||"https://via.placeholder.com/40",className:"rounded-circle shadow-sm border img-fluid d-none d-lg-block",style:{height:"40px",width:"40px"},alt:"Profile"})})})})),processing:d,onAddClick:function(){return b.push(m("add"))},onViewClick:function(e){var t=e.id;b.push(m("".concat(t)))},onEditClick:function(e){var t=e.id;b.push(m("".concat(t,"/edit")))},onDeleteConfirm:function(e){var t=e.id;p(t)},onRefreshClick:h,withAction:!0,pagination:!0})}function ce(){var e,t=Object(n.useState)(null),a=Object(S.a)(t,2),s=a[0],r=a[1],l=Object(o.f)(),d=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/users/show?id=".concat(t));case 3:a=e.sent,c=a.data,r(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),J(e.t0),l.goBack();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),u=!1,j=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!u){e.next=2;break}return e.abrupt("return");case 2:return u=!0,e.prev=3,e.next=6,P.a.delete("/users?id=".concat(null===s||void 0===s?void 0:s.id));case 6:L.a.success("User deleted successfully."),l.goBack(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),J(e.t0);case 13:return e.prev=13,u=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),b=Object(o.g)().params;Object(n.useEffect)((function(){d(b.id)}),[]);var m=(null===s||void 0===s||null===(e=s.profilePicture)||void 0===e?void 0:e.url)||"https://via.placeholder.com/200";return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("h3",{className:"mb-0",children:"View User"})}),Object(c.jsxs)("div",{className:"col-12 d-flex",children:[Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center",onClick:function(e){e.preventDefault(),l.goBack()},children:"Back"}),Object(c.jsx)(i.b,{to:"".concat(window.location.pathname,"/edit"),className:"btn btn-warning btn-sm align-self-center ml-auto",children:"Edit"}),Object(c.jsx)("a",{href:"".concat(window.location.pathname,"/delete"),className:"btn btn-danger btn-sm align-self-center ml-1",onClick:function(e){e.preventDefault(),$("#deleteUserModal").modal("show")},children:"Delete"})]}),Object(c.jsx)("div",{className:"col-12",children:s?Object(c.jsx)("div",{className:"card shadow rounded",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("img",{src:m,alt:"Profile",className:"img-fluid rounded-circle mb-3",style:{height:"50px",width:"50px"}}),Object(c.jsx)("h6",{children:"Name"}),Object(c.jsx)("p",{children:s.name}),Object(c.jsx)("h6",{children:"Email"}),Object(c.jsx)("p",{children:s.email}),Object(c.jsx)("h6",{children:"Role"}),Object(c.jsx)("p",{children:s.role})]})}):Object(c.jsx)("div",{className:"d-flex h-100 w-100",children:Object(c.jsx)("div",{className:"align-self-center mx-auto",children:Object(c.jsx)("i",{className:"fas fa-circle-notch fa-spin fa-2x"})})})})]}),Object(c.jsx)("div",{className:"modal fade",id:"deleteUserModal",tabIndex:-1,role:"dialog","aria-labelledby":"deleteUserModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsx)("h5",{className:"modal-title",id:"deleteUserModalLabel",children:"Delete User"}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsxs)("div",{className:"modal-body",children:["Are you sure you want to delete ",(null===s||void 0===s?void 0:s.name)||"this user","?"]}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(e){e.preventDefault(),$("#deleteUserModal").modal("hide"),j()},children:"Confirm"}),Object(c.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",children:"Cancel"})]})]})})})]})}function ne(){var e=Object(o.g)(),t=function(t){return"".concat(e.path).concat(t)};return console.log("hi"),Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:t("/"),exact:!0,component:ae}),Object(c.jsx)(o.a,{path:t("/add"),component:te}),Object(c.jsx)(o.a,{path:t("/:id"),exact:!0,component:ce}),Object(c.jsx)(o.a,{path:t("/:id/edit"),component:te})]})}function se(){var e=Object(o.g)(),t=function(t){return"".concat(e.path).concat(t)};return Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:t(h),component:ne}),Object(c.jsx)(o.a,{path:t(m),component:ee})]})}function re(){var e=Object(o.g)(),t=function(t){return"".concat(e.path).concat(t)},a=[{url:b,icon:"nc-icon nc-bank",title:"Dashboard"},{url:t(m),icon:"nc-icon nc-book-bookmark",title:"Document Types"},{url:t(p),icon:"nc-icon nc-tag-content",title:"Requests"},{url:t(h),icon:"nc-icon nc-single-02",title:"Users"}];return Object(c.jsx)("div",{className:"sidebar-wrapper",style:{overflowX:"hidden"},children:Object(c.jsx)("ul",{className:"nav",children:a.map((function(e,t){return Object(c.jsx)("li",{className:I(e.url===window.location.pathname,"active"),children:Object(c.jsxs)(i.b,{to:e.url,children:[Object(c.jsx)("i",{className:e.icon}),Object(c.jsx)("p",{children:e.title})]})},t)}))})})}function le(){var e,t=Object(n.useState)(!1),a=Object(S.a)(t,2),s=a[0],r=a[1],l=g.get("user"),o=Object(n.useState)(Object(C.a)({},l)),d=Object(S.a)(o,2),u=d[0],j=d[1],b=Object(n.useState)((null===(e=l.profilePicture)||void 0===e?void 0:e.url)||"https://via.placeholder.com/200"),m=Object(S.a)(b,2),h=m[0],p=m[1],f=Object(n.createRef)(),O=new FileReader,x=!1;O.onload=function(){var e=Object(y.a)(w.a.mark((function e(t){var a,c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target||!t.target.result){e.next=22;break}if(!x){e.next=3;break}return e.abrupt("return");case 3:return x=!0,e.prev=4,e.next=7,P.a.put("/self/profile",{file:String(t.target.result)});case 7:c=e.sent,n=c.data,p((null===(a=n.profilePicture)||void 0===a?void 0:a.url)||"https://via.placeholder.com/200"),g.set("user",n),L.a.info("Profile picture saved.","Info"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0),J(e.t0);case 18:return e.prev=18,$("#file-upload")[0].reset(),x=!1,e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[4,14,18,22]])})));return function(t){return e.apply(this,arguments)}}();var v=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,P.a.put("/self",u);case 4:t=e.sent,g.set("user",t.data),L.a.info("Profile updated successfully.","Info"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),J(e.t0);case 13:return e.prev=13,r(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){$(".main-panel").removeClass("h-100")}),[]);var N=function(e){var t=e.target,a=t.id,c=t.value;j(Object(C.a)(Object(C.a)({},u),{},Object(k.a)({},a,c)))};return Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsxs)("div",{className:"card card-user w-100",children:[Object(c.jsx)("div",{className:"image",children:Object(c.jsx)("img",{src:"/assets/img/damir-bosnjak.jpg",alt:"..."})}),Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)("div",{className:"author",children:[Object(c.jsx)("a",{href:window.location.pathname,title:"Change Profile Picture",onClick:function(e){var t;e.preventDefault(),null===(t=f.current)||void 0===t||t.click()},children:Object(c.jsx)("img",{className:"avatar border-gray shadow-sm",src:h,alt:"..."})}),Object(c.jsx)(i.b,{to:window.location.pathname,children:Object(c.jsx)("h5",{className:"title",children:l.name})}),Object(c.jsxs)("p",{className:"description",children:["@",l.name.split(" ").join("").toLowerCase()]})]})}),Object(c.jsxs)("div",{className:"card-footer",children:[Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"button-container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-3 col-md-6 col-6 ml-auto",children:Object(c.jsxs)("h5",{children:["12",Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:"Files"})]})}),Object(c.jsx)("div",{className:"col-lg-4 col-md-6 col-6 ml-auto mr-auto",children:Object(c.jsxs)("h5",{children:["2",Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:"Requests"})]})}),Object(c.jsx)("div",{className:"col-lg-3 mr-auto",children:Object(c.jsxs)("h5",{children:["5",Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:"Logins"})]})})]})})]})]})}),Object(c.jsx)("div",{className:"col-md-8",children:Object(c.jsxs)("div",{className:"card card-user",children:[Object(c.jsx)("div",{className:"card-header",children:Object(c.jsx)("h5",{className:"card-title",children:"Edit Profile"})}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("form",{id:"file-upload",onSubmit:function(e){return e.preventDefault()},children:Object(c.jsx)("input",{type:"file",ref:f,className:"d-none",onChange:function(e){e.target.files&&e.target.files.length>0&&O.readAsDataURL(e.target.files[0])},accept:"image/*"})}),Object(c.jsxs)("form",{onSubmit:function(){var e=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"Name",className:"form-control form-control-sm ".concat(I(s,"disabled")),disabled:s,value:u.name,onChange:N})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email",className:"form-control form-control-sm ".concat(I(s,"disabled")),disabled:s,value:u.email,onChange:N})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"form-control form-control-sm ".concat(I(s,"disabled")),disabled:s,value:u.password,onChange:N})]})]})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"update ml-auto mr-auto",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary btn-round text-center ".concat(I(s,"disabled")),style:{width:"160px"},disabled:s,children:s?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Update Profile"})})})]})]})]})})]})}function ie(){return Object(c.jsx)("footer",{className:"footer d-none",style:{position:"absolute",bottom:0,width:"-webkit-fill-available"},children:Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("nav",{className:"footer-nav",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"/",target:"_blank",onClick:function(e){e.preventDefault()},children:"Blog"})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"/",target:"_blank",onClick:function(e){e.preventDefault()},children:"Licenses"})})]})}),Object(c.jsx)("div",{className:"credits ml-auto",children:Object(c.jsxs)("span",{className:"copyright",children:["\xa9 2020, made with ",Object(c.jsx)("i",{className:"fa fa-heart heart"})," by JMM"]})})]})})})}function oe(){var e,t=Object(o.g)(),a=t.path.split("/"),n=H(a[a.length-1]),s=Object(o.f)(),r=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.post("/auth/logout");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.prev=8,g.clear(),s.push(u),L.a.info("Logged out successfully.","Info"),e.finish(8);case 13:case"end":return e.stop()}}),e,null,[[0,5,8,13]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("nav",{className:"navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent",children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsxs)("div",{className:"navbar-wrapper",children:[Object(c.jsx)("div",{className:"navbar-toggle",children:Object(c.jsxs)("button",{type:"button",className:"navbar-toggler",children:[Object(c.jsx)("span",{className:"navbar-toggler-bar bar1"}),Object(c.jsx)("span",{className:"navbar-toggler-bar bar2"}),Object(c.jsx)("span",{className:"navbar-toggler-bar bar3"})]})}),Object(c.jsx)("a",{className:"navbar-brand",href:"/",onClick:function(e){return e.preventDefault()},children:n})]}),Object(c.jsxs)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navigation","aria-controls":"navigation-index","aria-expanded":"false","aria-label":"Toggle navigation",children:[Object(c.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"}),Object(c.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"}),Object(c.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"})]}),Object(c.jsx)("div",{className:"collapse navbar-collapse justify-content-end",id:"navigation",children:Object(c.jsx)("ul",{className:"navbar-nav",children:Object(c.jsxs)("li",{className:"nav-item btn-rotate dropdown",children:[Object(c.jsxs)("a",{className:"nav-link dropdown-toggle",href:"http://example.com",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-expanded":"false",children:[Object(c.jsx)("i",{className:"nc-icon nc-circle-10"}),Object(c.jsx)("p",{children:Object(c.jsx)("span",{className:"d-lg-none d-md-block",children:"Account"})})]}),Object(c.jsxs)("div",{className:"dropdown-menu dropdown-menu-right p-0","aria-labelledby":"navbarDropdownMenuLink",children:[Object(c.jsxs)(i.b,{to:(e=f,"".concat(t.path).concat(e)),className:"dropdown-item d-flex",children:[Object(c.jsx)("i",{className:"nc-icon nc-single-02 align-self-center mr-1"}),Object(c.jsx)("span",{className:"align-self-center",children:"Profile"})]}),Object(c.jsxs)("a",{className:"dropdown-item d-flex",href:"/logout",onClick:function(e){e.preventDefault(),r()},children:[Object(c.jsx)("i",{className:"nc-icon nc-key-25 align-self-center mr-1"}),Object(c.jsx)("span",{className:"align-self-center",children:"Logout"})]})]})]})})})]})})}function de(){var e=Object(n.useState)(!0),t=Object(S.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)({document_type_id:-1,approved:!1,status:"Pending",user_id:g.get("user").id,file_id:null}),l=Object(S.a)(r,2),i=l[0],d=l[1],u=Object(n.useState)([]),j=Object(S.a)(u,2),b=j[0],m=j[1],h=Object(o.f)(),p=function(){var e=Object(y.a)(w.a.mark((function e(){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("/document-types");case 3:if(0!==(t=e.sent).data.length){e.next=7;break}return L.a.info("There are no available documents that you can request right now. Please try again later.","Notice"),e.abrupt("return",h.goBack());case 7:m(t.data),d(Object(C.a)(Object(C.a)({},i),{},{document_type_id:t.data[0].id})),s(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.toJSON()),L.a.error("Unable to connect to server. Please try again later."),h.goBack();case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){p()}),[]);var f=function(){var e=Object(y.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:return s(!0),e.prev=3,e.next=6,P.a.post("/requests",i);case 6:L.a.success("Request created successfully."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),J(e.t0);case 12:return e.prev=12,s(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{className:"container",onSubmit:function(){var e=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,f();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("h3",{className:"align-self-center mb-0",children:"Create Request"}),Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center ml-auto",onClick:function(e){e.preventDefault(),h.goBack()},children:"Back"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"document_type_id",children:"Document Type"}),Object(c.jsx)("select",{name:"document_type_id",id:"document_type_id",className:"form-control form-control-sm",onChange:function(e){var t=e.target,a=t.id,c=t.value;d(Object(C.a)(Object(C.a)({},i),{},Object(k.a)({},a,c)))},value:i.document_type_id,children:b.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm ".concat(I(a,"disabled")),disabled:a,children:a?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Save"})})]})}function ue(){var e=Object(n.useState)([]),t=Object(S.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),l=Object(S.a)(r,2),i=l[0],d=l[1],u=Object(o.g)(),j=Object(o.f)(),b=function(e){return"".concat(u.path).concat(e)},m=function(){var e=Object(y.a)(w.a.mark((function e(){var t,a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,P.a.get("/self/requests");case 4:t=e.sent,a=t.data,s(z(a,["document_type_id","file_id","user_id","file"])),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),L.a.error("Unable to fetch requests.");case 13:return e.prev=13,d(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){m()}),[]),Object(c.jsx)(G,{title:"Requests",data:a.map((function(e){return Object(C.a)(Object(C.a)({},e),{},{documentType:e.documentType.name,approved:e.approved?"Yes":"No",created_at:U()(e.created_at).fromNow(),updated_at:U()(e.updated_at).fromNow()})})),processing:i,onAddClick:function(){return j.push(b("add"))},onViewClick:function(e){var t=e.id;j.push(b("".concat(t)))},onEditClick:function(){},onDeleteConfirm:function(){},onRefreshClick:m,withAction:!0,pagination:!0,dontShowEdit:!0,dontShowDelete:!0})}function je(){var e=Object(o.g)(),t=function(t){return"".concat(e.path).concat(t)};return Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:t("/"),exact:!0,component:ue}),Object(c.jsx)(o.a,{path:t("/add"),component:de})]})}function be(){var e,t=Object(o.g)();return Object(c.jsx)(o.c,{children:Object(c.jsx)(o.a,{path:(e=p,"".concat(t.path).concat(e)),component:je})})}function me(){var e,t=Object(o.g)(),a=[{url:b,icon:"nc-icon nc-bank",title:"Dashboard"},{url:(e=p,"".concat(t.path).concat(e)),icon:"nc-icon nc-tag-content",title:"Requests"}];return Object(c.jsx)("div",{className:"sidebar-wrapper",style:{overflowX:"hidden"},children:Object(c.jsx)("ul",{className:"nav",children:a.map((function(e,t){return Object(c.jsx)("li",{className:I(e.url===window.location.pathname,"active"),children:Object(c.jsxs)(i.b,{to:e.url,children:[Object(c.jsx)("i",{className:e.icon}),Object(c.jsx)("p",{children:e.title})]})},t)}))})})}function he(){var e=Object(o.f)(),t=Object(o.g)();if(!g.has("logged")&&!g.get("logged"))return e.push(u),Object(c.jsx)("div",{});var a,n=g.get("user");return Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsxs)("div",{className:"sidebar","data-color":"white","data-active-color":"danger",children:[Object(c.jsxs)("div",{className:"logo",children:[Object(c.jsx)(i.b,{to:b,className:"simple-text logo-mini",children:Object(c.jsx)("img",{src:"/assets/manifest-icon-512.png",alt:"Logo",className:"rounded-circle"})}),Object(c.jsx)(i.b,{to:b,className:"simple-text logo-normal",children:"PBBDTM"})]}),"Admin"===n.role?Object(c.jsx)(re,{}):null,"Student"===n.role?Object(c.jsx)(me,{}):null]}),Object(c.jsxs)("div",{className:"main-panel h-100",children:[Object(c.jsx)(oe,{}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)(o.a,{path:(a=f,"".concat(t.path).concat(a)),exact:!0,component:le}),"Admin"===n.role?Object(c.jsx)(se,{}):null,"Student"===n.role?Object(c.jsx)(be,{}):null]}),Object(c.jsx)(ie,{})]})]})}var pe=a(19),fe=a.n(pe);function Oe(){var e=Object(n.useState)({email:"",password:""}),t=Object(S.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),l=Object(S.a)(r,2),d=l[0],u=l[1],m=Object(o.f)();g.has("logged")&&g.get("logged")&&m.push(b);var h=function(){var e=Object(y.a)(w.a.mark((function e(){var t,c,n,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,P.a.post("/auth/login",a);case 4:t=e.sent,c=t.data,n=c.user,s=c.token,g.set("logged",!0),g.set("user",n),g.set("token",s),m.push(b),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),J(e.t0),console.log(e.t0);case 16:return e.prev=16,u(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"w-100 h-100vh d-flex ".concat(fe.a.body),children:Object(c.jsx)("div",{className:"align-self-center mx-auto",children:Object(c.jsxs)("div",{className:"card shadow ".concat(fe.a.card),children:[Object(c.jsxs)("div",{className:"card-header text-center",children:[Object(c.jsx)("img",{src:"https://via.placeholder.com/200",alt:"Logo",className:"img-fluid hw-max-75 rounded-circle"}),Object(c.jsx)("h2",{className:"card-title",children:"DTMS"}),Object(c.jsx)("p",{className:"card-text",children:"\ud83c\udf40 Welcome back, please fill in your credentials."})]}),Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),h()},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"email@dtms.com",className:"form-control form-control-sm ".concat(I(d,"disabled")),disabled:d,value:a.email,onChange:function(e){a.email=e.target.value,s(Object(C.a)({},a))}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"form-control form-control-sm ".concat(I(d,"disabled")),disabled:d,value:a.password,onChange:function(e){a.password=e.target.value,s(Object(C.a)({},a))}})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-sm btn-secondary ".concat(I(d,"disabled")),disabled:d,children:d?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Login"})}),Object(c.jsxs)("div",{className:"form-group",children:["Don't have an account?"," ",Object(c.jsx)(i.b,{to:j,className:"d-inline",children:"Register"})]})]})})]})})})}function xe(){var e,t,a=Object(n.useState)({name:"",email:"",password:""}),s=Object(S.a)(a,2),r=s[0],l=s[1],d=Object(n.useState)(!1),j=Object(S.a)(d,2),m=j[0],h=j[1],p=(e=l,t=function(e){return Object(C.a)({},e)},function(a){return e(t(a))}),f=Object(o.f)();g.has("logged")&&g.get("logged")&&f.push(b);var O=function(){var e=Object(y.a)(w.a.mark((function e(){var t,a,c,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,P.a.post("/auth/register",r);case 4:t=e.sent,a=t.data,c=a.user,n=a.token,g.set("logged",!0),g.set("user",c),g.set("token",n),f.push(b),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),J(e.t0),console.log(e.t0);case 16:return e.prev=16,h(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"w-100 h-100vh d-flex ".concat(fe.a.body),children:Object(c.jsx)("div",{className:"align-self-center mx-auto",children:Object(c.jsxs)("div",{className:"card shadow ".concat(fe.a.card),children:[Object(c.jsxs)("div",{className:"card-header text-center",children:[Object(c.jsx)("img",{src:"https://via.placeholder.com/200",alt:"Logo",className:"img-fluid hw-max-75 rounded-circle"}),Object(c.jsx)("h2",{className:"card-title",children:"DTMS"}),Object(c.jsx)("p",{className:"card-text",children:"\ud83c\udf40 New here? Please fill in the required information."})]}),Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O()},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"John Smith",className:"form-control form-control-sm ".concat(I(m,"disabled")),disabled:m,value:r.name,onChange:function(e){r.name=e.target.value,p(r)}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"email@dtms.com",className:"form-control form-control-sm ".concat(I(m,"disabled")),disabled:m,value:r.email,onChange:function(e){r.email=e.target.value,p(r)}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"form-control form-control-sm ".concat(I(m,"disabled")),disabled:m,value:r.password,onChange:function(e){r.password=e.target.value,p(r)}})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-sm btn-secondary ".concat(I(m,"disabled")),disabled:m,children:m?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Register"})}),Object(c.jsxs)("div",{className:"form-group",children:["Already have an account?"," ",Object(c.jsx)(i.b,{to:u,className:"d-inline",children:"Login"})]})]})})]})})})}function ve(){return Object(c.jsx)(i.a,{children:Object(c.jsxs)(o.c,{children:[Object(c.jsx)(o.a,{path:d,exact:!0,component:Oe}),Object(c.jsx)(o.a,{path:u,component:Oe}),Object(c.jsx)(o.a,{path:j,component:xe}),Object(c.jsx)(o.a,{path:b,component:he})]})})}var ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,81)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};a(78);Error.prototype.toJSON=function(){var e={},t=this;return Object.getOwnPropertyNames(t).forEach((function(a){e[a]=t[a]}),t),"stack"in e&&(e.stack=e.stack.split(/\r?\n/).map((function(e){return e.trim()})).filter((function(e,t){return 0!==t}))),e},String.prototype.parseNumbers=function(){var e=this.split(".");if(e.length>1){var t=(e[0].match(/\d/g)||[]).join(""),a=(e[1].match(/\d/g)||[]).join("");return Number("".concat(t,".").concat(a))||0}var c=this.match(/\d/g);return c&&Number(c.join(""))||0};a(79);P.a.defaults.baseURL="http://localhost:8000/api",P.a.defaults.headers.common.Accept="application/json",g.has("token")&&(P.a.defaults.headers.common.Authorization="Bearer ".concat(g.get("token"))),g.listen("token",(function(e){P.a.defaults.headers.common.Authorization="Bearer ".concat(e)})),l.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(ve,{})}),document.getElementById("root")),ge()}},[[80,1,2]]]);
//# sourceMappingURL=main.88cf969b.chunk.js.map