{"version":3,"sources":["styles/Login.module.css","helpers.ts","routes.ts","state.ts","components/Shared/Table.tsx","components/TrackRequest.tsx","components/Shared/Requests/Requests.tsx","components/Shared/Requests/Archived.tsx","constants.ts","components/Shared/Requests/Form.tsx","components/Shared/Requests/Inactive.tsx","components/Shared/Requests/List.tsx","components/Shared/Quill.tsx","components/Shared/Requests/View.tsx","components/Shared/Requests/index.tsx","components/Admin/CMS/Entry.tsx","components/Admin/CMS/FAQ.tsx","components/Admin/CMS/index.tsx","components/Admin/Contacts/List.tsx","components/Admin/Contacts/View.tsx","components/Admin/Contacts/index.tsx","components/Admin/DocumentTypes/Form.tsx","components/Admin/DocumentTypes/List.tsx","components/Admin/DocumentTypes/View.tsx","components/Admin/DocumentTypes/index.tsx","components/Admin/Downloadables/Form.tsx","components/Admin/Downloadables/List.tsx","components/Admin/Downloadables/index.tsx","components/Logs.tsx","components/Admin/Stats.tsx","components/Admin/Users/Form.tsx","components/Admin/Users/List.tsx","components/Admin/Users/View.tsx","components/Admin/Users/index.tsx","components/Admin/index.tsx","components/Admin/Sidebar.tsx","components/Cashier/index.tsx","components/Cashier/Sidebar.tsx","components/Profile.tsx","components/Shared/Footer.tsx","components/Shared/Header.tsx","components/Student/Request/Form.tsx","components/Student/Request/List.tsx","components/Student/Request/View.tsx","components/Student/Request/index.tsx","components/Student/index.tsx","components/Student/Sidebar.tsx","components/Dashboard.tsx","components/Landing/AboutUs.tsx","components/Landing/Carousel.tsx","components/Landing/ContactUs.tsx","components/Landing/Description.tsx","components/Landing/FAQ/Item.tsx","components/Landing/FAQs.tsx","components/Landing/Header.tsx","components/Landing/Nav.tsx","components/Landing/index.tsx","components/Login.tsx","components/Register.tsx","components/Landing/Track.tsx","components/ForgotPassword.tsx","components/ResetPassword.tsx","App.tsx","reportWebVitals.ts","shims.ts","index.tsx"],"names":["module","exports","outIf","condition","output","defaultValue","ucfirst","string","array","split","toUpperCase","join","ucwords","map","word","handleError","error","response","data","message","status","toastr","Object","values","errors","forEach","createTableColumns","length","keys","key","sentencify","words","_","snakeCase","exceptMany","item","copy","except","orEqual","includes","dayjs","extend","relativeTime","Intl","NumberFormat","style","currency","routes","ROOT","ARCHIVED","INACTIVE","State","storage","listeners","this","window","localStorage","getAll","setAll","getItem","parsed","JSON","parse","setItem","stringify","value","dispatch","has","callback","push","index","splice","Table","title","onViewClick","onEditClick","onDeleteConfirm","onRefreshClick","processing","onAddClick","withAction","pagination","border","dontShowView","dontShowEdit","dontShowDelete","disableAddButton","state","kebabCase","toLowerCase","total","page","get","useState","interval","setInterval","Math","ceil","set","current","setCurrent","pageKey","listen","formInterval","setFormInterval","options","setOptions","intervalKey","perPage","useEffect","unlisten","offset","paginatedData","count","columns","column","name","selector","row","sortable","minWidth","className","undefined","onClick","e","preventDefault","onSubmit","htmlFor","type","id","placeholder","onChange","Number","target","overflowY","action","data-toggle","data-target","theme","tabIndex","role","aria-labelledby","aria-hidden","pluralize","singular","data-dismiss","aria-label","modal","$","on","TrackRequest","props","setProcessing","setID","history","useHistory","user","submit","a","axios","request","find","request_id","user_id","info","console","log","toJSON","disabled","trim","Requests","requests","setRequests","match","useRouteMatch","path","readOnly","fetchRequests","filter","expired","approved","deleteRequest","delete","success","renderAcknowledged","isAcknowledgable","acknowledged","currentTarget","setAttribute","classList","add","textContent","dates","Array","from","acknowledged_dates","date","Date","put","fragments","for","filterToRole","created_at","format","updated_at","documentType","evaluation","Archived","statuses","Form","document_type_id","file_id","setData","file","setFile","fileRef","createRef","params","fetchRequest","goBack","payload","FormData","append","post","statusables","getUserStatusables","click","files","ref","Inactive","List","Quill","View","setRequest","updating","setUpdating","currentStatus","setCurrentStatus","smsMessage","setSmsMessage","emailMessage","setEmailMessage","requestID","getNextStatus","location","origin","markTask","task","done","deleting","next","forward","assignedRole","req","sms_message","email_message","Error","exportToPDF","card","String","innerHTML","remove","iframe","css","contentWindow","document","open","write","Promise","all","url","timeout","html","close","focus","setTimeout","print","findDate","to","pathname","href","isForwardable","student_id_number","logs","level","tasks","makeStatuses","cols","rows","exact","component","Entry","cms","setValue","mode","setMode","uploaded","setUploaded","isFile","reader","FileReader","onload","event","result","flex","src","alt","borderTopLeftRadius","borderTopRightRadius","fromNow","readAsDataURL","FAQ","faq","defaultMode","question","setQuestion","answer","setAnswer","CMS","setCMS","faqs","c","fetchCMS","saveCMS","saveFAQ","entity","findIndex","new","position","overflow","width","paddingTop","inset","height","contacts","setContacts","fetchContacts","deleteContact","contact","substr","setContact","fetchContact","contactID","email","Contacts","setFiles","requirements","expiry_days","handleChange","entries","File","fetchDocumentType","documentTypeID","requirement","rel","confirm","documentTypes","setDocumentTypes","fetchDocumentTypes","deleteDocumentType","setDocumentType","DocumentTypes","category","form","reset","downloadables","setDownloadables","fetchDownloadables","deleteDownloadable","downloadable","Downloadables","Logs","setLogs","fetchLogs","reverse","loggable","Stats","users","approved_requests","pending_requests","last_log","stats","setStats","fetchStats","password","phone","fetchUser","userID","setUsers","fetchUsers","deleteUser","profilePicture","setUser","profileURL","Users","Admin","AdminSidebar","links","icon","overflowX","link","Cashier","CashierSidebar","Profile","setProfileURL","changingProfile","removeClass","accept","Footer","bottom","Header","expiring","setExpiring","logout","clear","fetchExpiring","handle","clearInterval","aria-controls","aria-expanded","copies","reason","refs","setRefs","types","setTypes","fetchTypes","createTask","feedback","setFeedback","sendFeedback","Applicant","ApplicantSidebar","Dashboard","data-color","data-active-color","AboutUs","Carousel","random","toString","substring","data-ride","data-slide","ContactUs","Description","Item","show","setShow","FAQs","chunks","last","color","isPreview","URLSearchParams","search","backgroundImage","backgroundPosition","backgroundSize","minHeight","maxHeight","zIndex","display","alignItems","justifyContent","Nav","logged","categories","color-on-scroll","data-placement","Landing","loaded","setLoaded","attr","Login","token","styles","body","textDecoration","Register","callable","password_confirmation","_setData","test","year","getUTCFullYear","mask","Track","ForgotPassword","ResetPassword","useParams","App","verifyUser","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","prototype","_this","getOwnPropertyNames","stack","i","parseNumbers","parts","whole","decimals","defaults","baseURL","process","headers","common","ReactDOM","render","StrictMode","getElementById"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,KAAO,oBAAoB,KAAO,sB,qOCM7C,SAASC,EAASC,EAAoBC,GAAkC,IAAvBC,EAAsB,uDAAP,GACtE,OAAOF,EAAYC,EAAWC,EAGxB,SAASC,EAAQC,GACvB,IAAMC,EAAQD,EAAOE,MAAM,IAE3B,OADAD,EAAM,GAAKA,EAAM,GAAGE,cACbF,EAAMG,KAAK,IAGZ,SAASC,EAAQL,GACvB,OAAOA,EACLE,MAAM,KACNI,KAAI,SAACC,GAAD,MAAoB,OAATA,EAAgB,KAAOR,EAAQQ,MAC9CH,KAAK,KAGD,SAASI,EAAYC,GAC3B,GAAIA,EAAMC,SAAU,CACnB,IAAMA,EAAWD,EAAMC,SACnBA,EAASC,KAAKC,SAA+B,MAApBF,EAASG,OACrCC,IAAOL,MAAMC,EAASC,KAAKC,SACG,MAApBF,EAASG,OACnBE,OAAOC,OAAON,EAASC,KAAKM,QAAQC,SAAQ,SAACD,GAAD,OAAiBA,EAAOC,SAAQ,SAACT,GAAD,OAAgBK,IAAOL,MAAMA,SAC/FA,EAAMG,QAChBE,IAAOL,MAAMA,EAAMG,SAEnBE,IAAOL,MAAM,gDAAiD,cAErDA,EAAMG,SAChBE,IAAOL,MAAMA,EAAMG,SAiBd,SAASO,EAAmBR,GAClC,OAAoB,IAAhBA,EAAKS,OACD,GAGDL,OAAOM,KAAKV,EAAK,IAAIL,KAAI,SAACgB,GAChC,OAAQA,GACP,IAAK,KACJ,MAAO,KACR,IAAK,YACJ,MAAO,iBACR,IAAK,YACJ,MAAO,gBACR,IAAK,aACJ,MAAO,iBACR,IAAK,aACJ,MAAO,gBACR,QACC,OAAOC,EAAWD,OAKf,SAASC,EAAWC,GAC1B,OAAOnB,EAAQoB,IAAEC,UAAUF,GAAOtB,MAAM,KAAKE,KAAK,MAuB5C,SAASuB,EAAiChB,EAAgBU,GAChE,OAAO,YAAIV,GAAML,KAAI,SAACsB,GAAD,OAXf,SAAsCjB,EAASU,GACrD,IADqE,EAC/DQ,EAAI,eAAQlB,GADmD,cAEnDU,GAFmD,IAErE,2BAAwB,CAAC,IAAdC,EAAa,QACnBA,KAAOO,UACHA,EAAKP,IAJuD,8BAOrE,OAAOO,EAIwBC,CAAOF,EAAMP,MAGtC,SAASU,EAAWpB,EAASU,GACnC,OAAOA,EAAKW,SAASrB,GArGtBsB,IAAMC,OAAOC,KAqHK,IAAIC,KAAKC,aAAa,QAAS,CAChDC,MAAO,WACPC,SAAU,QC5HJ,IAAMC,EACN,IADMA,EAEL,SAFKA,EAGF,YAHEA,EAID,aAJCA,EAKI,kBALJA,EAML,SANKA,EAOF,CACTC,KAAM,YACNC,SAAU,YACVC,SAAU,aAVCH,EAYH,WAZGA,EAaG,iBAbHA,EAcP,sBAdOA,EAeF,YAfEA,EAgBG,iBAhBHA,EAiBK,mBAjBLA,EAkBI,kB,gBCRJI,EAAb,WAKC,WAAYtB,GAAe,yBAJ3BuB,aAI0B,OAH1BvB,IAAM,mBAGoB,KAF1BwB,UAAuB,GAGtBC,KAAKF,QAAUG,OAAOC,aAClB3B,IACHyB,KAAKzB,IAAMA,GAEZ,IAAMX,EAAOoC,KAAKG,SAClBH,KAAKI,OAAOxC,GAXd,oDAeE,OAAOoC,KAAKI,OAAO,MAfrB,+BAmBE,IACC,IAAMxC,EAAOoC,KAAKF,QAAQO,QAAQL,KAAKzB,KACvC,IAAKX,EACJ,MAAO,GAER,IAAM0C,EAASC,KAAKC,MAAM5C,GAC1B,MAAsB,kBAAX0C,EACH,GAEDA,EACN,MAAO5C,GACR,MAAO,MA9BV,6BAkCQE,GAEN,OADAoC,KAAKF,QAAQW,QAAQT,KAAKzB,IAAKgC,KAAKG,UAAU9C,IACvCoC,OApCT,0BAuCKzB,GACH,OAAOA,KAAOyB,KAAKG,WAxCrB,0BA2Cc5B,GACZ,OAAOyB,KAAKG,SAAS5B,KA5CvB,0BA+CKA,EAAaoC,GAChB,IAAM/C,EAAOoC,KAAKG,SAGlB,OAFAvC,EAAKW,GAAOoC,EACZX,KAAKY,SAASrC,EAAKoC,GACZX,KAAKI,OAAOxC,KAnDrB,6BAsDQW,GACN,GAAIyB,KAAKa,IAAItC,GAAM,CAClB,IAAMX,EAAOoC,KAAKG,gBACXvC,EAAKW,GACZyB,KAAKI,OAAOxC,GAEb,OAAOoC,OA5DT,+BA+DazB,EAAaoC,GAAW,IAAD,OAIlC,OAHIpC,KAAOyB,KAAKD,WACfC,KAAKD,UAAUxB,GAAKJ,SAAQ,SAAC2C,GAAD,OAAcA,EAASH,EAAO,MAEpDX,OAnET,6BAsEWzB,EAAauC,GAItB,OAHMvC,KAAOyB,KAAKD,YACjBC,KAAKD,UAAUxB,GAAO,IAEhByB,KAAKD,UAAUxB,GAAKwC,KAAKD,GAAY,IA1E9C,+BA6EUvC,EAAayC,GACfzC,KAAOyB,KAAKD,WAGlBC,KAAKD,UAAUxB,GAAK0C,OAAOD,EAAO,OAjFpC,KAqFe,MAAInB,E,4CCpEZ,SAASqB,GAAT,GAgBO,IAfbC,EAeY,EAfZA,MACAvD,EAcY,EAdZA,KACAwD,EAaY,EAbZA,YACAC,EAYY,EAZZA,YACAC,EAWY,EAXZA,gBACAC,EAUY,EAVZA,eACAC,EASY,EATZA,WACAC,EAQY,EARZA,WACAC,EAOY,EAPZA,WACAC,EAMY,EANZA,WACAC,EAKY,EALZA,OACAC,EAIY,EAJZA,aACAC,EAGY,EAHZA,aACAC,EAEY,EAFZA,eACAC,EACY,EADZA,iBAEMC,EAAQ,IAAIpC,EAAMnB,IAAEwD,UAAUf,EAAMgB,cAAgB,WAEpDC,EAAQxE,EAAKS,OACbgE,EAAOJ,EAAMpB,IAAI,QAAUoB,EAAMK,IAAI,QAAU,EAJzC,EAMoBC,mBAASN,EAAMpB,IAAI,WAAaoB,EAAMK,IAAY,WAAa,IANnF,mBAMLE,EANK,KAMKC,EANL,KAORJ,EAAOK,KAAKC,KAAKP,EAAQI,IAAaP,EAAMpB,IAAI,SACnDoB,EAAMW,IAAI,OAAQ,GARP,MAUkBL,mBAASF,GAAQK,KAAKC,KAAKP,EAAQI,GAAYH,EAAO,GAVxE,mBAULQ,EAVK,KAUIC,EAVJ,KAWNC,EAAUd,EAAMe,OAAe,QAAQ,SAACX,GAAD,OAAUS,EAAWT,MAXtD,EAY4BE,mBAASC,GAZrC,mBAYLS,EAZK,KAYSC,EAZT,OAakBX,oBAAS,GAb3B,mBAaLY,EAbK,KAaIC,EAbJ,KAeNC,EAAcpB,EAAMe,OAAe,WAAW,SAACM,GAChDT,EAAUH,KAAKC,KAAKP,EAAQkB,IAC/BrB,EAAMW,IAAI,OAAQ,GAEnBH,EAAYa,MAGbC,qBACC,kBAAM,WACLtB,EAAMuB,SAAS,OAAQT,GACvBd,EAAMuB,SAAS,UAAWH,MAG3B,IAOD,IAJA,IAAMI,GAAUZ,EAAU,GAAKL,EAEzBkB,EAA4B,GAEzBC,EAAQF,EAAQE,EAAQF,EAASjB,EAAUmB,IACxB,qBAAhB/F,EAAK+F,IACfD,EAAc3C,KAAKnD,EAAK+F,IAI1B,IAAMC,EACLhG,EAAKS,OAAS,EACXL,OAAOM,KAAKV,EAAK,IAAIL,KAAI,SAACsG,GAAD,MAAa,CACtCC,KAAMtF,EAAWqF,GACjBE,SAAW,SAACC,GAAD,OAAcA,EAAIH,IAC7BI,UAAU,EACVC,SAAU,YAEV,GAWJ,OATIxC,GACHkC,EAAQ7C,KAAK,CACZ+C,KAAM,UACNC,SAAU,SAACC,GAAD,OAAcA,EAAG,QAC3BC,UAAU,EACVC,SAAU,UAKX,qBAAKC,UAAU,MAAf,SACC,qBAAKA,UAAU,SAAf,SACC,sBAAKA,UAAS,eAAUvC,EAAS,SAAW,GAA9B,UAAd,UACC,sBAAKuC,UAAU,uBAAf,UACC,sBAAKA,UAAU,SAAf,UACC,oBAAIA,UAAU,yBAAd,SAAwChD,IACxC,sBAAKgD,UAAU,mCAAf,WACEzC,QAAoC0C,IAArBpC,IAAuD,IAArBA,EAI9C,KAHH,mBACCmC,UAAS,mEACTE,QAAS,kBAAM5C,OAEhBC,EACA,mBACCyC,UAAS,4EACR3C,EAAa,UAAY,IAE1B6C,QAAS,kBAAM9C,OACb,WAGLI,EACA,sBAAKwC,UAAU,OAAf,UACC,qBAAKA,UAAU,OAAf,SACC,yBACCA,UAAS,kBAAchB,EAAsB,SAAZ,UAAxB,kBACTkB,QAAS,SAACC,GACTA,EAAEC,iBACFnB,GAAYD,IAJd,UAMGA,EAAmB,OAAT,OANb,gBASAA,EACA,uBACCgB,UAAU,qBACVK,SAAU,SAACF,GACVA,EAAEC,iBACFtC,EAAMW,IAAI,UAAWK,GAAgB,EAAIA,EAAe,KAJ1D,UAMC,sBAAKkB,UAAU,iBAAf,UACC,uBAAOM,QAAQ,UAAUN,UAAU,OAAnC,4BAGA,uBACCO,KAAK,SACLZ,KAAK,UACLa,GAAG,UACHC,YAAY,WACZjE,MAAOsC,EACP4B,SAAU,SAACP,GAAD,OAAOpB,EAAgB4B,OAAOR,EAAES,OAAOpE,SACjDwD,UAAU,oCAGZ,qBAAKA,UAAU,iBAAf,SACC,wBAAQO,KAAK,SAASP,UAAU,yBAAhC,yBAKC,QAEF,QAEJ3C,EACA,qBAAK2C,UAAU,YAAf,SACC,qBAAKA,UAAU,cAAf,SACC,mBAAGA,UAAU,0CAIf,sBAAKA,UAAU,YAAf,UACEvG,EAAKS,OAAS,EACd,qBAAK8F,UAAU,mBAAmB5E,MAAO,CAAEyF,UAAW,UAAtD,SACC,cAAC,KAAD,CACCpB,QAASA,EACThG,KAAMA,EAAKL,KAAI,SAACsB,EAAMmC,GAAP,mBAAC,eACZnC,GADW,IAEdoG,OACC,sBAAKd,UAAS,uBAAmBzC,EAAwB,GAAX,UAA9C,UACE9E,OACiBwH,IAAjBvC,IAA+C,IAAjBA,EAC9B,yBAAQsC,UAAU,oBAAoBE,QAAS,kBAAMjD,EAAYvC,IAAjE,UACC,mBAAGsF,UAAU,8BADd,WAKAvH,OACiBwH,IAAjBtC,IAA+C,IAAjBA,EAC9B,yBAAQqC,UAAU,oBAAoBE,QAAS,kBAAMhD,EAAYxC,IAAjE,UACC,mBAAGsF,UAAU,oCADd,WAKAvH,OACmBwH,IAAnBrC,IAAmD,IAAnBA,EAChC,yBACC2C,KAAK,SACLQ,cAAY,QACZC,cAAA,sBAA4BnE,GAC5BmD,UAAU,oBAJX,UAKC,mBAAGA,UAAU,iCALd,qBAYJxC,YAAU,EACVyD,MAAO,cAGN,KACa,IAAhBxH,EAAKS,OACL,qBAAK8F,UAAU,YAAf,SACC,oBAAIA,UAAU,cAAd,uBAEE,QAGLzC,EACE9D,EAAKL,KAAI,SAACsB,EAAMmC,GAAP,OACT,qBAECmD,UAAU,aACVQ,GAAE,qBAAgB3D,GAClBqE,UAAW,EACXC,KAAK,SACLC,kBAAA,0BAAoCvE,GACpCwE,cAAY,OAPb,SAQC,qBAAKrB,UAAU,8CAA8CmB,KAAK,WAAlE,SACC,sBAAKnB,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UACC,qBAAIA,UAAU,cAAcQ,GAAE,0BAAqB3D,GAAnD,oBACSyE,IAAUC,SAASvE,MAE5B,wBAAQuD,KAAK,SAASP,UAAU,QAAQwB,eAAa,QAAQC,aAAW,QAAxE,SACC,sBAAMJ,cAAY,OAAlB,uBAGF,sBAAKrB,UAAU,aAAf,kDACuCsB,IAAUC,SAASlH,EAAW2C,IADrE,OAGA,sBAAKgD,UAAU,eAAf,UACC,wBACCO,KAAK,SACLP,UAAU,wBACVE,QAAS,SAACC,GACTA,EAAEC,iBACF,IAAMsB,EAAQC,EAAE,eAAD,OAAgB9E,IAC/B6E,EAAME,GAAG,mBAAmB,kBAAMzE,EAAgBzC,MAClDgH,EAAMA,MAAM,SAPd,qBAWA,wBAAQnB,KAAK,SAASP,UAAU,2BAA2BwB,eAAa,QAAxE,6BAhCE3E,MAwCN,Y,uBC7PD,SAASgF,GAAaC,GAAe,IAAD,EACN1D,oBAAS,GADH,mBACnCf,EADmC,KACvB0E,EADuB,OAEtB3D,mBAAS,IAFa,mBAEnCoC,EAFmC,KAE/BwB,EAF+B,KAGpCC,EAAUC,cAEVC,EAAOrE,EAAMK,IAAU,QAEvBiE,EAAM,uCAAG,gCAAAC,EAAA,6DACdN,GAAc,GADA,kBAGUO,KAAMnE,IAAoB,aAHpC,mBAGL1E,EAHK,EAGLA,OACF8I,EAAU9I,EAAK+I,MAAK,SAACD,GAAD,OAAaA,EAAQE,WAAW3H,SAAS0F,IAAO+B,EAAQE,aAAejC,OAChF1C,EAAMpB,IAAI,WAAcoB,EAAMK,IAAI,gBAAmC8B,IAAtBnC,EAAMK,IAAI,QAL7D,yCAML8D,EAAQrF,KAAR,UAAgBtB,EAAhB,YAAwCiH,EAAQ/B,MAN3C,UAQR+B,IAA0B,cAAdJ,EAAKhB,MAAwBoB,EAAQG,UAAYP,EAAK3B,IAR1D,0CASL5G,IAAO+I,KAAK,yBAA0B,WATjC,QAWbV,EAAQrF,KAAR,8BAAoC2F,EAAQ/B,KAX/B,kDAaboC,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,+BAAgC,SAdhC,yBAgBbwI,GAAc,GAhBD,6EAAH,qDAoBZ,OACC,qBAAK/B,UAAS,sBAAiB8B,EAAM9B,WAArC,SACC,qBAAKA,UAAU,YAAf,SACC,uBACCA,UAAU,cACVK,SAAU,SAACF,GACVA,EAAEC,iBACFgC,KAJF,UAMC,qBAAKpC,UAAU,aAAf,SACC,uBACCO,KAAK,OACLE,YAAY,aACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAOgE,EACPE,SAAU,SAACP,GACV6B,EAAM7B,EAAES,OAAOpE,MAAMwG,aAIxB,qBAAKhD,UAAU,aAAf,SACC,wBAAQO,KAAK,SAASP,UAAS,0BAAqBvH,EAAM4E,EAAY,aAAe0F,SAAU1F,EAA/F,SACEA,EAAa,aAAe,2BCjDpC,IAqOe4F,GArOa,WAAO,IAAD,EACD7E,mBAAyB,IADxB,mBAC1B8E,EAD0B,KAChBC,EADgB,OAEG/E,oBAAS,GAFZ,mBAE1Bf,EAF0B,KAEd0E,EAFc,KAG3BqB,EAAQC,cACRpB,EAAUC,cAEVoB,EAAO,SAACA,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAEzCC,EAAWH,EAAME,KAAKxI,SAASQ,EAAgBG,WAAa2H,EAAME,KAAKxI,SAASQ,EAAgBE,UAEhGgI,EAAa,uCAAG,8BAAAnB,EAAA,6DACrBN,GAAc,GADO,kBAGGO,KAAMnE,IAAoB,aAH7B,mBAGZ1E,EAHY,EAGZA,MACJ2J,EAAME,KAAKxI,SAASQ,EAAgBG,UAJpB,yCAKZ0H,EACN1I,EAAWhB,EAAM,CAChB,OACA,UACA,UACA,mBACA,QACA,SACA,eACA,UACA,QACA,MACA,aACA,uBACEgK,QAAO,SAAClB,GAAD,OAAaA,EAAQmB,aAnBb,WAsBhBN,EAAME,KAAKxI,SAASQ,EAAgBE,UAtBpB,0CAuBZ2H,EACN1I,EAAWhB,EAAM,CAChB,OACA,UACA,UACA,mBACA,QACA,SACA,eACA,UACA,QACA,MACA,aACA,uBACEgK,QAAO,SAAClB,GAAD,OAAaA,EAAQoB,cArCb,QAwCpBR,EACC1I,EAAWhB,EAAM,CAAC,OAAQ,UAAW,UAAW,mBAAoB,QAAS,QAAS,MAAO,wBAzC1E,kDA4CpBmJ,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,6BA7CO,yBA+CpBwI,GAAc,GA/CM,6EAAH,qDAmDb6B,EAAa,uCAAG,WAAOpD,GAAP,SAAA6B,EAAA,6DACrBN,GAAc,GADO,kBAGdO,KAAMuB,OAAN,uBAA6BrD,IAHf,cAIpB5G,IAAOkK,QAAQ,iCAJK,SAKdN,IALc,uDAOpBZ,QAAQC,IAAI,KAAMC,UAClBxJ,EAAY,EAAD,IACXyI,GAAc,GATM,yDAAH,sDAabI,EAAOrE,EAAMK,IAAU,QAsCvB4F,EAAqB,SAACxB,GAC3B,OAlBwB,SAACA,GACzB,OAAQA,EAAQ5I,QACf,IAAK,WACJ,MAAqB,UAAdwI,EAAKhB,KACb,IAAK,UACJ,MAAqB,YAAdgB,EAAKhB,KACb,IAAK,aACJ,MAAqB,eAAdgB,EAAKhB,KACb,IAAK,YACJ,MAAqB,cAAdgB,EAAKhB,MAAsC,aAAdgB,EAAKhB,KAC1C,IAAK,SACJ,MAAqB,cAAdgB,EAAKhB,KACb,QACC,OAAO,GAKL6C,CAAiBzB,GACbA,EAAQ0B,aACd,wBAAQjE,UAAU,kCAAkC+C,UAAQ,EAA5D,kBAIA,wBACC/C,UAAU,sBACVE,QAAO,uCAAE,WAAOC,GAAP,mBAAAkC,EAAA,6DACRlC,EAAEC,iBACFD,EAAE+D,cAAcC,aAAa,WAAY,QACzChE,EAAE+D,cAAcE,UAAUC,IAAI,YAC9BlE,EAAE+D,cAAcI,YAAc,mBAJtB,kBAMgBhC,KAAMnE,IAAN,4BAA+BoE,EAAQ/B,KANvD,uBAMC/G,EAND,EAMCA,MACF8K,EAAQC,MAAMC,KAAuBrI,KAAKC,MAAM5C,EAAKiL,sBACrD9H,KAAK,CAAE+H,MAAM,IAAIC,MAAO9B,SAAUnJ,OAAQF,EAAKE,SAEnC,cAAdwI,EAAKhB,MACRoD,EAAM3H,KAAK,CAAE+H,MAAM,IAAIC,MAAO9B,SAAUnJ,OAAQ,cAX1C,UAcD2I,KAAMuC,IAAN,uBAA0BpL,EAAK+G,IAAM,CAC1CyD,cAAc,EACdS,mBAAoBtI,KAAKG,UAAUgI,KAhB7B,eAkBP3K,IAAO+I,KAAK,wBAAyB,UAlB9B,UAmBDa,IAnBC,0DAqBPZ,QAAQC,IAAI,KAAMC,SAAUP,GAC5B3I,IAAOL,MAAM,kCAtBN,0DAAF,sDAFR,yBA+BKgJ,EAAQ0B,aAAe,sBAAMjE,UAAU,oBAAhB,iBAAiD,sBAAMA,UAAU,kBAAhB,iBAQhF,OALAZ,qBAAU,WACToE,MAEE,IAGF,qCACC,cAAC3B,GAAD,IACA,cAAC9E,GAAD,CACCC,MAAQ,WACP,IAAKuG,EACJ,MAAO,WAER,IAAMuB,EAAY1B,EAAME,KAAKtK,MAAM,KACnC,MAAM,GAAN,OAAUH,EAAQiM,EAAUA,EAAU5K,OAAS,IAA/C,aALO,GAORuF,QAASxF,EAAmBiJ,GAC5BzJ,KA9FkB,SAACyJ,GACrB,OAAQf,EAAKhB,MACZ,IAAK,QACJ,OAAO+B,EACR,IAAK,UACJ,OAAOA,EAASO,QAAO,SAAClB,GAAD,MAAgC,YAAnBA,EAAQ5I,UAC7C,IAAK,aACJ,OAAOuJ,EAASO,QAAO,SAAClB,GAAD,MAAgC,eAAnBA,EAAQ5I,UAC7C,IAAK,WACJ,OAAOuJ,EAASO,QAAO,SAAClB,GAAD,OAAcA,EAAQwC,KAAuB,cAAhBxC,EAAQwC,OAC7D,IAAK,YACJ,OAAO7B,EAASO,QAAO,SAAClB,GAAD,OAAcA,EAAQwC,KAAuB,aAAhBxC,EAAQwC,OAC7D,IAAK,YACJ,OAAO7B,EAASO,QAAO,SAAClB,GAAD,MAAgC,WAAnBA,EAAQ5I,QAA0C,cAAnB4I,EAAQ5I,UAC5E,IAAK,YACJ,OAAOuJ,EAASO,QAAO,SAAClB,GAAD,OAAaA,EAAQG,UAAYP,EAAK3B,OA+EvDwE,CAAa9B,GACjB9J,KAAI,SAACmJ,GAAD,mBAAC,eACFA,GADC,IAEJ0C,WAAYlK,IAAMwH,EAAQ0C,YAAYC,OAAO,yBAC7CC,WAAYpK,IAAMwH,EAAQ4C,YAAYD,OAAO,yBAC7C/C,KAAMI,EAAQJ,KAAMxC,KACpByF,aAAc7C,EAAQ6C,aAAczF,KACpCgE,SAAUpB,EAAQoB,SACjB,sBAAM3D,UAAU,oBAAhB,iBAEA,sBAAMA,UAAU,kBAAhB,gBAEDiE,aACEb,EAAME,KAAKxI,SAASQ,EAAgBE,WAAc4H,EAAME,KAAKxI,SAASQ,EAAgBG,UAEpF,GADAsI,EAAmBxB,GAEvB8C,WAAY9C,EAAQ8C,WAAa9C,EAAQ8C,WAAa,QAEtDjM,KAAI,SAACmJ,GACL,OAAKa,EAAME,KAAKxI,SAASQ,EAAgBE,WAAc4H,EAAME,KAAKxI,SAASQ,EAAgBG,UAgBpF8G,EAfC,2BACHA,GADJ,IAECmB,QAASnB,EAAQmB,QAChB,sBAAM1D,UAAU,kBAAhB,iBAEA,sBAAMA,UAAU,oBAAhB,gBAEDrG,OAAQ4I,EAAQ0B,aACf,sBAAMjE,UAAU,oBAAhB,SAAqCuC,EAAQ5I,SAE7C,sBAAMqG,UAAU,qBAAhB,0BAOL3C,WAAYA,EACZC,WAAY,kBAAM2E,EAAQrF,KAAK0G,EAAK,SACpCrG,YAAa,YAAa,IAAVuD,EAAS,EAATA,GACfyB,EAAQrF,KAAK0G,EAAK,GAAD,OAAI9C,MAEtBtD,YAAa,YAAa,IAAVsD,EAAS,EAATA,GACfyB,EAAQrF,KAAK0G,EAAK,GAAD,OAAI9C,EAAJ,YAElBrD,gBAAiB,YAAa,IAAVqD,EAAS,EAATA,GACnBoD,EAAcpD,IAEfpD,eAAgBoG,EAChBjG,YAAagG,EACb/F,YAAY,EACZE,aAA4B,cAAdyE,EAAKhB,MAAwBoC,EAC3C3F,eAA8B,cAAduE,EAAKhB,MAAwBoC,EAC7C1F,iBAAgC,cAAdsE,EAAKhB,MAAwBoC,QCrOpC+B,GAJa,SAACxD,GAC5B,OAAO,cAAC,GAAD,K,SCNKyD,GAAW,CAAC,WAAY,UAAW,aAAc,YAAa,SAAU,YAAa,YCU3F,SAASC,KAAQ,IAAD,UACcpH,oBAAS,GADvB,mBACff,EADe,KACH0E,EADG,KAEhBI,EAAOrE,EAAMK,IAAU,QAFP,EAGEC,mBAAc,CACrCqH,kBAAmB,EACnB9B,UAAU,EACVhK,OAAQ,WACR+I,QAASP,EAAK3B,GACdkF,QAAS,KACTvD,KAAM,CACLxC,KAAoB,cAAdwC,EAAKhB,KAAuBgB,EAAKxC,KAAO,QAE/CyF,aAAc,CACbzF,KAAM,QAEP+E,mBAAoBtI,KAAKG,UAAU,MAfd,mBAGf9C,EAHe,KAGTkM,EAHS,OAiBEvH,mBAAsB,MAjBxB,mBAiBfwH,EAjBe,KAiBTC,EAjBS,KAmBhBC,EAAUC,sBAEV9D,EAAUC,cArBM,EA+BGmB,cAAjB2C,EA/Bc,EA+BdA,OAAQ1C,EA/BM,EA+BNA,KAEV2C,EAAY,uCAAG,8BAAA5D,EAAA,6DACd7B,EAAKwF,EAAOxF,GADE,kBAGI8B,KAAMnE,IAAN,4BAA+BqC,IAHnC,OAGbhH,EAHa,OAInBmM,EAAQ,2BACJnM,EAASC,MADN,IAENmM,KAAM,QANY,gDASnBhD,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,4BACb0I,EAAQiE,SAXW,yDAAH,qDAelB9G,qBAAU,WACLkE,EAAKxI,SAAS,SACjBmL,MAGC,IAEH,IAAM7D,EAAM,uCAAG,oCAAAC,EAAA,0DACVhF,EADU,iDAWb,IATD0E,GAAc,GAFA,UAIPoE,EAAU,IAAIC,UACZC,OAAO,UAAW,OAEtBT,IACHnM,EAAKmM,KAAOA,GAGb,MAAkB,CAAC,eAAgB,OAAQ,QAAS,QAAS,OAAQ,aAAc,WAAnF,sBACQnM,EADuF,MAI/F,IAAWW,KAAOX,EACX+C,EAAQ/C,EAAKW,GACnB+L,EAAQE,OAAOjM,EAAKoC,GAjBR,iBAoBP8F,KAAMgE,KAAc,YAAaH,GApB1B,QAqBbvM,IAAOkK,QAAQ,iCACf+B,EAAQ,MAtBK,kDAwBbvM,EAAY,EAAD,IAxBE,yBA0BbyI,GAAc,GA1BD,6EAAH,qDAiDNwE,EAnBqB,WAC1B,OAAQpE,EAAKhB,MACZ,IAAK,QAEL,IAAK,YAEL,IAAK,WACJ,MAAO,CAAC,WAAY,UAAW,aAAc,YAAa,SAAU,YAAa,YAClF,IAAK,UACJ,MAAO,CAAC,UAAW,cACpB,IAAK,aACJ,MAAO,CAAC,SAAU,YACnB,IAAK,YACJ,MAAO,CAAC,YAAa,YACtB,QACC,MAAO,IAIUqF,GAEpB,OACC,uBACCxG,UAAU,YACVK,SAAQ,uCAAE,WAAOF,GAAP,SAAAkC,EAAA,6DACTlC,EAAEC,iBADO,SAEHgC,IAFG,2CAAF,sDAFT,UAMC,sBAAKpC,UAAU,SAAf,UACC,oBAAIA,UAAU,yBAAd,4BACA,wBACCA,UAAU,gDACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQiE,UAJV,qBASD,sBAAKlG,UAAU,aAAf,UACC,uBAAOM,QAAQ,mBAAf,2BACA,wBACCX,KAAK,mBACLa,GAAG,mBACHR,UAAU,+BACV+C,SAAwB,cAAdZ,EAAKhB,KAJhB,SAKC,wBAAQ3E,MAAK,UAAE/C,EAAK2L,oBAAP,aAAE,EAAmBzF,KAAlC,mBAAyClG,EAAK2L,oBAA9C,aAAyC,EAAmBzF,YAG9D,sBAAKK,UAAU,aAAf,UACC,uBAAOM,QAAQ,UAAf,kBACA,wBACCX,KAAK,UACLa,GAAG,UACHC,YAAY,OACZT,UAAU,+BACV+C,SAAwB,cAAdZ,EAAKhB,KALhB,SAMC,wBAAQ3E,MAAK,UAAE/C,EAAK0I,YAAP,aAAE,EAAWxC,KAA1B,mBAAiClG,EAAK0I,YAAtC,aAAiC,EAAWxC,YAG9C,sBAAKK,UAAU,aAAf,UACC,uBAAOM,QAAQ,SAAf,oBACA,yBACCX,KAAK,SACLa,GAAG,SACHC,YAAY,SACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVqD,SAlIiB,SAACP,GAA0D,IAAD,EACxDA,EAAES,OAAhBJ,EADsE,EACtEA,GAAIhE,EADkE,EAClEA,MACZmJ,EAAQ,2BACJlM,GADG,mBAEL+G,EAAKhE,MA+HJA,MAAO/C,EAAKE,OAPb,UAQC,wBAAQ6C,MAAM,GAAd,4BACC+I,GACC9B,QAAO,SAAC9J,GAAD,OAAY4M,EAAYzL,SAASnB,MACxCP,KAAI,SAACO,EAAQkD,GAAT,OACJ,wBAAQL,MAAO7C,EAAf,SACEA,GAD0BkD,YAMhC,sBAAKmD,UAAU,aAAf,UACC,uBAAOM,QAAQ,WAAf,sBACA,yBACCX,KAAK,WACLa,GAAG,WACHC,YAAY,WACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,GAA6B,UAAd8E,EAAKhB,MAAkC,cAAdgB,EAAKhB,KACvD3E,MAAO/C,EAAKkK,SAAW,MAAQ,KAC/BjD,SAAU,SAACP,GACQ,UAAdgC,EAAKhB,MAAkC,cAAdgB,EAAKhB,OACV,QAAnBhB,EAAES,OAAOpE,MACZmJ,EAAQ,2BACJlM,GADG,IAENkK,UAAU,KAGXgC,EAAQ,2BACJlM,GADG,IAENkK,UAAU,OAjBf,UAsBC,wBAAQnH,MAAM,MAAd,iBACA,wBAAQA,MAAM,KAAd,sBAGD/C,EAAKkK,SACL,sBAAK3D,UAAU,aAAf,UACC,wBACCA,UAAS,iCAA4BvH,EAAM4E,GAAuB,OAATuI,EAAe,aACxE7C,SAAU1F,GAA6B,UAAd8E,EAAKhB,MAAkC,cAAdgB,EAAKhB,MAAkC,OAATyE,EAChF1F,QAAS,SAACC,GAAO,IAAD,EACfA,EAAEC,iBACF,UAAA0F,EAAQpH,eAAR,SAAiB+H,SALnB,SAOW,OAATb,EAAgB,gBAAkB,gCAEpC,uBACCrF,KAAK,OACLC,GAAG,OACHb,KAAK,OACLc,YAAY,OACZT,UAAS,sCACT+C,SAAU1F,GAA6B,UAAd8E,EAAKhB,MAAkC,cAAdgB,EAAKhB,MAAkC,OAATyE,EAChFlF,SAAU,SAACP,IACS,UAAdgC,EAAKhB,MAAkC,cAAdgB,EAAKhB,OAAyBhB,EAAES,OAAO8F,OAASvG,EAAES,OAAO8F,MAAMxM,OAAS,GACrG2L,EAAQ1F,EAAES,OAAO8F,MAAM,KAGzBC,IAAKb,OAGJ,KACJ,qBAAK9F,UAAU,aAAf,SACC,wBAAQO,KAAK,SAASP,UAAS,iCAA4BvH,EAAM4E,EAAY,aAAe0F,SAAU1F,EAAtG,SACEA,EACA,qBAAK2C,UAAU,OAAf,SACC,mBAAGA,UAAU,4BAGd,cCxON,IAIe4G,GAJa,SAAC9E,GAC5B,OAAO,cAAC,GAAD,KCHD,SAAS+E,KACf,OAAO,cAAC,GAAD,I,+BCSOC,GAJU,SAAC,GAAyB,IAAvBpG,EAAsB,EAAtBA,SAAUlE,EAAY,EAAZA,MACrC,OAAO,cAAC,KAAD,CAAYkE,SAAUA,EAAUlE,MAAOA,KCMxC,SAASuK,KAAQ,IAAD,MACQ3I,mBAAyB,MADjC,mBACfmE,EADe,KACNyE,EADM,KAEhB/E,EAAUC,cAFM,EAGU9D,oBAAS,GAHnB,mBAGf6I,EAHe,KAGLC,EAHK,OAIoB9I,mBAAS,aAJ7B,mBAIf+I,EAJe,KAIAC,EAJA,OAKchJ,mBAAS,IALvB,mBAKfiJ,EALe,KAKHC,EALG,OAMkBlJ,mBAAS,sBAN3B,mBAMfmJ,EANe,KAMDC,EANC,KAQhBrF,EAAOrE,EAAMK,IAAU,QAEvB8H,EAAY,uCAAG,WAAOwB,GAAP,mBAAApF,EAAA,+EAEIC,KAAMnE,IAAN,4BAAwCsJ,IAF5C,gBAEXhO,EAFW,EAEXA,KACRuN,EAAWvN,GACX6N,EAAc,qBAAD,OACS7N,EAAKgJ,WADd,iCACiDiF,EAAcvF,EAAKhB,MADpE,aAEXrF,OAAO6L,SAASC,OAFL,+BAGWnO,EAAK+G,KAE7BgH,EAAgB,sDAAD,iBAEU/N,EAAK0I,YAFf,aAEU,EAAWxC,KAFrB,2DAGyBlG,EAAKgJ,WAH9B,+BAG+DiF,EAAcvF,EAAKhB,MAHlF,0DAIqBgB,EAAKxC,KAJ1B,sDAKqB5E,MAAQmK,OAAO,iBALpC,+CATI,kDAkBnB5L,EAAY,EAAD,IACX2I,EAAQiE,SAnBW,0DAAH,sDAuBZ2B,EAAQ,uCAAG,WAAOC,EAAYC,GAAnB,SAAA1F,EAAA,+EAETC,KAAMuC,IAAI,kBAAV,2BACFiD,GADE,IAELC,OACApI,KAAMwC,EAAKxC,QALG,OAOf/F,IAAO+I,KAAK,gBAAiB,UAC7BsD,EAAa,GAAD,cAAI1D,QAAJ,IAAIA,OAAJ,EAAIA,EAAS/B,KARV,gDAUfoC,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,yBAA0B,SAXxB,yDAAH,wDAeVyO,GAAW,EAETpE,EAAa,uCAAG,sBAAAvB,EAAA,0DACjB2F,EADiB,wDAIrBA,GAAW,EAJU,kBAMd1F,KAAMuB,OAAN,8BAA6BtB,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAS/B,KANxB,OAOpB5G,IAAOkK,QAAQ,iCACf7B,EAAQiE,SARY,kDAUpB5M,EAAY,EAAD,IAVS,yBAYpB0O,GAAW,EAZS,6EAAH,qDA4CXhC,EAAW3C,cAAX2C,OAER5G,qBAAU,WACT6G,EAAaD,EAAOxF,MAElB,IAEH,IAAMyH,EAAQ,SAAC9G,GACd,OAAQA,GACP,IAAK,QACJ,MAAO,iCACR,IAAK,UACJ,MAAO,yCACR,IAAK,aACJ,MAAO,qBACR,IAAK,WAEL,IAAK,YACJ,MAAO,uDACR,IAAK,YACJ,MAAO,qCACR,QACC,MAAO,IAfI,CAiBXgB,EAAKhB,MAEF+G,EAAO,uCAAG,WAAOC,GAAP,uBAAA9F,EAAA,yDACf6E,GAAY,GACNzN,EAAY,GAFH,SAIkB0H,EAK7BgB,EAAKhB,KAJHgH,IACH1O,EAAKsL,IAAMoD,GAFPxO,EAIE+N,EAAcvG,IAGlB,CAAC,YAAa,YAAYrG,SAASqH,EAAKhB,MAX9B,iCAYemB,KAAMnE,IAAN,mCAA+BoE,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAS/B,KAZvD,gBAYC4H,EAZD,EAYL3O,MACF8K,EAAQC,MAAMC,KAAuBrI,KAAKC,MAAM+L,EAAI1D,sBAEpD9H,KAAK,CAAE+H,MAAM,IAAIC,MAAO9B,SAAUnJ,OAAQ,WAEhDF,EAAKiL,mBAAqBtI,KAAKG,UAAUgI,GAjB5B,yBAoBRjC,KAAMuC,IAAN,8BAA0BtC,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAS/B,IAAnC,2BACF/G,GADE,IAELE,SACAsK,aAAc,CAAC,YAAa,YAAYnJ,SAASnB,GACjD0O,YAAahB,EACbiB,cAAef,KAzBF,QA2Bd3N,IAAO+I,KAAK,0CAA2C,UACvDV,EAAQiE,SA5BM,kDA8BdtD,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,gDAAiD,qBA/BhD,yBAiCd2N,GAAY,GAjCE,+CAIiB,IAAC/F,IAJlB,2BAAH,sDAqCPuG,EAAgB,SAACvG,GACtB,OAAQA,GACP,IAAK,QACJ,MAAO,UACR,IAAK,UACJ,MAAO,aACR,IAAK,aACJ,MAAO,YACR,IAAK,WAEL,IAAK,YACJ,MAAO,SACR,IAAK,YACJ,MAAO,YACR,QACC,MAAM,IAAIoH,MAAJ,wBAA2BpH,MAqB9ByG,EAAS9L,OAAO6L,SAASC,OACzBY,EAAW,uCAAG,kCAAAnG,EAAA,yDACnBzI,IAAO+I,KAAK,2BACN8F,EAAO9G,EAAE+G,OAAO/G,EAAE,iBAAiB,GAAGgH,aAEvCnG,KAAK,UAAUoG,SACpBH,EAAKjG,KAAK,mBAAmBoG,SAC7BH,EAAKjG,KAAK,+BAA+BoG,SACzCH,EAAKjG,KAAK,2BAA2BoG,SACrCH,EAAKjG,KAAK,mBAAmBoG,SAC7BH,EAAKjG,KAAK,qBAAqBoG,SAEzBC,EAASlH,EAAE,WAAW,GACtBmH,EAAM,CACX,+EACA,8EACA,iEACAlB,EAAS,gCACTA,EAAS,kCACTA,EAAS,yBAIJ,QAFA9L,EAAS+M,EAAOE,qBAEhB,IAANjN,KAAQkN,SAASC,QAEbnN,IAAUA,EAAOkN,SAxBF,wBAyBlBlN,EAAOkN,SAASE,MAAM,UAzBJ,UA2BGC,QAAQC,IAC5BN,EAAI1P,IAAJ,uCAAQ,WAAOiQ,GAAP,iBAAAhH,EAAA,+EAEiBC,KAAMnE,IAAYkL,EAAK,CAAEC,QAAS,MAFnD,uBAEE7P,EAFF,EAEEA,KAFF,mCAGWA,EAHX,4FAKgB4P,EALhB,mFAAR,wDA5BiB,eAsCXrP,SAAQ,SAAC8O,GACfhN,EAAOkN,SAASE,MAAMJ,MAEvBhN,EAAOkN,SAASE,MAAM,WAEtBpN,EAAOkN,SAASE,MAAM,UACtBpN,EAAOkN,SAASE,MAAMT,EAAKc,QAC3BzN,EAAOkN,SAASE,MAAM,WACtBpN,EAAOkN,SAASQ,QAChB1N,EAAO2N,QACPC,YAAW,WACV5N,EAAO6N,UACL,KAlDe,4CAAH,qDAsEXC,EAAW,SAACjQ,GAEjB,OADc6K,MAAMC,KAAuBrI,KAAKC,OAAa,OAAPkG,QAAO,IAAPA,OAAA,EAAAA,EAASmC,qBAAsB,OACxElC,MAAK,SAACmC,GAAD,OAAUA,EAAKhL,SAAWA,MAG7C,OACC,sBAAKqG,UAAU,YAAf,UACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,SAAf,SACC,oBAAIA,UAAU,OAAd,4BAED,sBAAKA,UAAU,gBAAf,UACC,wBACCA,UAAU,wCACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQiE,UAJV,kBAQe,cAAd/D,EAAKhB,KACL,cAAC,IAAD,CAAM0I,GAAE,UAAK/N,OAAO6L,SAASmC,SAArB,SAAsC9J,UAAU,mDAAxD,kBAGG,KACW,cAAdmC,EAAKhB,KACL,mBACC4I,KAAI,UAAKjO,OAAO6L,SAASmC,SAArB,WACJ9J,UAAU,+CACVE,QAAS,SAACC,GACTA,EAAEC,iBACFuB,EAAE,uBAAuBD,MAAM,SALjC,oBASG,QAEL,qBAAK1B,UAAU,SAASQ,GAAG,eAA3B,SACE+B,EACA,sBAAKvC,UAAU,sBAAf,UACC,sBAAKA,UAAU,cAAf,WACG,CAAC,YAAa,cAAclF,SAASqH,EAAKhB,OAjI7B,WACrB,OAAQgB,EAAKhB,MACZ,IAAK,QACJ,MAA2B,cAAb,OAAPoB,QAAO,IAAPA,OAAA,EAAAA,EAAS5I,QACjB,IAAK,UACJ,MAA2B,aAAb,OAAP4I,QAAO,IAAPA,OAAA,EAAAA,EAAS5I,QACjB,IAAK,aACJ,MAA2B,gBAAb,OAAP4I,QAAO,IAAPA,OAAA,EAAAA,EAAS5I,QACjB,IAAK,WAEL,IAAK,YACJ,MAA2B,eAAb,OAAP4I,QAAO,IAAPA,OAAA,EAAAA,EAAS5I,QACjB,IAAK,YACJ,MAA2B,YAAb,OAAP4I,QAAO,IAAPA,OAAA,EAAAA,EAAS5I,SAoHyCqQ,GACpD,yBACChK,UAAS,8BAAyBvH,EAAMwO,IAAa1E,EAAQ0B,aAAc,aAC3E/D,QAAS,SAACC,GACTA,EAAEC,iBACFuB,EAAE,wBAAwBD,MAAM,WAEjCqB,SAAUkE,IAAa1E,EAAQ0B,aANhC,UAOC,mBAAGjE,UAAU,gBAAmB,IAC/BuC,EAAQ0B,aAAegE,EAAO,4CAE7B,KACW,eAAd9F,EAAKhB,KACL,yBACCnB,UAAS,8BAAyBvH,EAAMwO,IAAa1E,EAAQ0B,aAAc,aAC3E/D,QAAS,SAACC,GACTA,EAAEC,iBACFuB,EAAE,wBAAwBD,MAAM,WAEjCqB,SAAUkE,IAAa1E,EAAQ0B,aANhC,UAOC,mBAAGjE,UAAU,gBAAmB,IAC/BuC,EAAQ0B,aAAe,UAAY,4CAElC,KACJ,yBACCjE,UAAS,yBACTE,QAAS,SAACC,GACTA,EAAEC,iBACFoI,KAJF,UAMC,mBAAGxI,UAAU,iBANd,uBASD,sBAAKA,UAAU,YAAf,UACC,oBAAGA,UAAU,aAAb,+BAA6CuC,EAAQJ,KAAMxC,QAC3D,oBAAGK,UAAU,YAAb,4BAAyCuC,EAAQ6C,aAAczF,QAC/D,oBAAGK,UAAU,YAAb,sBAAmCuC,EAAQmB,QAAU,MAAQ,QAC7D,oBAAG1D,UAAU,YAAb,2BAAwCuC,EAAQ0B,aAAe,MAAQ,SACtE,UAAA1B,EAAQJ,YAAR,eAAc8H,mBACd,oBAAGjK,UAAU,YAAb,gCAA6CuC,EAAQJ,KAAK8H,qBACvD,KACJ,oBAAGjK,UAAU,YAAb,yBAAsCuC,EAAQ8C,cAC9C,oBAAGrF,UAAU,YAAb,6BACkB,IAChBuC,EAAQ2H,MACT3H,EAAQ2H,KAAKhQ,OAAS,GAC8B,cAApDqI,EAAQ2H,KAAK3H,EAAQ2H,KAAKhQ,OAAS,GAAGiI,KAAKhB,KAF1C,UAGKoB,EAAQ2H,KAAK3H,EAAQ2H,KAAKhQ,OAAS,GAAGiI,KAAKxC,KAHhD,cAG0D5E,IAAMwH,EAAQ4C,YAAYD,OAClF,0BAEA,SAEJ,oBAAGlF,UAAU,YAAb,qBAAkCuC,EAAQ5I,UAC1C,mBAAGqG,UAAU,aAAb,oBACA,qBAAKA,UAAU,kBAAf,SACC,qBAAKA,UAAU,MAAf,mBACEuC,EAAQmE,aADV,aACE,EAAetN,KAAI,SAACwM,EAAM/I,GAAP,eACnB,qBAAKmD,UAAU,oCAAf,SACC,mBAAG+J,KAAI,oBAAKnE,EAAKA,YAAV,aAAK,EAAWyD,IAAhB,kBAAP,mBAA6CzD,EAAKA,YAAlD,aAA6C,EAAWjG,QADD9C,UAM3D,oBAAImD,UAAU,aAAd,SACG,YAA0B,IAAvBmK,EAAsB,EAAtBA,MACJ,OAD0B,EAAf5E,SACKnM,KAAI,SAACO,EAAQkD,GAAT,aACnB,qBAAImD,UAAU,kBAAd,UACC,sBAAKA,UAAU,4BAAf,UACY,IAAVmK,EACAP,EAASjQ,GACR,mBAAGqG,UAAU,iCACVmK,GAAStN,EAAQ,EACpB,mBAAGmD,UAAU,4BAEb,mBAAGA,UAAU,sBAGd,mBAAGA,UAAU,6BAEbrG,EAAQ,IACRiQ,EAASjQ,GAAT,YACOoB,IAAK,UAAC6O,EAASjQ,UAAV,aAAC,EAAkBgL,MAAMO,OAAO,0BAC1C,MAEH3C,EAAQ6H,OAAS7H,EAAQ6H,MAAMlQ,OAAS,EACxC,oBAAI8F,UAAU,kBAAd,SACEuC,EAAQ6H,MACP3G,QAAO,SAACqE,GAAD,OAAUA,EAAK/C,MAAQpL,KAC9BP,KAAI,SAAC0O,EAAMjL,GAAP,OACJ,oBAAImD,UAAU,kBAAd,SACC,sBAAKA,UAAU,4BAAf,UACE8H,EAAKC,KACL,mBAAG/H,UAAU,iCAEb,mBAAGA,UAAU,sBAEd,+BAAO8H,EAAK9K,SAzJFuD,EA0JS5G,GAzJ/B,CAAC,UAAW,QAAQmB,SAASyF,GACX,YAAd4B,EAAKhB,KACF,CAAC,YAAYrG,SAASyF,GACX,UAAd4B,EAAKhB,KACF,CAAC,aAAarG,SAASyF,GACZ,eAAd4B,EAAKhB,KACF,CAAC,UAAUrG,SAASyF,GACT,aAAd4B,EAAKhB,MAAqC,cAAdgB,EAAKhB,KAC9B,CAAC,YAAa,YAAYrG,SAASyF,GACxB,cAAd4B,EAAKhB,KAELZ,IAAS4B,EAAKhB,MA+IL,qBAAKnB,UAAU,UAAf,SACE8H,EAAKC,KACL,mBACC/H,UAAU,yCACVhD,MAAM,mBACNkD,QAAS,kBAAM2H,EAASC,GAAM,MAE/B,mBACC9H,UAAU,oCACVhD,MAAM,eACNkD,QAAS,kBAAM2H,EAASC,GAAM,QAG9B,UAtB+BjL,GAlJ1B,IAAC0D,OA6KZ,OAlDgC1D,MAFrC,CA/SW,SAAClD,GACrB,IAAMwQ,EAAS,SAACxQ,GACf,OAAQA,GACP,IAAK,WACJ,OAAO,EACR,IAAK,UACJ,OAAO,EACR,IAAK,aACJ,OAAO,EACR,IAAK,YAEL,IAAK,SAEL,IAAK,YACJ,OAAO,EACR,IAAK,WACJ,OAAO,EACR,QACC,OAAO,GAjBK,CAmBZA,GAEH,MAAO,CACN4L,SAAUA,GAAS9B,QAAO,SAAC9J,GAAD,OAAa,CAAC,WAAY,aAAamB,SAASnB,MAC1EwQ,SA8USE,CAAa9H,EAAQ5I,WAEzB,sBAAKqG,UAAU,sCAAf,UACC,qBAAKA,UAAU,cAAf,SACC,oBAAIA,UAAU,aAAd,uBAED,qBAAKA,UAAU,6BAA6B5E,MAAO,CAAEyF,UAAW,UAAhE,SACC,wBAAOb,UAAU,6BAAjB,UACC,gCACC,+BACC,sCACA,wCACA,2CAGF,kCAC2B,IAAzBuC,EAAQ2H,KAAMhQ,OACd,+BACC,uBACA,yCACA,0BAEE,KACHqI,EAAQ2H,KAAM9Q,KAAI,SAACyJ,EAAKhG,GAAN,OAClB,+BACC,6BAAKgG,EAAIV,KAAKxC,OACd,6BAAKkD,EAAI/B,SACT,6BAAK/F,IAAM8H,EAAIsC,YAAYD,OAAO,6BAH1BrI,uBAahB,qBAAKmD,UAAU,qBAAf,SACC,qBAAKA,UAAU,4BAAf,SACC,mBAAGA,UAAU,+CAMlB,qBACCA,UAAU,aACVQ,GAAE,qBACFU,UAAW,EACXC,KAAK,SACLC,kBAAA,0BACAC,cAAY,OANb,SAOC,qBAAKrB,UAAU,8CAA8CmB,KAAK,WAAlE,SACC,sBAAKnB,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAcQ,GAAE,0BAA9B,4BAGA,wBAAQD,KAAK,SAASP,UAAU,QAAQwB,eAAa,QAAQC,aAAW,QAAxE,SACC,sBAAMJ,cAAY,OAAlB,uBAGF,qBAAKrB,UAAU,aAAf,2DACA,sBAAKA,UAAU,eAAf,UACC,wBACCO,KAAK,SACLP,UAAU,wBACVE,QAAS,SAACC,GACTA,EAAEC,iBACFuB,EAAE,uBAAuBD,MAAM,QAC/BkC,KANF,qBAUA,wBAAQrD,KAAK,SAASP,UAAU,2BAA2BwB,eAAa,QAAxE,8BAOJ,qBACCxB,UAAU,aACVQ,GAAE,sBACFU,UAAW,EACXC,KAAK,SACLC,kBAAA,2BACAC,cAAY,OANb,SAOC,qBAAKrB,UAAU,8CAA8CmB,KAAK,WAAlE,SACC,sBAAKnB,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAcQ,GAAE,2BAA9B,6BAGA,wBAAQD,KAAK,SAASP,UAAU,QAAQwB,eAAa,QAAQC,aAAW,QAAxE,SACC,sBAAMJ,cAAY,OAAlB,uBAGF,sBAAKrB,UAAU,aAAf,UACgB,eAAdmC,EAAKhB,KACL,wBACCnB,UAAU,eACVU,SAAU,SAACP,GACViH,EAAiBjH,EAAES,OAAOpE,QAH5B,SAKE,CAAC,YAAa,YAAYpD,KAAI,SAACO,EAAQkD,GAAT,OAC9B,wBAAQL,MAAO7C,EAAf,SACEA,GAD0BkD,QAK3B,KACJ,gDACA,0BACCyN,KAAM,GACNC,KAAM,EACNvK,UAAU,oBACVU,SAAU,SAACP,GAAD,OAAOmH,EAAcnH,EAAES,OAAOpE,QACxCA,MAAO6K,IACR,kDACA,cAAC,GAAD,CAAO3G,SAAU,SAACjH,GAAD,OAAU+N,EAAgB/N,IAAO+C,MAAO+K,OAE1D,sBAAKvH,UAAU,eAAf,UACC,wBACCO,KAAK,SACLP,UAAU,wBACVE,QAAS,SAACC,GACTA,EAAEC,iBACFuB,EAAE,wBAAwBD,MAAM,QAChCwG,EAAQf,IANV,qBAUA,wBAAQ5G,KAAK,SAASP,UAAU,2BAA2BwB,eAAa,QAAxE,8BAOJ,wBAAQxE,MAAM,aAAawD,GAAG,SAASR,UAAU,cC3jB7C,SAASiD,KACf,IAAMG,EAAQC,cAERgG,EAAM,SAAC/F,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAE9C,OACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOA,KAAM+F,EAAI,KAAMmB,OAAK,EAACC,UAAW5D,KACxC,cAAC,IAAD,CAAOvD,KAAM+F,EAAI/N,EAAgBG,UAAWgP,UAAW7D,KACvD,cAAC,IAAD,CAAOtD,KAAM+F,EAAI/N,EAAgBE,UAAWiP,UAAWnF,KACvD,cAAC,IAAD,CAAOhC,KAAM+F,EAAI,QAASoB,UAAWjF,KACrC,cAAC,IAAD,CAAOlC,KAAM+F,EAAI,QAASmB,OAAK,EAACC,UAAW1D,KAC3C,cAAC,IAAD,CAAOzD,KAAM+F,EAAI,aAAcoB,UAAWjF,QCVtC,SAASkF,GAAT,GAA0C,IAAzBC,EAAwB,EAAxBA,IAAKjK,EAAmB,EAAnBA,SAAmB,EACrBtC,mBAASuM,EAAInO,OADQ,mBACxCA,EADwC,KACjCoO,EADiC,OAEvBxM,mBAA0B,QAFH,mBAExCyM,EAFwC,KAElCC,EAFkC,OAGf1M,oBAAS,GAHM,mBAGxC2M,EAHwC,KAG9BC,EAH8B,KAKzCC,EAASN,EAAIvQ,IAAIU,SAAS,WAE1BgL,EAAUC,sBAEVmF,EAAS,IAAIC,WAQnB,OANAD,EAAOE,OAAS,SAACC,GACZA,EAAMzK,QAAUyK,EAAMzK,OAAO0K,QAChCV,EAASlC,OAAO2C,EAAMzK,OAAO0K,UAK9B,qBAAKtL,UAAU,oDAAf,SACC,sBAAKA,UAAU,OAAO5E,MAAO,CAAEmQ,KAAM,GAArC,UACEN,EACA,qBACCjL,UAAU,eACVwL,IAAKhP,EACLiP,IAAKd,EAAIvQ,IACTgB,MAAO,CAAEsQ,oBAAqB,OAAQC,qBAAsB,UAE1D,KACJ,qBAAK3L,UAAU,YAAf,SACC,sBAAKA,UAAU,aAAf,UACC,oBAAIA,UAAU,aAAd,SAA4B2K,EAAIvQ,MAChC,wBAAO4F,UAAU,iCAAjB,2BAAiEjF,IAAM4P,EAAIxF,YAAYyG,aAC7E,SAATf,EAAkB,4BAAII,EAAS,KAAO,4BAAIzO,MAAkB,KACnD,SAATqO,EACAI,EACC,gCACC,wBACCjL,UAAS,8BAAyBvH,EAAMsS,EAAU,aAClDhI,SAAUgI,EACV7K,QAAS,SAACC,GACTA,EAAEC,kBACG2K,GAAYjF,EAAQpH,SACxBoH,EAAQpH,QAAQ+H,SANnB,SASEsE,EAAW,WAAa,WAE1B,uBACCxK,KAAK,OACLoG,IAAKb,EACL9F,UAAU,SACVU,SAAU,SAACP,GACNA,EAAES,OAAO8F,OAASvG,EAAES,OAAO8F,MAAMxM,OAAS,IAAM6Q,IACnDG,EAAOW,cAAc1L,EAAES,OAAO8F,MAAM,IACpCsE,GAAY,UAMhB,uBACCzK,KAAK,OACLP,UAAU,+BACVxD,MAAOA,EACPiE,YAAY,QACZC,SAAU,SAACP,GACVyK,EAASzK,EAAES,OAAOpE,UAIlB,UAGN,qBAAKwD,UAAU,cAAf,SACC,sBAAKA,UAAU,aAAf,UACC,wBACCA,UAAU,6CACVE,QAAS,SAACC,GACTA,EAAEC,iBACW,SAATyK,GACHnK,EAASlE,GAAO,WACf5C,IAAO+I,KAAP,UAAegI,EAAIvQ,IAAnB,sBAA4C,UAC5C4Q,GAAY,MAEbF,EAAQ,SAERA,EAAQ,SAXX,SAcW,SAATD,EAAkB,OAAS,SAEnB,SAATA,EACA,wBACC7K,UAAU,4CACVE,QAAS,SAACC,GACTA,EAAEC,iBACF0K,EAAQ,SAJV,oBAQG,eCtGH,SAASgB,GAAT,GAAqD,IAAtCC,EAAqC,EAArCA,IAAKrL,EAAgC,EAAhCA,SAAUsL,EAAsB,EAAtBA,YAAsB,EAClC5N,mBAAS4N,GAAe,QADU,mBACnDnB,EADmD,KAC7CC,EAD6C,OAE1B1M,mBAAS2N,EAAIE,UAFa,mBAEnDA,EAFmD,KAEzCC,EAFyC,OAG9B9N,mBAAS2N,EAAII,QAHiB,mBAGnDA,EAHmD,KAG3CC,EAH2C,KAK1D,OACC,sBAAKpM,UAAU,SAAf,UACW,SAAT6K,EACA,sBAAK7K,UAAU,aAAf,UACC,wBAAOM,QAAQ,WAAf,uBACW,4BAAIyL,EAAIE,cAEnB,yCACS,4BAAIF,EAAII,eAGf,KACM,SAATtB,EACA,qCACC,qBAAK7K,UAAU,aAAf,SACC,uBACCO,KAAK,OACLZ,KAAK,WACLc,YAAY,WACZT,UAAU,+BACVxD,MAAOyP,EACPvL,SAAU,SAACP,GACV+L,EAAY/L,EAAES,OAAOpE,YAIxB,qBAAKwD,UAAU,aAAf,SACC,uBACCO,KAAK,OACLZ,KAAK,SACLc,YAAY,SACZT,UAAU,+BACVxD,MAAO2P,EACPzL,SAAU,SAACP,GACViM,EAAUjM,EAAES,OAAOpE,eAKpB,KACJ,sBAAKwD,UAAU,aAAf,UACC,wBACCA,UAAU,6CACVE,QAAS,SAACC,GACTA,EAAEC,iBACW,SAATyK,GACHnK,EAAS,CAAEuL,WAAUE,WAAU,WAC9BvS,IAAO+I,KAAK,yBAA0B,aAEvCmI,EAAQ,SAERA,EAAQ,SAVX,SAaW,SAATD,EAAkB,OAAS,SAEnB,SAATA,EACA,wBACC7K,UAAU,4CACVE,QAAS,SAACC,GACTA,EAAEC,iBACF0K,EAAQ,QACRoB,EAAYH,EAAIE,UAChBG,EAAUL,EAAII,SANhB,oBAUG,WCxED,SAASE,KAAO,IAAD,IACCjO,mBAA6B,IAD9B,mBACduM,EADc,KACT2B,EADS,OAEGlO,mBAA+B,UAFlC,mBAEdyM,EAFc,KAERC,EAFQ,KAGf7I,EAAUC,cAQVqK,EAAOnQ,KAAKC,MAPL,SAACjC,EAAaxB,GAC1B,IAAM4T,EAAI7B,EAAInI,MAAK,SAACmI,GAAD,OAASA,EAAIvQ,MAAQA,KACxC,OAAIoS,EACIA,EAAEhQ,MAEH5D,EAEgB4J,CAAK,OAAQpG,KAAKG,UAAU,MAE9CkQ,EAAQ,uCAAG,8BAAApK,EAAA,+EAEQC,KAAMnE,IAAwB,QAFtC,gBAEP1E,EAFO,EAEPA,KACR6S,EAAO,YAAI7S,IAHI,gDAKfmJ,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,gCAAiC,SAC9C0I,EAAQiE,SAPO,yDAAH,qDAWRwG,EAAO,uCAAG,WAAO/B,GAAP,SAAAtI,EAAA,0DACXsI,EAAInK,GADO,gCAER8B,KAAMuC,IAAI,OAAQ8F,GAFV,6CAIRrI,KAAMgE,KAAK,OAAQqE,GAJX,2CAAH,sDAQPgC,EAAO,uCAAG,WAAOZ,EAAUlP,GAAjB,iBAAAwF,EAAA,yDACfkK,EAAKzP,OAAOD,EAAO,EAAGkP,GAEhBa,EAASjC,EAAInI,MAAK,SAACmI,GAAD,MAAqB,SAAZA,EAAIvQ,OAE/BX,EAAO2C,KAAKG,UAAUgQ,IAExBK,EAPW,wBAQdA,EAAOpQ,MAAQ/C,EACfkR,EAAI7N,OACH6N,EAAIkC,WAAU,SAAClC,GAAD,MAAqB,SAAZA,EAAIvQ,OAC3B,EACAwS,GAEDN,EAAO,YAAI3B,IAdG,SAeR+B,EAAQE,GAfA,sCAiBdjC,EAAI/N,KAAK,CAAExC,IAAK,OAAQoC,MAAO/C,IAC/B6S,EAAO,YAAI3B,IAlBG,UAmBR+B,EAAQ,CACbtS,IAAK,OACLoC,MAAO/C,IArBM,4CAAH,wDA+Bb,OALA2F,qBAAU,WACTqN,MAEE,IAGF,qBAAKzM,UAAS,UAAc,YAAT6K,EAAqB,kBAAoB,aAA5D,SACC,sBAAK7K,UAAU,MAAf,UACC,qBAAKA,UAAU,SAAf,SACC,wBACCA,UAAU,sBACVE,QAAS,SAACC,GACTA,EAAEC,iBACF0K,EAAiB,YAATD,EAAqB,SAAW,YAJ1C,SAMW,YAATA,EAAqB,SAAW,cAGzB,WAATA,EACA,qCACEF,EACClH,QAAO,SAACkH,GAAD,MAAqB,SAAZA,EAAIvQ,OACpBhB,KAAI,SAACuR,EAAK9N,GAAN,OACJ,cAAC6N,GAAD,CACCC,IAAKA,EAELjK,SAAQ,uCAAE,WAAOlE,EAAOsH,GAAd,SAAAzB,EAAA,sEAERsI,EAAInO,MAAQA,EAFJ,SAGFkQ,EAAQ/B,GAHN,OAIR7G,IACA2I,IALQ,gDAOR7J,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,+BAAgC,SARrC,yDAAF,yDADHsD,MAcR,sBAAKmD,UAAU,SAAf,UACC,oBAAIA,UAAU,OAAd,kBACC2K,EAAInI,MAAK,SAACmI,GAAD,MAAqB,SAAZA,EAAIvQ,QAAmBuQ,EAAInI,MAAK,SAACmI,GAAD,MAAqB,SAAZA,EAAIvQ,OAAiB+K,WAChF,wBAAOnF,UAAU,iCAAjB,2BACgBjF,IAAK,UAAC4P,EAAInI,MAAK,SAACmI,GAAD,MAAqB,SAAZA,EAAIvQ,cAAvB,aAAC,EAAuC+K,YAAYyG,aAEtE,KACJ,wBACC5L,UAAU,yBACVE,QAAS,SAACC,GACTA,EAAEC,iBAEF,IAAMwM,EAASjC,EAAInI,MAAK,SAACmI,GAAD,MAAqB,SAAZA,EAAIvQ,OAErC,GAAIwS,EAAQ,CACX,IAAMpQ,EAAQJ,KAAKC,MAAMuQ,EAAOpQ,OAEhCA,EAAMI,KAAK,CAAEqP,SAAU,GAAIE,OAAQ,GAAIW,KAAK,IAE5CF,EAAOpQ,MAAQJ,KAAKG,UAAUC,GAE9B,IAAMK,EAAQ8N,EAAIkC,WAAU,SAAClC,GAAD,MAAqB,SAAZA,EAAIvQ,OAEzCuQ,EAAI7N,OAAOD,EAAO,EAAG+P,GACrBN,EAAO,YAAI3B,QACL,CAGNA,EAAI/N,KAAK,CAAExC,IAAK,OAAQoC,MAAOJ,KAAKG,UAFtB,CAAC,CAAE0P,SAAU,GAAIE,OAAQ,GAAIW,KAAK,OAIhDR,EAAO,YAAI3B,MAvBd,qBA4BA,0BAEA4B,EAAKnT,KAAI,SAAC2S,EAAKlP,GAAN,OACT,cAACiP,GAAD,CACCC,IAAKA,EAELrL,SAAQ,uCAAE,WAAOqL,EAAKjI,GAAZ,SAAAzB,EAAA,+EAEFsK,EAAQZ,EAAKlP,GAFX,OAGRiH,IACA2I,IAJQ,gDAMR7J,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,yBAA0B,SAP/B,yDAAF,wDAURyS,YAAaD,EAAIe,IAAM,OAAS,QAX3BjQ,SAgBR,qBAAKmD,UAAU,SAAf,SACC,qBAAK5E,MAAO,CAAE2R,SAAU,WAAYC,SAAU,SAAUC,MAAO,OAAQC,WAAY,UAAnF,SACC,wBACClQ,MAAM,cACNwO,IAAG,UAAK1P,OAAO6L,SAASC,OAArB,iBACHxM,MAAO,CAAE2R,SAAU,WAAYI,MAAO,EAAGF,MAAO,OAAQG,OAAQ,mBC9JjE,SAASvG,KAAQ,IAAD,EACUzI,mBAAyB,IADnC,mBACfiP,EADe,KACLC,EADK,OAEclP,oBAAS,GAFvB,mBAEff,EAFe,KAEH0E,EAFG,KAGhBqB,EAAQC,cACRpB,EAAUC,cAEVoB,EAAO,SAACA,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAEzCiK,EAAa,uCAAG,8BAAAlL,EAAA,6DACrBN,GAAc,GADO,kBAGGO,KAAMnE,IAAoB,aAH7B,gBAGZ1E,EAHY,EAGZA,KACR6T,EAAY7T,GAJQ,gDAMpBmJ,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,6BAPO,yBASpBwI,GAAc,GATM,4EAAH,qDAabyL,EAAa,uCAAG,WAAOhN,GAAP,SAAA6B,EAAA,6DACrBN,GAAc,GADO,kBAGdO,KAAMuB,OAAN,uBAA6BrD,IAHf,cAIpB5G,IAAOkK,QAAQ,iCAJK,SAKdyJ,IALc,uDAOpB3K,QAAQC,IAAI,KAAMC,UAClBxJ,EAAY,EAAD,IACXyI,GAAc,GATM,yDAAH,sDAiBnB,OAJA3C,qBAAU,WACTmO,MACE,IAGF,cAACxQ,GAAD,CACCC,MAAM,WACNvD,KAAM4T,EAASjU,KAAI,SAACqU,GAAD,mBAAC,eAChBA,GADe,IAElBxI,WAAYlK,IAAM0S,EAAQxI,YAAY2G,UACtCzG,WAAYpK,IAAM0S,EAAQtI,YAAYyG,UACtClS,QAAS,oBAAGsG,UAAU,qBAAb,UAAmCyN,EAAQ/T,QAAQgU,OAAO,EAAG,IAA7D,cAEVrQ,WAAYA,EACZC,WAAY,kBAAM2E,EAAQrF,KAAK0G,EAAK,SACpCrG,YAAa,YAAa,IAAVuD,EAAS,EAATA,GACfyB,EAAQrF,KAAK0G,EAAK,GAAD,OAAI9C,MAEtBtD,YAAa,aAGbC,gBAAiB,YAAa,IAAVqD,EAAS,EAATA,GACnBgN,EAAchN,IAEfpD,eAAgBmQ,EAChBhQ,YAAY,EACZC,YAAY,EACZG,cAAc,EACdE,kBAAkB,IChEd,SAASkJ,KAAQ,IAAD,EACQ3I,mBAAyB,MADjC,mBACfqP,EADe,KACNE,EADM,KAEhB1L,EAAUC,cAEV0L,EAAY,uCAAG,WAAOC,GAAP,iBAAAxL,EAAA,+EAEIC,KAAMnE,IAAN,4BAAwC0P,IAF5C,gBAEXpU,EAFW,EAEXA,KACRkU,EAAWlU,GAHQ,gDAKnBH,EAAY,EAAD,IACX2I,EAAQiE,SANW,yDAAH,sDAUd8B,GAAW,EAETwF,EAAa,uCAAG,sBAAAnL,EAAA,0DACjB2F,EADiB,wDAIrBA,GAAW,EAJU,kBAMd1F,KAAMuB,OAAN,8BAA6B4J,QAA7B,IAA6BA,OAA7B,EAA6BA,EAASjN,KANxB,OAOpB5G,IAAOkK,QAAQ,iCACf7B,EAAQiE,SARY,kDAUpB5M,EAAY,EAAD,IAVS,yBAYpB0O,GAAW,EAZS,6EAAH,qDAgBXhC,EAAW3C,cAAX2C,OAOR,OALA5G,qBAAU,WACTwO,EAAa5H,EAAOxF,MAElB,IAGF,sBAAKR,UAAU,YAAf,UACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,SAAf,SACC,oBAAIA,UAAU,OAAd,4BAED,sBAAKA,UAAU,gBAAf,UACC,wBACCA,UAAU,wCACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQiE,UAJV,kBAQA,mBACC6D,KAAI,UAAKjO,OAAO6L,SAASmC,SAArB,WACJ9J,UAAU,+CACVE,QAAS,SAACC,GACTA,EAAEC,iBACFuB,EAAE,uBAAuBD,MAAM,SALjC,uBAUD,qBAAK1B,UAAU,SAAf,SACEyN,EACA,qBAAKzN,UAAU,sBAAf,SACC,sBAAKA,UAAU,YAAf,UACC,sCACA,4BAAIyN,EAAQ9N,OACZ,uCACA,4BAAI8N,EAAQK,QACZ,yCACA,4BAAIL,EAAQ/T,eAId,qBAAKsG,UAAU,qBAAf,SACC,qBAAKA,UAAU,4BAAf,SACC,mBAAGA,UAAU,+CAMlB,qBACCA,UAAU,aACVQ,GAAE,qBACFU,UAAW,EACXC,KAAK,SACLC,kBAAA,0BACAC,cAAY,OANb,SAOC,qBAAKrB,UAAU,8CAA8CmB,KAAK,WAAlE,SACC,sBAAKnB,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAcQ,GAAE,0BAA9B,4BAGA,wBAAQD,KAAK,SAASP,UAAU,QAAQwB,eAAa,QAAQC,aAAW,QAAxE,SACC,sBAAMJ,cAAY,OAAlB,uBAGF,sBAAKrB,UAAU,aAAf,8CAAoE,OAAPyN,QAAO,IAAPA,OAAA,EAAAA,EAAS9N,OAAQ,eAA9E,OACA,sBAAKK,UAAU,eAAf,UACC,wBACCO,KAAK,SACLP,UAAU,wBACVE,QAAS,SAACC,GACTA,EAAEC,iBACFuB,EAAE,uBAAuBD,MAAM,QAC/B8L,KANF,qBAUA,wBAAQjN,KAAK,SAASP,UAAU,2BAA2BwB,eAAa,QAAxE,iCCpHA,SAASuM,KACf,IAAM3K,EAAQC,cAERgG,EAAM,SAAC/F,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAE9C,OACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOA,KAAM+F,EAAI,KAAMmB,OAAK,EAACC,UAAW5D,KACxC,cAAC,IAAD,CAAOvD,KAAM+F,EAAI,QAASmB,OAAK,EAACC,UAAW1D,QCNvC,SAASvB,KAAQ,IAAD,IACcpH,oBAAS,GADvB,mBACff,EADe,KACH0E,EADG,OAEE3D,mBAAS,OAFX,mBAEfyM,EAFe,KAETC,EAFS,OAGI1M,mBAAyE,IAH7E,mBAGfsI,EAHe,KAGRsH,EAHQ,OAIE5P,mBAAuB,CAC9CoC,IAAK,EACLb,KAAM,GACNsO,aAAc,GACdC,YAAa,KARQ,mBAIfzU,EAJe,KAITkM,EAJS,KAWhB1D,EAAUC,cAEViM,EAAe,SAAChO,GAA0D,IAAD,EACxDA,EAAES,OAAhBJ,EADsE,EACtEA,GAAIhE,EADkE,EAClEA,MACZmJ,EAAQ,2BACJlM,GADG,mBAEL+G,EAAKhE,MAMF4F,EAAM,uCAAG,4BAAAC,EAAA,0DACVhF,EADU,wDAEd0E,GAAc,GAFA,SAIPoE,EAAU,IAAIC,gBACb3M,EAAKiN,MACZ7M,OAAOuU,QAAQ3U,GAAMO,SAAQ,mCAAEI,EAAF,KAAOoC,EAAP,YAAkB2J,EAAQE,OAAOjM,EAAKoC,MAEnE2J,EAAQE,OAAO,eAAgBjK,KAAKG,UAAU9C,EAAKwU,eACnD9H,EAAQE,OAAO,UAAoB,QAATwE,EAAiB,OAAS,OAEpDnE,EAAM1M,SAAQ,SAAC4L,GACVA,EAAKA,gBAAgByI,MACxBlI,EAAQE,OAAO,UAAWT,EAAKA,SAbpB,UAiBPtD,KAAMgE,KAAmB,kBAAmBH,GAjBrC,QAkBbvM,IAAOkK,QAAQ,qCApBG6B,EAAQ,CAAEhG,KAAM,GAAIa,IAAK,EAAGyN,aAAc,GAAIC,YAAa,KAEhE,kDAqBb5U,EAAY,EAAD,IArBE,yBAuBbyI,GAAc,GAvBD,6EAAH,qDA2BNuM,EAAiB,uCAAG,WAAOC,GAAP,iBAAAlM,EAAA,6DACzByI,EAAQ,QADiB,kBAGDxI,KAAMnE,IAAN,kCAAmDoQ,IAHlD,gBAGhB9U,EAHgB,EAGhBA,KACRkM,GAAQ,8BAAC,eACLlM,GADI,IAEPwU,aAAe,SAACA,GACf,IAAKA,EACJ,MAAO,GAER,IACC,IAAMxU,EAAO2C,KAAKC,MAAM4R,GACxB,OAAKxU,GACG,GAGP,MAAOF,GAER,OADAqJ,QAAQC,IAAItJ,EAAMuJ,UACX,IAZM,CAcZrJ,EAAKwU,mBApBe,gDAuBxB3U,EAAY,EAAD,IACX2I,EAAQiE,SAxBgB,yDAAH,sDAlDD,EA8EG7C,cAAjB2C,EA9Ec,EA8EdA,OAAQ1C,EA9EM,EA8ENA,KAShB,OAPAlE,qBAAU,WACLkE,EAAKxI,SAAS,SACjBwT,EAAkBtI,EAAOxF,MAGxB,IAGF,uBACCR,UAAU,YACVK,SAAQ,uCAAE,WAAOF,GAAP,SAAAkC,EAAA,6DACTlC,EAAEC,iBADO,SAEHgC,IAFG,2CAAF,sDAFT,UAMC,sBAAKpC,UAAU,SAAf,UACC,qBAAIA,UAAU,yBAAd,UAAwC6K,EAAxC,eACA,wBACC7K,UAAU,gDACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQiE,UAJV,qBASD,sBAAKlG,UAAU,0BAAf,UACC,uBAAOM,QAAQ,SACf,uBACCC,KAAK,OACLZ,KAAK,OACLa,GAAG,OACHC,YAAY,OACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAKkG,KACZe,SAAUyN,OAGZ,sBAAKnO,UAAU,aAAf,UACC,uBAAOM,QAAQ,cAAf,yBACA,uBACCC,KAAK,SACLZ,KAAK,cACLa,GAAG,cACHC,YAAY,cACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAKyU,YACZxN,SAAUyN,OAGZ,qBAAKnO,UAAU,kBAAf,SACC,sBAAKA,UAAU,MAAf,UACC,sBAAKA,UAAU,SAAf,UACC,8CACA,wBACCA,UAAU,sBACVE,QAAS,SAACC,GACTA,EAAEC,iBACF3G,EAAKwU,aAAarR,KAAK,IACvB+I,EAAQ,eAAKlM,KALf,gCAUAA,EAAKwU,aAAa7U,KAAI,SAACoV,EAAa3R,GAAd,OACtB,sBAAKmD,UAAU,SAAf,UACC,wBACCA,UAAU,wBACVE,QAAS,SAACC,GACTA,EAAEC,iBACF3G,EAAKwU,aAAanR,OAAOD,EAAO,GAChC8I,EAAQ,eAAKlM,KALf,gCASA,sBAAKuG,UAAU,aAAf,UACC,iDAAoBnD,EAAQ,KAC5B,uBACC0D,KAAK,OACLE,YAAW,sBAAiB5D,EAAQ,GACpCmD,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAOgS,EACP9N,SAAU,SAACP,GACV1G,EAAKwU,aAAanR,OAAOD,EAAO,EAAGsD,EAAES,OAAOpE,OAC5CmJ,EAAQ,eAAKlM,YApBYoD,MA0B9B,sBAAKmD,UAAU,cAAf,UACC,uCACA,wBACCA,UAAU,sBACVE,QAAS,SAACC,GACTA,EAAEC,iBACFsG,EAAM9J,KAAK,CAAEgJ,KAAM,KAAMe,IAAKZ,wBAC9BiI,EAAS,YAAItH,KALf,yBAUAA,EAAMtN,KAAI,SAACwM,EAAM/I,GAAP,OACV,sBAAKmD,UAAU,oCAAf,UACC,wBACCA,UAAU,wBACVE,QAAS,SAACC,GACTA,EAAEC,iBACFsG,EAAM5J,OAAOD,EAAO,GACpBmR,EAAS,YAAItH,KALf,yBASA,sBAAK1G,UAAU,aAAf,UACC,uBACCO,KAAK,OACLoG,IAAKf,EAAKe,IACV3G,UAAS,iBAAYvH,EAAM4E,GAAuB,OAATuI,EAAe,aACxD7C,SAAU1F,GAA4B,OAAduI,EAAKA,KAC7BlF,SAAU,SAACP,GACNA,EAAES,OAAO8F,OAASvG,EAAES,OAAO8F,MAAMxM,OAAS,IAC7CwM,EAAM5J,OAAOD,EAAO,EAAG,CAAE+I,KAAMzF,EAAES,OAAO8F,MAAM,GAAIC,IAAKf,EAAKe,MAC5DqH,EAAS,YAAItH,QAIhB,wBACC1G,UAAU,2BACV+C,SAAwB,OAAd6C,EAAKA,KACf1F,QAAS,SAACC,GACTA,EAAEC,iBACgB,OAAdwF,EAAKA,MAAiBA,EAAKe,IAAIjI,UAClCkH,EAAKe,IAAIjI,QAAQ+H,QACjB7D,QAAQC,IAAI,QAPf,SAUgB,OAAd+C,EAAKA,KAAgB,SAAW,kBAjCoB/I,MAsC/C,SAATgO,GAAmBpR,EAAKiN,OAASjN,EAAKiN,MAAMxM,OAAS,EACrD,qCACC,qBAAK8F,UAAU,cAAf,SACC,kDAFF,UAIEvG,EAAKiN,aAJP,aAIE,EAAYtN,KAAI,SAACwM,EAAM/I,GAAP,eAChB,qBAAKmD,UAAU,2BAAf,SACC,qBAAKA,UAAU,OAAf,SACC,sBAAKA,UAAU,sCAAf,UACC,mBAAG+J,KAAI,oBAAKnE,EAAKA,YAAV,aAAK,EAAWyD,IAAhB,kBAAqCzI,OAAO,SAAS6N,IAAI,aAAhE,mBACE7I,EAAKA,YADP,aACE,EAAWjG,OAEb,wBACCK,UAAU,gCACVE,QAAO,uCAAE,WAAOC,GAAP,eAAAkC,EAAA,yDACRlC,EAAEC,kBACEtE,OAAO4S,QAAQ,gBAFX,uBAGP9U,IAAO+I,KAAK,sBAAuB,UAH5B,SAIDL,KAAMuB,OAAN,mCAAyC+B,EAAKpF,KAJ7C,OAKP5G,IAAOkK,QAAQ,sBACf,UAAArK,EAAKiN,aAAL,SAAY5J,OAAOD,EAAO,GAC1B8I,EAAQ,eAAKlM,IAPN,2CAAF,sDAFR,0BAN4CoD,SAyB9C,UAGN,qBAAKmD,UAAU,aAAf,SACC,wBAAQO,KAAK,SAASP,UAAS,iCAA4BvH,EAAM4E,EAAY,aAAe0F,SAAU1F,EAAtG,SACEA,EACA,qBAAK2C,UAAU,OAAf,SACC,mBAAGA,UAAU,4BAGd,cCtQC,SAAS6G,KAAQ,IAAD,EACoBzI,mBAA8B,IADlD,mBACfuQ,EADe,KACAC,EADA,OAEcxQ,oBAAS,GAFvB,mBAEff,EAFe,KAEH0E,EAFG,KAGhBqB,EAAQC,cACRpB,EAAUC,cAEVoB,EAAO,SAACA,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAEzCuL,EAAkB,uCAAG,8BAAAxM,EAAA,6DAC1BN,GAAc,GADY,kBAGFO,KAAMnE,IAAyB,mBAH7B,gBAGjB1E,EAHiB,EAGjBA,KACRmV,EAAiBnU,EAAWhB,EAAM,CAAC,eAAgB,WAJ1B,gDAMzBmJ,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,mCAPY,yBASzBwI,GAAc,GATW,4EAAH,qDAalB+M,EAAkB,uCAAG,WAAOtO,GAAP,SAAA6B,EAAA,6DAC1BN,GAAc,GADY,kBAGnBO,KAAMuB,OAAN,6BAAmCrD,IAHhB,cAIzB5G,IAAOkK,QAAQ,uCAJU,SAKnB+K,IALmB,uDAOzBjM,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,mCACbwI,GAAc,GATW,yDAAH,sDAiBxB,OAJA3C,qBAAU,WACTyP,MACE,IAGF,cAAC9R,GAAD,CACCC,MAAM,iBACNyC,QAASxF,EAAmB0U,GAAevV,KAAI,SAACsG,GAC/C,MAAI,CAAC,aAAc,cAAc5E,SAAS4E,EAAO1B,eACzC7E,EAAQuG,EAAO1G,MAAM,KAAK,IAE3B0G,KAERjG,KAAMkV,EAAcvV,KAAI,SAACgM,GAAD,mBAAC,eACrBA,GADoB,IAEvBH,WAAYlK,IAAMqK,EAAaH,YAAY2G,UAC3CzG,WAAYpK,IAAMqK,EAAaD,YAAYyG,eAE5CvO,WAAYA,EACZC,WAAY,kBAAM2E,EAAQrF,KAAK0G,EAAK,SACpCrG,YAAa,YAAa,IAAVuD,EAAS,EAATA,GACfyB,EAAQrF,KAAK0G,EAAK,GAAD,OAAI9C,MAEtBtD,YAAa,YAAa,IAAVsD,EAAS,EAATA,GACfyB,EAAQrF,KAAK0G,EAAK,GAAD,OAAI9C,EAAJ,YAElBrD,gBAAiB,YAAa,IAAVqD,EAAS,EAATA,GACnBsO,EAAmBtO,IAEpBpD,eAAgByR,EAChBtR,YAAY,EACZC,YAAY,ICpER,SAASuJ,KAAQ,IAAD,MACkB3I,mBAA8B,MADhD,mBACfgH,EADe,KACD2J,EADC,KAEhB9M,EAAUC,cAEVoM,EAAiB,uCAAG,WAAOC,GAAP,iBAAAlM,EAAA,+EAEDC,KAAMnE,IAAN,kCAAqCoQ,IAFpC,gBAEhB9U,EAFgB,EAEhBA,KACRsV,EAAgB,2BACZtV,GADW,IAEdwU,aAAe,SAACA,GACf,IAAKA,EACJ,MAAO,GAER,IACC,IAAMxU,EAAO2C,KAAKC,MAAM4R,GACxB,OAAKxU,GACG,GAGP,MAAOF,GAER,OADAqJ,QAAQC,IAAItJ,EAAMuJ,UACX,IAZM,CAcZrJ,EAAKwU,iBAnBe,gDAsBxB3U,EAAY,EAAD,IACX2I,EAAQiE,SAvBgB,yDAAH,sDA2BfF,EAAW3C,cAAX2C,OAMR,OAJA5G,qBAAU,WACTkP,EAAkBtI,EAAOxF,MAEvB,IAEF,qBAAKR,UAAU,YAAf,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,SAAf,SACC,oBAAIA,UAAU,OAAd,kCAED,qBAAKA,UAAU,SAAf,SACC,wBACCA,UAAU,sBACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQiE,UAJV,oBASD,qBAAKlG,UAAU,SAAf,SACEoF,EACA,qBAAKpF,UAAU,sBAAf,SACC,sBAAKA,UAAU,YAAf,UACC,sCACA,4BAAIoF,EAAazF,OACjB,8CAHD,UAIEyF,EAAa6I,oBAJf,aAIE,EAA2B7U,KAAI,SAACoV,EAAa3R,GAAd,OAC/B,mBAAGmD,UAAU,YAAb,SACEwO,GAD4B3R,MAI/B,uCATD,UAUEuI,EAAasB,aAVf,aAUE,EAAoBtN,KAAI,SAACwM,EAAM/I,GAAP,eACxB,mBAAGmD,UAAU,YAAb,SACC,mBAAG+J,KAAI,oBAAKnE,EAAKA,YAAV,aAAK,EAAWyD,IAAhB,kBAAqCzI,OAAO,SAAS6N,IAAI,aAAhE,mBACE7I,EAAKA,YADP,aACE,EAAWjG,QAFgB9C,WASjC,qBAAKmD,UAAU,qBAAf,SACC,qBAAKA,UAAU,4BAAf,SACC,mBAAGA,UAAU,iDC9Ed,SAASgP,KACf,IAAM5L,EAAQC,cAERgG,EAAM,SAAC/F,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAE9C,OACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOA,KAAM+F,EAAI,KAAMmB,OAAK,EAACC,UAAW5D,KACxC,cAAC,IAAD,CAAOvD,KAAM+F,EAAI,QAASoB,UAAWjF,KACrC,cAAC,IAAD,CAAOlC,KAAM+F,EAAI,QAASmB,OAAK,EAACC,UAAW1D,KAC3C,cAAC,IAAD,CAAOzD,KAAM+F,EAAI,aAAcoB,UAAWjF,QCTtC,SAASA,KAAQ,IAAD,EACcpH,oBAAS,GADvB,mBACff,EADe,KACH0E,EADG,OAEE3D,mBAAc,CACrCoC,IAAK,EACLb,KAAM,GACNiG,KAAM,KACNqJ,SAAU,KANW,mBAEfxV,EAFe,KAETkM,EAFS,KAShB1D,EAAUC,cAEVgJ,EAAS,IAAIC,WAEnBD,EAAOE,OAAS,SAACC,GACZA,EAAMzK,QAAUyK,EAAMzK,OAAO0K,SAChC7R,EAAKmM,KAAO8C,OAAO2C,EAAMzK,OAAO0K,QAChC3F,EAAQ,eACJlM,MAKN,IAAMkN,EAAMZ,sBACNmJ,EAAOnJ,sBAIP3D,EAAM,uCAAG,sBAAAC,EAAA,0DACVhF,EADU,wDAEd0E,GAAc,GAFA,kBAIPO,KAAMgE,KAAmB,iBAAkB7M,GAJpC,OAKbG,IAAOkK,QAAQ,oCAPG6B,EAAQ,CAAEhG,KAAM,GAAIiG,KAAM,OASxCsJ,EAAKxQ,SACRwQ,EAAKxQ,QAAQyQ,QARD,kDAWb7V,EAAY,EAAD,IAXE,yBAabyI,GAAc,GAbD,6EAAH,qDAiBZ,OACC,uBACC/B,UAAU,YACV2G,IAAKuI,EACL7O,SAAQ,uCAAE,WAAOF,GAAP,SAAAkC,EAAA,6DACTlC,EAAEC,iBADO,SAEHgC,IAFG,2CAAF,sDAHT,UAOC,sBAAKpC,UAAU,SAAf,UACC,oBAAIA,UAAU,yBAAd,iCACA,wBACCA,UAAU,gDACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQiE,UAJV,qBASD,sBAAKlG,UAAU,aAAf,UACC,uBAAOM,QAAQ,WAAf,sBACA,uBACCC,KAAK,OACLZ,KAAK,WACLa,GAAG,WACHC,YAAY,WACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAKwV,SACZvO,SAAU,SAACP,GACV1G,EAAKwV,SAAW9O,EAAES,OAAOpE,MACzBmJ,EAAQ,eAAKlM,UAIhB,sBAAKuG,UAAU,aAAf,UACC,wBACCA,UAAS,8BAAyBvH,EAAM4E,GAA4B,OAAd5D,EAAKmM,KAAe,aAC1E7C,SAAU1F,GAA4B,OAAd5D,EAAKmM,KAC7B1F,QAAS,SAACC,GACTA,EAAEC,iBACgB,OAAd3G,EAAKmM,MACRe,EAAIjI,QAAS+H,SANhB,SASgB,OAAdhN,EAAKmM,KAAgB,cAAgB,kBAEvC,uBACCrF,KAAK,OACLoG,IAAKA,EACL3G,UAAS,uCAAkCvH,EAAM4E,EAAY,YAApD,WACT0F,SAAU1F,EACVqD,SAAU,SAACP,GACV,GAAIA,EAAES,OAAO8F,OAASvG,EAAES,OAAO8F,MAAMxM,OAAS,EAAG,CAChD,IAAM0L,EAAOzF,EAAES,OAAO8F,MAAM,GAE5BwE,EAAOW,cAAcjG,GAErBnM,EAAKkG,KAAOiG,EAAKjG,KAEjBgG,EAAQ,eACJlM,WAMR,qBAAKuG,UAAU,aAAf,SACC,wBAAQO,KAAK,SAASP,UAAS,iCAA4BvH,EAAM4E,EAAY,aAAe0F,SAAU1F,EAAtG,SACEA,EACA,qBAAK2C,UAAU,OAAf,SACC,mBAAGA,UAAU,4BAGd,cCpHC,SAAS6G,KAAQ,IAAD,EACoBzI,mBAA8B,IADlD,mBACfgR,EADe,KACAC,EADA,OAEcjR,oBAAS,GAFvB,mBAEff,EAFe,KAEH0E,EAFG,KAGhBqB,EAAQC,cACRpB,EAAUC,cAEVoB,EAAO,SAACA,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAEzCgM,EAAkB,uCAAG,8BAAAjN,EAAA,6DAC1BN,GAAc,GADY,kBAGFO,KAAMnE,IAAyB,kBAH7B,gBAGjB1E,EAHiB,EAGjBA,KACR4V,EAAiB5U,EAAWhB,EAAM,CAAC,aAJV,gDAMzBmJ,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,kCAPY,yBASzBwI,GAAc,GATW,4EAAH,qDAalBwN,EAAkB,uCAAG,WAAO/O,GAAP,SAAA6B,EAAA,6DAC1BN,GAAc,GADY,kBAGnBO,KAAMuB,OAAN,4BAAkCrD,IAHf,cAIzB5G,IAAOkK,QAAQ,sCAJU,SAKnBwL,IALmB,uDAOzB1M,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,kCACbwI,GAAc,GATW,yDAAH,sDAiBxB,OAJA3C,qBAAU,WACTkQ,MACE,IAGF,cAACvS,GAAD,CACCC,MAAM,gBACNyC,QAASxF,EAAmBmV,GAAehW,KAAI,SAACsG,GAC/C,MAAI,CAAC,aAAc,cAAc5E,SAAS4E,EAAO1B,eACzC7E,EAAQuG,EAAO1G,MAAM,KAAK,IAE3B0G,KAERjG,KAAM2V,EAAchW,KAAI,SAACoW,GAAD,mBAAC,eACrBA,GADoB,IAEvB5J,KACC,mBAAGmE,KAAI,UAAKyF,EAAa5J,KAAMyD,IAAxB,kBAA6CrJ,UAAU,yBAA9D,sBAIDiF,WAAYlK,IAAMyU,EAAavK,YAAY2G,UAC3CzG,WAAYpK,IAAMyU,EAAarK,YAAYyG,eAE5CvO,WAAYA,EACZC,WAAY,kBAAM2E,EAAQrF,KAAK0G,EAAK,SACpCrG,YAAa,YAAa,IAAVuD,EAAS,EAATA,GACfyB,EAAQrF,KAAK0G,EAAK,GAAD,OAAI9C,MAEtBtD,YAAa,YAAa,IAAVsD,EAAS,EAATA,GACfyB,EAAQrF,KAAK0G,EAAK,GAAD,OAAI9C,EAAJ,YAElBrD,gBAAiB,YAAa,IAAVqD,EAAS,EAATA,GACnB+O,EAAmB/O,IAEpBpD,eAAgBkS,EAChB/R,YAAY,EACZC,YAAY,EACZG,cAAc,EACdD,cAAc,IC5EV,SAAS+R,KACf,IAAMrM,EAAQC,cAERgG,EAAM,SAAC/F,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAE9C,OACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOA,KAAM+F,EAAI,KAAMmB,OAAK,EAACC,UAAW5D,KACxC,cAAC,IAAD,CAAOvD,KAAM+F,EAAI,QAASoB,UAAWjF,QCJjC,SAASkK,KAAQ,IAAD,EACEtR,mBAAqB,IADvB,mBACf8L,EADe,KACTyF,EADS,KAGhBC,EAAS,uCAAG,8BAAAvN,EAAA,+EAEOC,KAAMnE,IAAI,SAFjB,gBAER1E,EAFQ,EAERA,KACRkW,EAAQ,YAAIlW,IAHI,gDAKhBmJ,QAAQC,IAAI,KAAMC,UAClBxJ,EAAY,EAAD,IANK,yDAAH,qDAef,OALA8F,qBAAU,WACTwQ,MAEE,IAGF,sBAAK5P,UAAU,aAAf,UACC,sBAAKA,UAAU,cAAf,UACC,oBAAIA,UAAU,aAAd,0BACiB,IAAhBkK,EAAKhQ,OAAe,mBAAG8F,UAAU,YAAb,qBAAuC,QAE7D,qBAAKA,UAAU,6BAA6B5E,MAAO,CAAEyF,UAAW,UAAhE,SACC,wBAAOb,UAAU,6BAAjB,UACC,gCACC,+BACC,sCACA,wCACA,8CACA,kDACA,2CAGF,gCACE,YAAIkK,GAAM2F,UAAUzW,KAAI,SAACyJ,EAAKhG,GAAN,qBACxB,+BACC,uCAAKgG,EAAIV,YAAT,aAAK,EAAUxC,OACf,6BAAKkD,EAAI/B,SACT,uCAAK+B,EAAIiN,gBAAT,iBAAK,EAAc1K,oBAAnB,aAAK,EAA4BzF,OACjC,uCAAKkD,EAAIiN,gBAAT,iBAAK,EAAc3N,YAAnB,aAAK,EAAoBxC,OACzB,6BAAK5E,IAAM8H,EAAIsC,YAAYD,OAAO,6BAL1BrI,gBCpCT,SAASkT,KAAS,IAAD,EACG3R,mBAAS,CAClC4R,MAAO,EACP9F,KAAM,EACN+F,kBAAmB,EACnBC,iBAAkB,EAClBC,SAAU,OANY,mBAChBC,EADgB,KACTC,EADS,KAQjBjN,EAAQC,cAERgG,EAAM,SAAC/F,GACZ,IAAMwB,EAAY1B,EAAME,KAAKtK,MAAM,IAInC,MAHwC,MAApC8L,EAAUA,EAAU5K,OAAS,IAChC4K,EAAUhI,OAAOgI,EAAU5K,OAAS,EAAG,GAElC,GAAN,OAAU4K,EAAU5L,KAAK,KAAzB,OAA+BoK,IAG1BgN,EAAU,uCAAG,8BAAAjO,EAAA,+EAEMC,KAAMnE,IAAI,eAFhB,gBAET1E,EAFS,EAETA,KACR4W,EAAS5W,GAHQ,gDAKjBmJ,QAAQC,IAAI,KAAMC,UALD,yDAAH,qDAchB,OALA1D,qBAAU,WACTkR,MAEE,IAGF,gCACC,sBAAKtQ,UAAU,MAAf,UACC,qBAAKA,UAAU,6BAAf,SACC,sBAAKA,UAAU,kBAAf,UACC,qBAAKA,UAAU,aAAf,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,iBAAf,SACC,qBAAKA,UAAU,oCAAf,SACC,mBAAGA,UAAU,sCAGf,qBAAKA,UAAU,iBAAf,SACC,sBAAKA,UAAU,UAAf,UACC,mBAAGA,UAAU,gBAAb,8BACA,mBAAGA,UAAU,aAAb,SAA2BoQ,EAAMF,mBACjC,gCAKJ,sBAAKlQ,UAAU,cAAf,UACC,uBACA,eAAC,IAAD,CAAM6J,GAAIR,EAAI/N,EAAgBC,MAAOyE,UAAU,QAA/C,UACC,mBAAGA,UAAU,eADd,kBAOH,qBAAKA,UAAU,6BAAf,SACC,sBAAKA,UAAU,kBAAf,UACC,qBAAKA,UAAU,aAAf,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,iBAAf,SACC,qBAAKA,UAAU,oCAAf,SACC,mBAAGA,UAAU,4CAGf,qBAAKA,UAAU,iBAAf,SACC,sBAAKA,UAAU,UAAf,UACC,mBAAGA,UAAU,gBAAb,gCACA,mBAAGA,UAAU,aAAb,SAA2BoQ,EAAMH,oBACjC,gCAKJ,sBAAKjQ,UAAU,eAAf,UACC,uBACA,eAAC,IAAD,CAAM6J,GAAIR,EAAI/N,EAAgBC,MAAOyE,UAAU,QAA/C,UACC,mBAAGA,UAAU,qBADd,kBAOH,qBAAKA,UAAU,6BAAf,SACC,sBAAKA,UAAU,kBAAf,UACC,qBAAKA,UAAU,aAAf,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,iBAAf,SACC,qBAAKA,UAAU,oCAAf,SACC,mBAAGA,UAAU,sCAGf,qBAAKA,UAAU,iBAAf,SACC,sBAAKA,UAAU,UAAf,UACC,mBAAGA,UAAU,gBAAb,wBACA,mBAAGA,UAAU,aAAb,SAA2BoQ,EAAMlG,OACjC,gCAKJ,sBAAKlK,UAAU,eAAf,UACC,uBACA,sBAAKA,UAAU,QAAf,UACC,mBAAGA,UAAU,kBACZjF,IAAMqV,EAAMD,SAAWC,EAAMD,SAAShL,WAAa,IAAIP,MAAQgH,qBAKpE,qBAAK5L,UAAU,6BAAf,SACC,sBAAKA,UAAU,kBAAf,UACC,qBAAKA,UAAU,aAAf,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,iBAAf,SACC,qBAAKA,UAAU,oCAAf,SACC,mBAAGA,UAAU,6CAGf,qBAAKA,UAAU,iBAAf,SACC,sBAAKA,UAAU,UAAf,UACC,mBAAGA,UAAU,gBAAb,mBACA,mBAAGA,UAAU,aAAb,SAA2BoQ,EAAMJ,QACjC,gCAKJ,sBAAKhQ,UAAU,eAAf,UACC,uBACA,eAAC,IAAD,CAAM6J,GAAIR,EAAI/N,GAAe0E,UAAU,QAAvC,UACC,mBAAGA,UAAU,kBADd,qBAQJ,cAAC0P,GAAD,OCnJI,SAASlK,KAAQ,IAAD,EACcpH,oBAAS,GADvB,mBACff,EADe,KACH0E,EADG,OAEE3D,mBAAS,OAFX,mBAEfyM,EAFe,KAETC,EAFS,OAGE1M,mBAAe,CACtCoC,IAAK,EACLb,KAAM,GACNmO,MAAO,GACPyC,SAAU,GACVpP,KAAM,YACNqP,MAAO,OATc,mBAGf/W,EAHe,KAGTkM,EAHS,KAYhB1D,EAAUC,cAEViM,EAAe,SAAChO,GAA0D,IAAD,EACxDA,EAAES,OAAhBJ,EADsE,EACtEA,GAAIhE,EADkE,EAClEA,MACZmJ,EAAQ,2BACJlM,GADG,mBAEL+G,EAAKhE,MAMF4F,EAAM,uCAAG,sBAAAC,EAAA,0DACVhF,EADU,wDAEd0E,GAAc,GAFA,kBAIG,QAAT8I,EAAiBvI,KAAMgE,KAAW,SAAU7M,GAAQ6I,KAAMuC,IAAU,SAAUpL,GAJxE,OAKbG,IAAOkK,QAAQ,4BACF,QAAT+G,GARclF,EAAQ,CAAEhG,KAAM,GAAImO,MAAO,GAAIyC,SAAU,GAAIpP,KAAM1H,EAAK0H,KAAMX,IAAK,EAAGgQ,MAAO,OAElF,kDAUblX,EAAY,EAAD,IAVE,yBAYbyI,GAAc,GAZD,6EAAH,qDAgBN0O,EAAS,uCAAG,WAAOC,GAAP,iBAAArO,EAAA,6DACjByI,EAAQ,QADS,kBAGOxI,KAAMnE,IAAN,yBAAkCuS,IAHzC,iBAGRjX,EAHQ,EAGRA,MACH8W,SAAW,GAChB5K,EAAQlM,GALQ,kDAOhBH,EAAY,EAAD,IACX2I,EAAQiE,SARQ,0DAAH,sDAxCO,EAoDG7C,cAAjB2C,EApDc,EAoDdA,OAAQ1C,EApDM,EAoDNA,KAShB,OAPAlE,qBAAU,WACLkE,EAAKxI,SAAS,SACjB2V,EAAUzK,EAAOxF,MAGhB,IAGF,uBACCR,UAAU,YACVK,SAAQ,uCAAE,WAAOF,GAAP,SAAAkC,EAAA,6DACTlC,EAAEC,iBADO,SAEHgC,IAFG,2CAAF,sDAFT,UAMC,sBAAKpC,UAAU,SAAf,UACC,qBAAIA,UAAU,yBAAd,UAAwC6K,EAAxC,WACA,wBACC7K,UAAU,gDACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQiE,UAJV,qBASD,sBAAKlG,UAAU,aAAf,UACC,uBAAOM,QAAQ,OAAf,kBACA,uBACCC,KAAK,OACLZ,KAAK,OACLa,GAAG,OACHC,YAAY,OACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAKkG,KACZe,SAAUyN,OAGZ,sBAAKnO,UAAU,aAAf,UACC,uBAAOM,QAAQ,QAAf,mBACA,uBACCC,KAAK,QACLZ,KAAK,QACLa,GAAG,QACHC,YAAY,QACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAKqU,MACZpN,SAAUyN,OAGZ,sBAAKnO,UAAU,aAAf,UACC,uBAAOM,QAAQ,QAAf,mBACA,uBACCC,KAAK,OACLZ,KAAK,QACLa,GAAG,QACHC,YAAY,QACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAK+W,MACZ9P,SAAUyN,OAGZ,sBAAKnO,UAAU,aAAf,UACC,uBAAOM,QAAQ,WAAf,sBACA,uBACCC,KAAK,WACLZ,KAAK,WACLa,GAAG,WACHC,YAAY,WACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAK8W,SACZ7P,SAAUyN,OAGZ,sBAAKnO,UAAU,aAAf,UACC,uBAAOM,QAAQ,OAAf,kBACA,wBAAQX,KAAK,OAAOa,GAAG,OAAOR,UAAU,+BAA+BxD,MAAO/C,EAAK0H,KAAMT,SAAUyN,EAAnG,SACE,CAAC,QAAS,UAAW,aAAc,WAAY,YAAa,YAAa,aAAa/U,KAAI,SAAC+H,EAAMtE,GAAP,OAC1F,wBAAQL,MAAO2E,EAAf,SACEA,GADwBtE,WAM7B,qBAAKmD,UAAU,aAAf,SACC,wBAAQO,KAAK,SAASP,UAAS,iCAA4BvH,EAAM4E,EAAY,aAAe0F,SAAU1F,EAAtG,SACEA,EACA,qBAAK2C,UAAU,OAAf,SACC,mBAAGA,UAAU,4BAGd,cClJC,SAAS6G,KAAQ,IAAD,EACIzI,mBAAsB,IAD1B,mBACf4R,EADe,KACRW,EADQ,OAEcvS,oBAAS,GAFvB,mBAEff,EAFe,KAEH0E,EAFG,KAGhBqB,EAAQC,cACRpB,EAAUC,cAEVoB,EAAO,SAACA,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAEzCsN,EAAU,uCAAG,8BAAAvO,EAAA,6DAClBN,GAAc,GADI,kBAGMO,KAAMnE,IAAiB,UAH7B,gBAGT1E,EAHS,EAGTA,KACRkX,EAASlW,EAAWhB,EAAM,CAAC,wBAJV,gDAMjBmJ,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,0BAPI,yBASjBwI,GAAc,GATG,4EAAH,qDAaV8O,EAAU,uCAAG,WAAOrQ,GAAP,SAAA6B,EAAA,6DAClBN,GAAc,GADI,kBAGXO,KAAMuB,OAAN,oBAA0BrD,IAHf,cAIjB5G,IAAOkK,QAAQ,8BAJE,SAKX8M,IALW,uDAOjBhO,QAAQC,IAAI,KAAMC,UAClBxJ,EAAY,EAAD,IACXyI,GAAc,GATG,yDAAH,sDAahB3C,qBAAU,WACTwR,MACE,IAYH,OACC,cAAC7T,GAAD,CACCC,MAAM,QACNyC,QAASxF,EAAmB+V,GAAO5W,KAAI,SAACsG,GACvC,MAAI,CAAC,aAAc,cAAc5E,SAAS4E,EAAO1B,eACzC7E,EAAQuG,EAAO1G,MAAM,KAAK,IAEL,oBAAzB0G,EAAO1B,cACH,GAED0B,KAERjG,KAAMuW,EAAM5W,KAAI,SAAC+I,GAAD,MAtBAhB,EAsBA,mBAAC,eACbgB,GADY,IAEf8C,WAAYlK,IAAMoH,EAAK8C,YAAY2G,UACnCzG,WAAYpK,IAAMoH,EAAKgD,YAAYyG,UACnCzK,KAAM,sBAAMnB,UAAS,uBA1BNmB,EA0BgCgB,EAAKhB,KAzBzC,UAATA,EACI,MACY,cAATA,EACH,UAEA,UAoBA,SAAwDgB,EAAKhB,OACnE2P,eACC,cAAC,IAAD,CAAMjH,GAAIvG,EAAK,GAAD,OAAInB,EAAK3B,KAAvB,SACC,qBACCgL,KAAK,UAAArJ,EAAK2O,sBAAL,eAAqBzH,MAAO,iCACjCrJ,UAAU,8DACV5E,MAAO,CAAEgS,OAAQ,OAAQH,MAAO,QAChCxB,IAAI,mBAKRpO,WAAYA,EACZC,WAAY,kBAAM2E,EAAQrF,KAAK0G,EAAK,SACpCrG,YAAa,YAAa,IAAVuD,EAAS,EAATA,GACfyB,EAAQrF,KAAK0G,EAAK,GAAD,OAAI9C,MAEtBtD,YAAa,YAAa,IAAVsD,EAAS,EAATA,GACfyB,EAAQrF,KAAK0G,EAAK,GAAD,OAAI9C,EAAJ,YAElBrD,gBAAiB,YAAa,IAAVqD,EAAS,EAATA,GACnBqQ,EAAWrQ,IAEZpD,eAAgBwT,EAChBrT,YAAY,EACZC,YAAY,IC3FR,SAASuJ,KAAQ,IAAD,IACE3I,mBAAsB,MADxB,mBACf+D,EADe,KACT4O,EADS,KAEhB9O,EAAUC,cAEVuO,EAAS,uCAAG,WAAOC,GAAP,iBAAArO,EAAA,+EAEOC,KAAMnE,IAAN,yBAAkCuS,IAFzC,gBAERjX,EAFQ,EAERA,KACRsX,EAAQtX,GAHQ,gDAKhBH,EAAY,EAAD,IACX2I,EAAQiE,SANQ,yDAAH,sDAUX8B,GAAW,EAET6I,EAAU,uCAAG,sBAAAxO,EAAA,0DACd2F,EADc,wDAIlBA,GAAW,EAJO,kBAMX1F,KAAMuB,OAAN,2BAA0B1B,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAM3B,KANrB,OAOjB5G,IAAOkK,QAAQ,8BACf7B,EAAQiE,SARS,kDAUjB5M,EAAY,EAAD,IAVM,yBAYjB0O,GAAW,EAZM,6EAAH,qDAgBRhC,EAAW3C,cAAX2C,OAER5G,qBAAU,WACTqR,EAAUzK,EAAOxF,MAEf,IAEH,IAAMwQ,GAAiB,OAAJ7O,QAAI,IAAJA,GAAA,UAAAA,EAAM2O,sBAAN,eAAsBzH,MAAO,kCAEhD,OACC,sBAAKrJ,UAAU,YAAf,UACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,SAAf,SACC,oBAAIA,UAAU,OAAd,yBAED,sBAAKA,UAAU,gBAAf,UACC,wBACCA,UAAU,wCACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQiE,UAJV,kBAQA,cAAC,IAAD,CAAM2D,GAAE,UAAK/N,OAAO6L,SAASmC,SAArB,SAAsC9J,UAAU,mDAAxD,kBAGA,mBACC+J,KAAI,UAAKjO,OAAO6L,SAASmC,SAArB,WACJ9J,UAAU,+CACVE,QAAS,SAACC,GACTA,EAAEC,iBACFuB,EAAE,oBAAoBD,MAAM,SAL9B,uBAUD,qBAAK1B,UAAU,SAAf,SACEmC,EACA,qBAAKnC,UAAU,sBAAf,SACC,sBAAKA,UAAU,YAAf,UACC,qBACCwL,IAAKwF,EACLvF,IAAI,UACJzL,UAAU,gCACV5E,MAAO,CAAEgS,OAAQ,OAAQH,MAAO,UAEjC,sCACA,4BAAI9K,EAAKxC,OACT,uCACA,4BAAIwC,EAAK2L,QACT,uCACA,4BAAI3L,EAAKqO,QACT,sCACA,4BAAIrO,EAAKhB,YAIX,qBAAKnB,UAAU,qBAAf,SACC,qBAAKA,UAAU,4BAAf,SACC,mBAAGA,UAAU,+CAMlB,qBACCA,UAAU,aACVQ,GAAE,kBACFU,UAAW,EACXC,KAAK,SACLC,kBAAA,uBACAC,cAAY,OANb,SAOC,qBAAKrB,UAAU,8CAA8CmB,KAAK,WAAlE,SACC,sBAAKnB,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAcQ,GAAE,uBAA9B,yBAGA,wBAAQD,KAAK,SAASP,UAAU,QAAQwB,eAAa,QAAQC,aAAW,QAAxE,SACC,sBAAMJ,cAAY,OAAlB,uBAGF,sBAAKrB,UAAU,aAAf,8CAAiE,OAAJmC,QAAI,IAAJA,OAAA,EAAAA,EAAMxC,OAAQ,YAA3E,OACA,sBAAKK,UAAU,eAAf,UACC,wBACCO,KAAK,SACLP,UAAU,wBACVE,QAAS,SAACC,GACTA,EAAEC,iBACFuB,EAAE,oBAAoBD,MAAM,QAC5BmP,KANF,qBAUA,wBAAQtQ,KAAK,SAASP,UAAU,2BAA2BwB,eAAa,QAAxE,iCChIA,SAASyP,KACf,IAAM7N,EAAQC,cAERgG,EAAM,SAAC/F,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAE9C,OACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOA,KAAM+F,EAAI,KAAMmB,OAAK,EAACC,UAAW5D,KACxC,cAAC,IAAD,CAAOvD,KAAM+F,EAAI,QAASoB,UAAWjF,KACrC,cAAC,IAAD,CAAOlC,KAAM+F,EAAI,QAASmB,OAAK,EAACC,UAAW1D,KAC3C,cAAC,IAAD,CAAOzD,KAAM+F,EAAI,aAAcoB,UAAWjF,QCLtC,SAAS0L,KACf,IAAM9N,EAAQC,cAERgG,EAAM,SAAC/F,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAE9C,OACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOA,KAAM+F,EAAI,KAAMmB,OAAK,EAACC,UAAWsF,KACxC,cAAC,IAAD,CAAOzM,KAAM+F,EAAI/N,GAAemP,UAAWwG,KAC3C,cAAC,IAAD,CAAO3N,KAAM+F,EAAI/N,GAAwBmP,UAAWuE,KACpD,cAAC,IAAD,CAAO1L,KAAM+F,EAAI/N,EAAgBC,MAAOkP,UAAWxH,KACnD,cAAC,IAAD,CAAOK,KAAM+F,EAAI/N,GAAuBmP,UAAWgF,KACnD,cAAC,IAAD,CAAOnM,KAAM+F,EAAI/N,GAAamP,UAAW4B,KACzC,cAAC,IAAD,CAAO/I,KAAM+F,EAAI/N,GAAkBmP,UAAWsD,QCnB1C,SAASoD,KACf,IAAM/N,EAAQC,cAERgG,EAAM,SAAC/F,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAExC8N,EAAQ,CACb,CACC/H,IAAK/N,EACL+V,KAAM,kBACNrU,MAAO,aAER,CACCqM,IAAKA,EAAI/N,GACT+V,KAAM,2BACNrU,MAAO,kBAER,CACCqM,IAAKA,EAAI/N,EAAgBC,MACzB8V,KAAM,yBACNrU,MAAO,YAER,CACCqM,IAAKA,EAAI,GAAD,OAAI/N,EAAgBC,MAApB,OAA2BD,EAAgBG,WACnD4V,KAAM,yBACNrU,MAAO,qBAER,CACCqM,IAAKA,EAAI,GAAD,OAAI/N,EAAgBC,MAApB,OAA2BD,EAAgBE,WACnD6V,KAAM,mBACNrU,MAAO,qBAER,CACCqM,IAAKA,EAAI/N,GACT+V,KAAM,uBACNrU,MAAO,SAER,CACCqM,IAAKA,EAAI/N,GACT+V,KAAM,uBACNrU,MAAO,iBAER,CACCqM,IAAKA,EAAI/N,GACT+V,KAAM,4BACNrU,MAAO,aAIT,OACC,qBAAKgD,UAAU,4BAA4B5E,MAAO,CAAEkW,UAAW,UAA/D,SACC,oBAAItR,UAAU,MAAd,SACEoR,EAAMhY,KAAI,SAACmY,EAAM1U,GAAP,OACV,oBAAImD,UAAWvH,EAAM8Y,EAAKlI,MAAQvN,OAAO6L,SAASmC,SAAU,UAA5D,SACC,eAAC,IAAD,CAAMD,GAAI0H,EAAKlI,IAAf,UACC,mBAAGrJ,UAAYuR,EAAKF,OACpB,4BAAIE,EAAKvU,YAHkEH,UCnD3E,SAAS2U,KACf,IAAMpO,EAAQC,cAERgG,EAAM,SAAC/F,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAE9C,OACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOA,KAAM+F,EAAI,KAAMmB,OAAK,EAACC,UAAWsF,KACxC,cAAC,IAAD,CAAOzM,KAAM+F,EAAI/N,EAAgBC,MAAOkP,UAAWxH,QCT/C,SAASwO,KACf,IAEanO,EAFPF,EAAQC,cAIR+N,EAAQ,CACb,CACC/H,IAAK/N,EACL+V,KAAM,kBACNrU,MAAO,aAER,CACCqM,KATW/F,EASFhI,EAAgBC,KATf,UAAqB6H,EAAME,MAA3B,OAAkCA,IAU5C+N,KAAM,yBACNrU,MAAO,aAIT,OACC,qBAAKgD,UAAU,kBAAkB5E,MAAO,CAAEkW,UAAW,UAArD,SACC,oBAAItR,UAAU,MAAd,SACEoR,EAAMhY,KAAI,SAACmY,EAAM1U,GAAP,OACV,oBAAImD,UAAWvH,EAAM8Y,EAAKlI,MAAQvN,OAAO6L,SAASmC,SAAU,UAA5D,SACC,eAAC,IAAD,CAAMD,GAAI0H,EAAKlI,IAAf,UACC,mBAAGrJ,UAAWuR,EAAKF,OACnB,4BAAIE,EAAKvU,YAHiEH,UCnB1E,SAAS6U,KAAW,IAAD,IACWtT,oBAAS,GADpB,mBAClBf,EADkB,KACN0E,EADM,OAED3D,mBAASN,EAAMK,IAAU,SAFxB,mBAElB1E,EAFkB,KAEZkM,EAFY,OAGWvH,oBAAS,UAAA3E,EAAKqX,sBAAL,eAAqBzH,MAAO,mCAHhD,mBAGlB2H,EAHkB,KAGNW,EAHM,KAInBxP,EAAO1I,EAEPqM,EAAUC,sBAEVmF,EAAS,IAAIC,WAEfyG,GAAkB,EAEtB1G,EAAOE,OAAP,uCAAgB,WAAOjL,GAAP,mBAAAkC,EAAA,0DACXlC,EAAES,SAAUT,EAAES,OAAO0K,OADV,qBAEVsG,EAFU,wDAKdA,GAAkB,EALJ,kBAOUtP,KAAMuC,IAAU,gBAAiB,CACvDe,KAAM8C,OAAOvI,EAAES,OAAO0K,UARV,gBAOL7R,EAPK,EAOLA,KAIRkY,GAAc,UAAAlY,EAAKqX,sBAAL,eAAqBzH,MAAO,mCAE1CvL,EAAMW,IAAI,OAAQhF,GAElBG,IAAO+I,KAAK,yBAA0B,QAfzB,kDAiBbC,QAAQC,IAAR,MACAvJ,EAAY,EAAD,IAlBE,yBAoBbqI,EAAmB,gBAAgB,GAAGwN,QACtCyC,GAAkB,EArBL,6EAAhB,sDA0BA,IAAMxP,EAAM,uCAAG,4BAAAC,EAAA,6DACdN,GAAc,GADA,kBAGUO,KAAMuC,IAAN,QAAyBpL,GAHnC,OAGPD,EAHO,OAIbsE,EAAMW,IAAI,OAAQjF,EAASC,MAC3BG,IAAO+I,KAAK,gCAAiC,QALhC,gDAObC,QAAQC,IAAR,MACAvJ,EAAY,EAAD,IARE,yBAUbyI,GAAc,GAVD,4EAAH,qDAcZ3C,qBAAU,WACTuC,EAAE,eAAekQ,YAAY,SAC7B,IAAMzX,EAAM0D,EAAMe,OAAa,QAAQ,SAACsD,GACvCwD,EAAQ,eAAKlM,OAEd,OAAO,WACNqE,EAAMuB,SAAS,OAAQjF,MAGtB,IAEH,IAAM+T,EAAe,SAAChO,GAA0D,IAAD,EACxDA,EAAES,OAAhBJ,EADsE,EACtEA,GAAIhE,EADkE,EAClEA,MACZmJ,EAAQ,2BACJlM,GADG,mBAEL+G,EAAKhE,MAIR,OACC,sBAAKwD,UAAU,MAAf,UACC,qBAAKA,UAAU,WAAf,SACC,sBAAKA,UAAU,uBAAf,UACC,qBAAKA,UAAU,QAAf,SACC,qBAAKwL,IAAI,gCAAgCC,IAAI,UAE9C,qBAAKzL,UAAU,YAAf,SACC,sBAAKA,UAAU,SAAf,UACC,mBACC+J,KAAMjO,OAAO6L,SAASmC,SACtB9M,MAAM,yBACNkD,QAAS,SAACC,GAAO,IAAD,EACfA,EAAEC,iBACF,UAAA0F,EAAQpH,eAAR,SAAiB+H,SALnB,SAOC,qBAAKzG,UAAU,+BAA+BwL,IAAKwF,EAAYvF,IAAI,UAEpE,cAAC,IAAD,CAAM5B,GAAI/N,OAAO6L,SAASmC,SAA1B,SACC,oBAAI9J,UAAU,QAAd,SAAuBmC,EAAKxC,SAE7B,oBAAGK,UAAU,cAAb,cAA6BmC,EAAKxC,KAAK3G,MAAM,KAAKE,KAAK,IAAI8E,sBAG7D,sBAAKgC,UAAU,cAAf,UACC,uBACA,qBAAKA,UAAU,mBAAf,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,kCAAf,SACC,oCAEC,uBACA,+CAGF,qBAAKA,UAAU,0CAAf,SACC,mCAEC,uBACA,kDAGF,qBAAKA,UAAU,mBAAf,SACC,mCAEC,uBACA,6DAQP,qBAAKA,UAAU,WAAf,SACC,sBAAKA,UAAU,iBAAf,UACC,qBAAKA,UAAU,cAAf,SACC,oBAAIA,UAAU,aAAd,4BAED,sBAAKA,UAAU,YAAf,UACC,sBAAMQ,GAAG,cAAcH,SAAU,SAACF,GAAD,OAAOA,EAAEC,kBAA1C,SACC,uBACCG,KAAK,OACLoG,IAAKb,EACL9F,UAAU,SACVU,SAAU,SAACP,GACNA,EAAES,OAAO8F,OAASvG,EAAES,OAAO8F,MAAMxM,OAAS,GAC7CgR,EAAOW,cAAc1L,EAAES,OAAO8F,MAAM,KAGtCoL,OAAO,cAGT,uBACCzR,SAAQ,uCAAE,WAAOF,GAAP,SAAAkC,EAAA,6DACTlC,EAAEC,iBADO,SAEHgC,IAFG,2CAAF,sDADT,UAKC,qBAAKpC,UAAU,MAAf,SACC,sBAAKA,UAAU,SAAf,UACC,sBAAKA,UAAU,aAAf,UACC,uBAAOM,QAAQ,OAAf,kBACA,uBACCC,KAAK,OACLZ,KAAK,OACLa,GAAG,OACHC,YAAY,OACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAKkG,KACZe,SAAUyN,OAGZ,sBAAKnO,UAAU,aAAf,UACC,uBAAOM,QAAQ,QAAf,mBACA,uBACCC,KAAK,QACLZ,KAAK,QACLa,GAAG,QACHC,YAAY,QACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAKqU,MACZpN,SAAUyN,OAGZ,sBAAKnO,UAAU,aAAf,UACC,uBAAOM,QAAQ,QAAf,mBACA,uBACCC,KAAK,OACLZ,KAAK,QACLa,GAAG,QACHC,YAAY,QACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAK+W,MACZ9P,SAAUyN,OAGZ,sBAAKnO,UAAU,aAAf,UACC,uBAAOM,QAAQ,WAAf,sBACA,uBACCC,KAAK,WACLZ,KAAK,WACLa,GAAG,WACHC,YAAY,WACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAK8W,SACZ7P,SAAUyN,YAKd,qBAAKnO,UAAU,MAAf,SACC,qBAAKA,UAAU,yBAAf,SACC,wBACCO,KAAK,SACLP,UAAS,gDAA2CvH,EAAM4E,EAAY,aACtEjC,MAAO,CAAE6R,MAAO,SAChBlK,SAAU1F,EAJX,SAKEA,EACA,qBAAK2C,UAAU,OAAf,SACC,mBAAGA,UAAU,4BAGd,qCC/NJ,SAAS+R,KACf,OACC,wBAAQ/R,UAAU,gBAAgB5E,MAAO,CAAE2R,SAAU,WAAYiF,OAAQ,EAAG/E,MAAO,0BAAnF,SACC,qBAAKjN,UAAU,kBAAf,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,aAAf,SACC,+BACC,6BACC,mBACC+J,KAAK,IACLnJ,OAAO,SACPV,QAAS,SAACC,GACTA,EAAEC,kBAJJ,oBASD,6BACC,mBACC2J,KAAK,IACLnJ,OAAO,SACPV,QAAS,SAACC,GACTA,EAAEC,kBAJJ,6BAWH,qBAAKJ,UAAU,kBAAf,SACC,uBAAMA,UAAU,YAAhB,kCACmB,mBAAGA,UAAU,sBADhC,sBCtBC,SAASiS,KAAU,IAQZ3O,EARW,EACQlF,mBAAoB,IAD5B,mBACjB8T,EADiB,KACPC,EADO,KAElB/O,EAAQC,cAERyB,EAAY1B,EAAME,KAAKtK,MAAM,KAE7BgE,EAAQ3C,EAAWyK,EAAUA,EAAU5K,OAAS,IAIhD+H,EAAUC,cAEVC,EAAOrE,EAAMK,IAAU,QAEvBiU,EAAM,uCAAG,sBAAA/P,EAAA,+EAEPC,KAAMgE,KAAK,gBAFJ,sDAIb1D,QAAQC,IAAR,MAJa,uBAMb/E,EAAMuU,QACNpQ,EAAQrF,KAAKtB,GACb1B,IAAO+I,KAAK,2BAA4B,QAR3B,0EAAH,qDAYN2P,EAAa,uCAAG,8BAAAjQ,EAAA,+EAEGC,KAAMnE,IAAN,sBAFH,mBAEZ1E,EAFY,EAEZA,OACU,cAAd0I,EAAKhB,MAAwB1H,EAAKS,OAAS,GAH3B,yCAIZiY,EAAY3N,MAAMC,KAAKhL,EAAKgK,QAAO,SAAClB,GAAD,OAAaA,EAAQG,UAAYP,EAAK3B,SAJ7D,OAMpB2R,EAAY3N,MAAMC,KAAKhL,IANH,kDAQpBmJ,QAAQC,IAAI,KAAMC,UARE,0DAAH,qDAoBnB,OARA1D,qBAAU,WACT,IAAMmT,EAASjU,aAAY,kBAAMgU,MAAiB,KAClD,OAAO,WACNE,cAAcD,MAGb,IAGF,qBAAKvS,UAAU,wEAAf,SACC,sBAAKA,UAAU,0BAAf,UACC,sBAAKA,UAAU,iBAAf,UACC,qBAAKA,UAAU,gBAAf,SACC,yBAAQO,KAAK,SAASP,UAAU,iBAAhC,UACC,sBAAMA,UAAU,4BAChB,sBAAMA,UAAU,4BAChB,sBAAMA,UAAU,iCAGlB,mBAAGA,UAAU,eAAe+J,KAAK,IAAI7J,QAAS,SAACC,GAAD,OAAOA,EAAEC,kBAAvD,SACEpD,OAGH,yBACCgD,UAAU,iBACVO,KAAK,SACLQ,cAAY,WACZC,cAAY,cACZyR,gBAAc,mBACdC,gBAAc,QACdjR,aAAW,oBAPZ,UAQC,sBAAMzB,UAAU,oCAChB,sBAAMA,UAAU,oCAChB,sBAAMA,UAAU,uCAEjB,qBAAKA,UAAU,+CAA+CQ,GAAG,aAAjE,SAWC,qBAAIR,UAAU,aAAd,UACC,oBAAIA,UAAU,+BAAd,SACC,qBAAKA,UAAU,wCAAf,SACEkS,EAAS9Y,KAAI,SAACmJ,EAAS1F,GAAV,aACb,eAAC,IAAD,CACCmD,UAAU,uBACV6J,GAAE,UAAKvO,GAAL,OAAwBA,EAAgBC,KAAxC,YAAgDgH,EAAQ/B,IAF3D,UAIC,mBAAGR,UAAU,6CACb,uBAAMA,UAAU,oBAAhB,wCAAsDuC,EAAQJ,YAA9D,aAAsD,EAAcxC,KAApE,4BAFK9C,UAOT,qBAAImD,UAAU,+BAAd,UACC,oBACCA,UAAU,2BACV+J,KAAK,IACLvJ,GAAG,yBACHO,cAAY,WACZ2R,gBAAc,QALf,UAMC,mBAAG1S,UAAU,yBACb,4BACC,sBAAMA,UAAU,uBAAhB,0BAGF,sBAAKA,UAAU,wCAAwCoB,kBAAgB,yBAAvE,UACC,eAAC,IAAD,CAAMyI,IAvGAvG,EAuGQhI,EAvGT,UAAqB8H,EAAME,MAA3B,OAAkCA,IAuGRtD,UAAU,uBAAzC,UACC,mBAAGA,UAAU,gDACb,sBAAMA,UAAU,oBAAhB,wBAED,oBACCA,UAAU,uBACV+J,KAAM,UACN7J,QAAS,SAACC,GACTA,EAAEC,iBACFgS,KALF,UAOC,mBAAGpS,UAAU,6CACb,sBAAMA,UAAU,oBAAhB,uCC3HF,SAASwF,KAAQ,IAAD,QACcpH,oBAAS,GADvB,mBACff,EADe,KACH0E,EADG,OAEE3D,mBAAc,CACrCqH,kBAAmB,EACnB9B,UAAU,EACVhK,OAAQ,WACR+I,QAAS5E,EAAMK,IAAU,QAAQqC,GACjCmS,OAAQ,EACRC,OAAQ,GACRlO,mBAAoBtI,KAAKG,UAAU,MATd,mBAEf9C,EAFe,KAETkM,EAFS,OAWEvH,mBAAwC,IAX1C,mBAWfyU,EAXe,KAWTC,EAXS,OAYI1U,mBAA0B,IAZ9B,mBAYfsI,EAZe,KAYRsH,EAZQ,OAaI5P,mBAA8B,IAblC,mBAaf2U,EAbe,KAaRC,EAbQ,KAehB/Q,EAAUC,cAEViM,EAAe,SAAChO,GAA0D,IAAD,EACxDA,EAAES,OAAhBJ,EADsE,EACtEA,GAAIhE,EADkE,EAClEA,MACZmJ,EAAQ,2BACJlM,GADG,mBAEL+G,EAAKhE,MAIFyW,EAAU,uCAAG,4BAAA5Q,EAAA,+EAEMC,KAAMnE,IAAyB,mBAFrC,UAGY,KADvB3E,EAFW,QAGJC,KAAKS,OAHD,uBAIhBN,IAAO+I,KAAK,2FAA4F,UAJxF,kBAKTV,EAAQiE,UALC,OAOjB8M,EAASxZ,EAASC,MAClBkM,EAAQ,2BAAKlM,GAAN,IAAYgM,iBAAkBjM,EAASC,KAAK,GAAG+G,MACtDuB,GAAc,GATG,kDAWjBa,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,wDACb0I,EAAQiE,SAbS,0DAAH,qDAiBhB9G,qBAAU,WACT6T,MAEE,IAEH,IAAM9Q,EAAOrE,EAAMK,IAAU,QAEvB+U,EAAU,uCAAG,WAAOlW,EAAeuF,GAAtB,SAAAF,EAAA,+EAEXC,KAAMgE,KAAN,kBAA8B,CACnCvB,IAAK,WACL/H,QACAyF,WAAYF,EAAQ/B,GACpBuH,MAAM,EACNpI,KAAMwC,EAAKxC,OAPK,sDAUjBiD,QAAQC,IAAI,KAAMC,UAVD,wDAAH,wDAcVV,EAAM,uCAAG,oCAAAC,EAAA,0DACVhF,EADU,iDAMb,IAAWjD,KAJZ2H,GAAc,GAFA,SAIPoE,EAAU,IAAIC,SAEF3M,EACjB0M,EAAQE,OAAOjM,EAAKX,EAAKW,IAPb,OAUbsM,EAAMjD,QAAO,SAACmC,GAAD,OAAUA,aAAgByI,QAAMrU,SAAQ,SAAC4L,GAAD,OAAUO,EAAQE,OAAO,UAAWT,MAV5E,SAYmBtD,KAAMgE,KAAc,YAAaH,GAZpD,qBAYC5D,EAZD,EAYL9I,MAEI2L,aAdC,kCAeN+D,QAAQC,IACb5E,MAAMC,KAAarI,KAAKC,OAAM,UAACkG,EAAQ6C,oBAAT,aAAC,EAAsB6I,eAAwB,OAAO7U,KAAI,SAACoV,GAAD,OACvF0E,EAAW1E,EAAajM,OAjBd,QAsBbyL,EAAS,IACTpU,IAAOkK,QAAQ,iCAvBF,kDAyBbxK,EAAY,EAAD,IAzBE,yBA2BbyI,GAAc,GA3BD,6EAAH,qDA+BZ,OACC,uBACC/B,UAAU,wBACVK,SAAQ,uCAAE,WAAOF,GAAP,SAAAkC,EAAA,6DACTlC,EAAEC,iBADO,SAEHgC,IAFG,2CAAF,sDAFT,UAMC,sBAAKpC,UAAU,SAAf,UACC,oBAAIA,UAAU,qCAAd,4BACA,wBACCA,UAAU,gDACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQiE,UAJV,qBASD,sBAAKlG,UAAU,yBAAf,UACC,uBAAOM,QAAQ,mBAAf,2BACA,wBACCX,KAAK,mBACLa,GAAG,mBACHR,UAAU,+BACVU,SAAUyN,EACV3R,MAAO/C,EAAKgM,iBALb,SAMEsN,EAAM3Z,KAAI,SAACmH,EAAM1D,GAAP,OACV,wBAAoBL,MAAO+D,EAAKC,GAAhC,SACED,EAAKZ,MADM9C,WAMhB,sBAAKmD,UAAU,aAAf,UACC,uBAAOM,QAAQ,UAAf,oBACA,uBACCC,KAAK,SACLZ,KAAK,SACLa,GAAG,SACHC,YAAY,SACZT,UAAU,+BACVU,SAAUyN,EACV3R,MAAO/C,EAAKkZ,YAGd,sBAAK3S,UAAU,aAAf,UACC,uBAAOM,QAAQ,SAAf,oBACA,uBACCC,KAAK,OACLZ,KAAK,SACLa,GAAG,SACHC,YAAY,SACZT,UAAU,+BACVU,SAAUyN,EACV3R,MAAO/C,EAAKmZ,YAGd,sBAAK5S,UAAU,kBAAf,UACC,8CACE,SAACiO,GACF,IAAKA,EACJ,MAAO,GAER,IACC,IAAMxU,EAAO2C,KAAKC,MAAM4R,GACxB,OAAKxU,GACG,GAGP,MAAOF,GAER,OADAqJ,QAAQC,IAAItJ,EAAMuJ,UACX,IAZP,EAcC,UAAAiQ,EAAMvQ,MAAK,SAACjC,GAAD,OAAUI,OAAOJ,EAAKC,MAAQG,OAAOlH,EAAKgM,4BAArD,eAAyEwI,eAAgB,IAAI7U,KAC/F,SAACoV,EAAa3R,GAAd,OACC,4BAAgB2R,GAAR3R,MAGV,uCArBD,UAsBEkW,EACCvQ,MAAK,SAACjC,GAAD,OAAUI,OAAOJ,EAAKC,MAAQG,OAAOlH,EAAKgM,4BAvBlD,iBAsBE,EAEEiB,aAxBJ,aAsBE,EAEStN,KAAI,SAACwM,EAAM/I,GAAP,eACZ,4BACC,mBAAGkN,KAAI,oBAAKnE,EAAKA,YAAV,aAAK,EAAWyD,IAAhB,kBAAqCzI,OAAO,SAAS6N,IAAI,aAAhE,mBACE7I,EAAKA,YADP,aACE,EAAWjG,QAFN9C,MAMV,4CACA,qBAAKmD,UAAU,YAAf,SACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,SAAf,SACC,wBACCA,UAAU,sBACVE,QAAS,SAACC,GACTA,EAAEC,iBACFyS,EAAKjW,KAAKmJ,uBACV+M,EAAQ,YAAID,IACZnM,EAAM9J,KAAK,MACXoR,EAAS,YAAItH,KAPf,wBAYAmM,EAAKzZ,KAAI,SAACuN,EAAK9J,GAAN,aACT,sBAAKmD,UAAU,uDAAf,UACC,4BAAI0G,EAAM7J,GAAN,UAAe6J,EAAM7J,UAArB,aAAe,EAAc8C,KAAO,KACxC,wBACCK,UAAS,cAA0B,OAAjB0G,EAAM7J,GAAkB,gBAAkB,aAAnD,WACTqD,QAAS,SAACC,GAEmB,IAAD,GAD3BA,EAAEC,iBACmB,OAAjBsG,EAAM7J,IACT,UAAA8J,EAAIjI,eAAJ,SAAa+H,SAEbC,EAAM5J,OAAOD,EAAO,GACpBmR,EAAS,YAAItH,IACbmM,EAAK/V,OAAOD,EAAO,GACnBiW,EAAQ,YAAID,MAVf,SAamB,OAAjBnM,EAAM7J,GAAkB,SAAW,WAErC,uBACC8J,IAAKA,EACLpG,KAAK,OACLP,UAAU,SACVU,SAAU,SAACP,GACNA,EAAES,OAAO8F,OAASvG,EAAES,OAAO8F,MAAMxM,OAAS,IAC7CwM,EAAM5J,OAAOD,EAAO,EAAGsD,EAAES,OAAO8F,MAAM,IACtCsH,EAAS,YAAItH,UAxB0D7J,cAiC/E,qBAAKmD,UAAU,aAAf,SACC,wBAAQO,KAAK,SAASP,UAAS,iCAA4BvH,EAAM4E,EAAY,aAAe0F,SAAU1F,EAAtG,SACEA,EACA,qBAAK2C,UAAU,OAAf,SACC,mBAAGA,UAAU,4BAGd,cC/OC,SAAS6G,KAAQ,IAAD,EACUzI,mBAAyB,IADnC,mBACf8E,EADe,KACLC,EADK,OAEc/E,oBAAS,GAFvB,mBAEff,EAFe,KAEH0E,EAFG,KAGhBqB,EAAQC,cACRpB,EAAUC,cAEVoB,EAAO,SAACA,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAEzCE,EAAa,uCAAG,8BAAAnB,EAAA,6DACrBN,GAAc,GADO,kBAGGO,KAAMnE,IAAoB,kBAH7B,gBAGZ1E,EAHY,EAGZA,KACR0J,EAAY1I,EAAWhB,EAAM,CAAC,mBAAoB,UAAW,UAAW,OAAQ,wBAJ5D,gDAMpBmJ,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,6BAPO,yBASpBwI,GAAc,GATM,4EAAH,qDAiBnB,OAJA3C,qBAAU,WACToE,MACE,IAGF,qCACC,cAAC3B,GAAD,IACA,cAAC9E,GAAD,CACCC,MAAM,WACNvD,KAAMyJ,EAAS9J,KAAI,SAACmJ,GAAD,mBAAC,eAChBA,GADe,IAElB6C,aAAc7C,EAAQ6C,aAAczF,KACpCgE,SAAUpB,EAAQoB,SAAW,MAAQ,KACrCD,QAASnB,EAAQmB,QAAU,sBAAM1D,UAAU,kBAAhB,iBAA+C,sBAAMA,UAAU,oBAAhB,gBAC1EiF,WAAYlK,IAAMwH,EAAQ0C,YAAY2G,UACtCzG,WAAYpK,IAAMwH,EAAQ4C,YAAYyG,UACtC3H,aAAc1B,EAAQ0B,aACrB,sBAAMjE,UAAU,oBAAhB,iBAEA,sBAAMA,UAAU,kBAAhB,gBAEDrG,OAAQ4I,EAAQ0B,aACf,sBAAMjE,UAAU,oBAAhB,SAAqCuC,EAAQ5I,SAE7C,sBAAMqG,UAAU,qBAAhB,0BAGF3C,WAAYA,EACZC,WAAY,kBAAM2E,EAAQrF,KAAK0G,EAAK,SACpCrG,YAAa,YAAa,IAAVuD,EAAS,EAATA,GACfyB,EAAQrF,KAAK0G,EAAK,GAAD,OAAI9C,MAEtBtD,YAAa,aACbC,gBAAiB,aACjBC,eAAgBoG,EAChBjG,YAAY,EACZC,YAAY,EACZG,cAAc,EACdC,gBAAgB,OCvDb,SAASmJ,KAAQ,IAAD,IACQ3I,mBAAyB,MADjC,mBACfmE,EADe,KACNyE,EADM,KAEhB/E,EAAUC,cAFM,EAGU9D,mBAAS,IAHnB,mBAGf+U,EAHe,KAGLC,EAHK,KAKhBnN,EAAY,uCAAG,WAAOwB,GAAP,iBAAApF,EAAA,+EAEIC,KAAMnE,IAAN,4BAAwCsJ,IAF5C,gBAEXhO,EAFW,EAEXA,KACRuN,EAAWvN,GAHQ,gDAKnBH,EAAY,EAAD,IACX2I,EAAQiE,SANW,yDAAH,sDAUZ/D,EAAOrE,EAAMK,IAAU,QAEzB6J,GAAW,EAETpE,EAAa,uCAAG,sBAAAvB,EAAA,0DACjB2F,EADiB,wDAIrBA,GAAW,EAJU,kBAMd1F,KAAMuB,OAAN,8BAA6BtB,QAA7B,IAA6BA,OAA7B,EAA6BA,EAAS/B,KANxB,OAOpB5G,IAAOkK,QAAQ,iCACf7B,EAAQiE,SARY,kDAUpB5M,EAAY,EAAD,IAVS,yBAYpB0O,GAAW,EAZS,6EAAH,qDA4CXhC,EAAW3C,cAAX2C,OACF4B,EAAS9L,OAAO6L,SAASC,OACzBY,EAAW,uCAAG,oCAAAnG,EAAA,0DACboG,EAAO9G,EAAE+G,OAAO/G,EAAE,iBAAiB,GAAGgH,aAEvCnG,KAAK,UAAUoG,SACpBH,EAAKjG,KAAK,mBAAmBoG,SAC7BH,EAAKjG,KAAK,+BAA+BoG,SACzCH,EAAKjG,KAAK,2BAA2BoG,SACrCH,EAAKjG,KAAK,mBAAmBoG,SAC7BH,EAAKjG,KAAK,qBAAqBoG,SAEzBC,EAASlH,EAAE,WAAW,GACtBmH,EAAM,CACX,+EACA,8EACA,iEACAlB,EAAS,gCACTA,EAAS,kCACTA,EAAS,yBAIJ,QAFA9L,EAAS+M,EAAOE,qBAEhB,IAANjN,KAAQkN,SAASC,QAEbnN,IAAUA,EAAOkN,SAvBF,wBAwBlBlN,EAAOkN,SAASE,MAAM,UAxBJ,UA0BGC,QAAQC,IAC5BN,EAAI1P,IAAJ,uCAAQ,WAAOiQ,GAAP,iBAAAhH,EAAA,+EAEiBC,KAAMnE,IAAYkL,GAFnC,uBAEE5P,EAFF,EAEEA,KAFF,mCAGWA,EAHX,4FAKgB4P,EALhB,mFAAR,wDA3BiB,QA0BZlN,EA1BY,OAqClByG,QAAQC,IAAI1G,GAEZA,EAAOnC,SAAQ,SAAC8O,GACfhN,EAAOkN,SAASE,MAAMJ,MAEvBhN,EAAOkN,SAASE,MAAM,WAEtBpN,EAAOkN,SAASE,MAAM,UACtBpN,EAAOkN,SAASE,MAAMT,EAAKc,QAC3BzN,EAAOkN,SAASE,MAAM,WACtBpN,EAAOkN,SAASQ,QAChB1N,EAAO2N,QACPC,YAAW,WACV5N,EAAO6N,UACL,KAnDe,4CAAH,qDAuDX0J,EAAY,uCAAG,sBAAAhR,EAAA,+EAEbC,KAAMuC,IAAN,8BAA0BtC,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAS/B,IAAM,CAC9C6E,WAAY8N,IAHM,OAKnBnM,EAAW,2BACPzE,GADM,IAET8C,WAAY8N,KAEbvZ,IAAOkK,QAAQ,+BATI,gDAWnBlB,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,4BAZM,yDAAH,qDAgBZqQ,EAAW,SAACjQ,GAEjB,OADc6K,MAAMC,KAAuBrI,KAAKC,OAAa,OAAPkG,QAAO,IAAPA,OAAA,EAAAA,EAASmC,qBAAsB,OACxElC,MAAK,SAACmC,GAAD,OAAUA,EAAKhL,SAAWA,MAQ7C,OALAyF,qBAAU,WACT6G,EAAaD,EAAOxF,MAElB,IAGF,sBAAKR,UAAU,YAAf,UACC,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,SAAf,SACC,oBAAIA,UAAU,OAAd,4BAED,sBAAKA,UAAU,gBAAf,UACC,wBACCA,UAAU,wCACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQiE,UAJV,kBAQC/D,GAAsB,cAAdA,EAAKhB,KACb,cAAC,IAAD,CAAM0I,GAAE,UAAK/N,OAAO6L,SAASmC,SAArB,SAAsC9J,UAAU,mDAAxD,kBAGG,KACHmC,GAAsB,cAAdA,EAAKhB,KACb,mBACC4I,KAAI,UAAKjO,OAAO6L,SAASmC,SAArB,WACJ9J,UAAU,+CACVE,QAAS,SAACC,GACTA,EAAEC,iBACFuB,EAAE,uBAAuBD,MAAM,SALjC,oBASG,QAEL,qBAAK1B,UAAU,SAASQ,GAAG,eAA3B,SACE+B,EACA,sBAAKvC,UAAU,sBAAf,UACC,qBAAKA,UAAU,cAAf,SACC,yBACCA,UAAS,yBACTE,QAAS,SAACC,GACTA,EAAEC,iBACFoI,KAJF,UAMC,mBAAGxI,UAAU,iBANd,sBASD,sBAAKA,UAAU,YAAf,UACC,oBAAGA,UAAU,aAAb,+BAA6CuC,EAAQJ,KAAMxC,QAC3D,oBAAGK,UAAU,aAAb,mBAAiCjF,IAAMwH,EAAQ4C,YAAYD,OAAO,4BAClE,oBAAGlF,UAAU,YAAb,4BAAyCuC,EAAQ6C,aAAczF,SAC9D,UAAA4C,EAAQJ,YAAR,eAAc8H,mBACd,oBAAGjK,UAAU,YAAb,gCAA6CuC,EAAQJ,KAAK8H,qBACvD,KACJ,oBAAGjK,UAAU,YAAb,6BACkB,IAChBuC,EAAQ2H,MACT3H,EAAQ2H,KAAKhQ,OAAS,GAC8B,cAApDqI,EAAQ2H,KAAK3H,EAAQ2H,KAAKhQ,OAAS,GAAGiI,KAAKhB,KAF1C,UAGKoB,EAAQ2H,KAAK3H,EAAQ2H,KAAKhQ,OAAS,GAAGiI,KAAKxC,KAHhD,cAG0D5E,IACxDwH,EAAQ2H,KAAK3H,EAAQ2H,KAAKhQ,OAAS,GAAG+K,YACpCC,OAAO,kBACT,SAEJ,oBAAGlF,UAAU,iBAAb,qBAAuCuC,EAAQ5I,UAC/C,oBAAIqG,UAAU,aAAd,SACG,YAA0B,IAAvBmK,EAAsB,EAAtBA,MACJ,OAD0B,EAAf5E,SACKnM,KAAI,SAACO,EAAQkD,GAAT,aACnB,qBAAImD,UAAU,kBAAd,UACY,IAAVmK,EACAP,EAASjQ,GACR,mBAAGqG,UAAU,iCACVmK,GAAStN,EAAQ,EACpB,mBAAGmD,UAAU,4BAEb,mBAAGA,UAAU,sBAGd,mBAAGA,UAAU,6BAEbrG,EAAQ,IACRiQ,EAASjQ,GAAT,YACOoB,IAAK,UAAC6O,EAASjQ,UAAV,aAAC,EAAkBgL,MAAMO,OAAO,0BAC1C,GACF3C,EAAQ6H,MACR,oBAAIpK,UAAU,kBAAd,SACEuC,EAAQ6H,MACP3G,QAAO,SAACqE,GAAD,OAAUA,EAAK/C,MAAQpL,KAC9BP,KAAI,SAAC0O,EAAMjL,GAAP,OACJ,qBAAImD,UAAU,kBAAd,UACE8H,EAAKC,KACL,mBAAG/H,UAAU,iCAEb,mBAAGA,UAAU,sBAEb8H,EAAK9K,QAN8BH,QAUrC,OA/BgCA,MAFrC,CA/KW,SAAClD,GACrB,IAAMwQ,EAAS,SAACxQ,GACf,OAAQA,GACP,IAAK,WACJ,OAAO,EACR,IAAK,UACJ,OAAO,EACR,IAAK,aACJ,OAAO,EACR,IAAK,YAEL,IAAK,SAEL,IAAK,YACJ,OAAO,EACR,IAAK,WACJ,OAAO,EACR,QACC,OAAO,GAjBK,CAmBZA,GAEH,MAAO,CACN4L,SAAUA,GAAS9B,QAAO,SAAC9J,GAAD,OAAa,CAAC,WAAY,aAAamB,SAASnB,MAC1EwQ,SA2LSE,CAAa9H,EAAQ5I,WAEzB,sBAAKqG,UAAU,sCAAf,UACC,qBAAKA,UAAU,cAAf,SACC,oBAAIA,UAAU,aAAd,uBAED,qBAAKA,UAAU,6BAA6B5E,MAAO,CAAEyF,UAAW,UAAhE,SACC,wBAAOb,UAAU,6BAAjB,UACC,gCACC,+BACC,sCACA,wCACA,2CAGF,kCAC2B,IAAzBuC,EAAQ2H,KAAMhQ,OACd,+BACC,uBACA,yCACA,0BAEE,KACHqI,EAAQ2H,KAAM9Q,KAAI,SAACyJ,EAAKhG,GAAN,OAClB,+BACC,6BAAKgG,EAAIV,KAAKxC,OACd,6BAAKkD,EAAI/B,SACT,6BAAK/F,IAAM8H,EAAIsC,YAAYD,OAAO,6BAH1BrI,iBAUU,OAAvB0F,EAAQ8C,WAAsB,KAC9B,qCACC,oBAAIrF,UAAU,SACd,kDACA,0BACCsK,KAAM,GACNC,KAAM,EACNvK,UAAU,eACVU,SAAU,SAACP,GACViT,EAAYjT,EAAES,OAAOpE,QAEtBA,MAAO2W,IACR,wBACCnT,UAAU,sBACVE,QAAS,SAACC,GACTA,EAAEC,iBACFiT,KAJF,wBAWF9Q,EAAQoB,SACRpB,EAAQmB,QACP,qBAAK1D,UAAU,mBAAf,SACC,sBAAMA,UAAU,yCAAhB,6EAKD,qBAAKA,UAAU,cAAf,SACEuC,EAAQqD,KACR,mBACCmE,KAAI,UAAKxH,EAAQqD,KAAKyD,IAAlB,kBACJrJ,UAAU,yBACVY,OAAO,SACP6N,IAAI,aAJL,+BAQA,oGAIA,QAGL,qBAAKzO,UAAU,qBAAf,SACC,qBAAKA,UAAU,4BAAf,SACC,mBAAGA,UAAU,+CAMlB,qBACCA,UAAU,aACVQ,GAAE,qBACFU,UAAW,EACXC,KAAK,SACLC,kBAAA,0BACAC,cAAY,OANb,SAOC,qBAAKrB,UAAU,8CAA8CmB,KAAK,WAAlE,SACC,sBAAKnB,UAAU,gBAAf,UACC,sBAAKA,UAAU,eAAf,UACC,oBAAIA,UAAU,cAAcQ,GAAE,0BAA9B,4BAGA,wBAAQD,KAAK,SAASP,UAAU,QAAQwB,eAAa,QAAQC,aAAW,QAAxE,SACC,sBAAMJ,cAAY,OAAlB,uBAGF,qBAAKrB,UAAU,aAAf,2DACA,sBAAKA,UAAU,eAAf,UACC,wBACCO,KAAK,SACLP,UAAU,wBACVE,QAAS,SAACC,GACTA,EAAEC,iBACFuB,EAAE,uBAAuBD,MAAM,QAC/BkC,KANF,qBAUA,wBAAQrD,KAAK,SAASP,UAAU,2BAA2BwB,eAAa,QAAxE,8BAOJ,wBAAQxE,MAAM,aAAawD,GAAG,SAASR,UAAU,cC5X7C,SAASiD,KACf,IAAMG,EAAQC,cAERgG,EAAM,SAAC/F,GAAD,gBAAqBF,EAAME,MAA3B,OAAkCA,IAE9C,OACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAOA,KAAM+F,EAAI,KAAMmB,OAAK,EAACC,UAAW5D,KACxC,cAAC,IAAD,CAAOvD,KAAM+F,EAAI,QAASoB,UAAWjF,KACrC,cAAC,IAAD,CAAOlC,KAAM+F,EAAI,QAASoB,UAAW1D,QCVjC,SAASuM,KACf,IAEahQ,EAFPF,EAAQC,cAId,OACC,cAAC,IAAD,UACC,cAAC,IAAD,CAAOC,MAJIA,EAIMhI,EAAgBC,KAJvB,UAAqB6H,EAAME,MAA3B,OAAkCA,IAIJmH,UAAWxH,OCP/C,SAASsQ,KACf,IAEajQ,EAFPF,EAAQC,cAIR+N,EAAQ,CACb,CACC/H,IAAK/N,EACL+V,KAAM,kBACNrU,MAAO,aAER,CACCqM,KATW/F,EASFhI,EAAgBC,KATf,UAAqB6H,EAAME,MAA3B,OAAkCA,IAU5C+N,KAAM,yBACNrU,MAAO,aAIT,OACC,qBAAKgD,UAAU,kBAAkB5E,MAAO,CAAEkW,UAAW,UAArD,SACC,oBAAItR,UAAU,MAAd,SACEoR,EAAMhY,KAAI,SAACmY,EAAM1U,GAAP,OACV,oBAAImD,UAAWvH,EAAM8Y,EAAKlI,MAAQvN,OAAO6L,SAASmC,SAAU,UAA5D,SACC,eAAC,IAAD,CAAMD,GAAI0H,EAAKlI,IAAf,UACC,mBAAGrJ,UAAWuR,EAAKF,OACnB,4BAAIE,EAAKvU,YAHiEH,UCX1E,SAAS2W,KACf,IAAMvR,EAAUC,cACVkB,EAAQC,cAId,IAAMvF,EAAMpB,IAAI,YAAcoB,EAAMK,IAAI,gBAAoC8B,IAAtBnC,EAAMK,IAAI,QAE/D,OADA8D,EAAQrF,KAAKtB,GACN,KAGR,IAPagI,EAOPnB,EAAOrE,EAAMK,IAAU,QAE7B,OACC,sBAAK6B,UAAU,oBAAf,UACC,sBAAKA,UAAU,oBAAoByT,aAAW,QAAQC,oBAAkB,SAAxE,UACC,sBAAK1T,UAAU,iBAAf,UACC,cAAC,IAAD,CAAM6J,GAAIvO,EAAkB0E,UAAU,wBAAtC,SACC,qBAAKwL,IAAI,gCAAgCC,IAAI,OAAOzL,UAAU,qBAE/D,cAAC,IAAD,CAAM6J,GAAIvO,EAAkB0E,UAAU,qCAAtC,SACC,+CAGa,UAAdmC,EAAKhB,KAAmB,cAACgQ,GAAD,IAAmB,KAC3CtW,EAAQsH,EAAKhB,KAAM,CAAC,aAAc,UAAW,aAAc,UAAW,YAAa,WAAY,cAC/F,cAACsQ,GAAD,IACG,KACW,cAAdtP,EAAKhB,KAAuB,cAACoS,GAAD,IAAuB,QAErD,sBAAKvT,UAAU,6BAAf,UACC,cAACiS,GAAD,IACA,sBAAKjS,UAAU,oBAAf,UACC,cAAC,IAAD,CAAOsD,MA7BEA,EA6BQhI,EA7BT,UAAqB8H,EAAME,MAA3B,OAAkCA,IA6BRkH,OAAK,EAACC,UAAWiH,KACpC,UAAdvP,EAAKhB,KAAmB,cAAC+P,GAAD,IAAY,KACpCrW,EAAQsH,EAAKhB,KAAM,CAAC,aAAc,UAAW,aAAc,UAAW,YAAa,WAAY,cAC/F,cAACqQ,GAAD,IACG,KACW,cAAdrP,EAAKhB,KAAuB,cAACmS,GAAD,IAAgB,QAE9C,cAACvB,GAAD,UCjDG,SAAS4B,GAAQ7R,GACvB,IAAMU,EAAO,SAACpI,EAAaxB,GAC1B,IAAM+R,EAAM7I,EAAM6I,IAAInI,MAAK,SAACmI,GAAD,OAASA,EAAIvQ,MAAQA,KAChD,OAAIuQ,EACIA,EAAInO,MAEL5D,GAGR,OACC,qBAAKoH,UAAU,mCAAf,SACC,sBAAKA,UAAU,YAAf,UACC,oBAAIA,UAAU,QAAd,SAAuBwC,EAAK,iBAAkB,yBAC9C,sBAAKxC,UAAU,MAAf,UACC,qBAAKA,UAAU,WAAf,SACC,sBAAKA,UAAS,+BAAd,UACC,qBAAKA,UAAS,cAAd,SACC,mBAAG+J,KAAK,UAAR,SACC,qBAAKyB,IAAKhJ,EAAK,6BAA8B,wBAAyBiJ,IAAI,YAG5E,sBAAKzL,UAAU,YAAf,UACC,mBAAG+J,KAAK,aAAR,SACC,sBAAK/J,UAAU,SAAf,UACC,oBAAIA,UAAU,aAAd,SAA4BwC,EAAK,0BAA2B,WAC5D,oBAAIxC,UAAU,gBAAd,SAA+BwC,EAAK,8BAA+B,yBAGrE,mBAAGxC,UAAU,+BAAb,SACEwC,EACA,iCACA,yBAML,qBAAKxC,UAAU,WAAf,SACC,sBAAKA,UAAS,+BAAd,UACC,qBAAKA,UAAS,cAAd,SACC,mBAAG+J,KAAK,UAAR,SACC,qBAAKyB,IAAKhJ,EAAK,6BAA8B,wBAAyBiJ,IAAI,YAG5E,sBAAKzL,UAAU,YAAf,UACC,mBAAG+J,KAAK,aAAR,SACC,sBAAK/J,UAAU,SAAf,UACC,oBAAIA,UAAU,aAAd,SAA4BwC,EAAK,0BAA2B,WAC5D,oBAAIxC,UAAU,gBAAd,SAA+BwC,EAAK,8BAA+B,yBAGrE,mBAAGxC,UAAU,+BAAb,SACEwC,EACA,iCACA,yBAML,qBAAKxC,UAAU,WAAf,SACC,sBAAKA,UAAS,+BAAd,UACC,qBAAKA,UAAS,cAAd,SACC,mBAAG+J,KAAK,UAAR,SACC,qBAAKyB,IAAKhJ,EAAK,6BAA8B,wBAAyBiJ,IAAI,YAG5E,sBAAKzL,UAAU,YAAf,UACC,mBAAG+J,KAAK,aAAR,SACC,sBAAK/J,UAAU,SAAf,UACC,oBAAIA,UAAU,aAAd,SAA4BwC,EAAK,0BAA2B,WAC5D,oBAAIxC,UAAU,gBAAd,SAA+BwC,EAAK,8BAA+B,yBAGrE,mBAAGxC,UAAU,+BAAb,SACEwC,EACA,iCACA,wBAML,qBAAKxC,UAAU,WAAf,SACC,sBAAKA,UAAS,+BAAd,UACC,qBAAKA,UAAS,cAAd,SACC,mBAAG+J,KAAK,UAAR,SACC,qBAAKyB,IAAKhJ,EAAK,6BAA8B,wBAAyBiJ,IAAI,YAG5E,sBAAKzL,UAAU,YAAf,UACC,mBAAG+J,KAAK,aAAR,SACC,sBAAK/J,UAAU,SAAf,UACC,oBAAIA,UAAU,aAAd,SAA4BwC,EAAK,0BAA2B,WAC5D,oBAAIxC,UAAU,gBAAd,SAA+BwC,EAAK,8BAA+B,yBAGrE,mBAAGxC,UAAU,+BAAb,SACEwC,EACA,iCACA,yBAML,qBAAKxC,UAAU,WAAf,SACC,sBAAKA,UAAS,+BAAd,UACC,qBAAKA,UAAS,cAAd,SACC,mBAAG+J,KAAK,UAAR,SACC,qBAAKyB,IAAKhJ,EAAK,6BAA8B,wBAAyBiJ,IAAI,YAG5E,sBAAKzL,UAAU,YAAf,UACC,mBAAG+J,KAAK,aAAR,SACC,sBAAK/J,UAAU,SAAf,UACC,oBAAIA,UAAU,aAAd,SAA4BwC,EAAK,0BAA2B,WAC5D,oBAAIxC,UAAU,gBAAd,SAA+BwC,EAAK,8BAA+B,yBAGrE,mBAAGxC,UAAU,+BAAb,SACEwC,EACA,iCACA,yBAML,qBAAKxC,UAAU,WAAf,SACC,sBAAKA,UAAS,+BAAd,UACC,qBAAKA,UAAS,cAAd,SACC,mBAAG+J,KAAK,UAAR,SACC,qBAAKyB,IAAKhJ,EAAK,6BAA8B,wBAAyBiJ,IAAI,YAG5E,sBAAKzL,UAAU,YAAf,UACC,mBAAG+J,KAAK,aAAR,SACC,sBAAK/J,UAAU,SAAf,UACC,oBAAIA,UAAU,aAAd,SAA4BwC,EAAK,0BAA2B,WAC5D,oBAAIxC,UAAU,gBAAd,SAA+BwC,EAAK,8BAA+B,yBAGrE,mBAAGxC,UAAU,+BAAb,SACEwC,EACA,iCACA,iCnC3IVzH,IAAMC,OAAOC,KePbF,IAAMC,OAAOC,KCCbF,IAAMC,OAAOC,KcIbF,IAAMC,OAAOC,KMRb,IAoCe2Y,GApCa,SAAC9R,GAC5B,IAAMtB,EAAKjC,KAAKsV,SAASC,SAAS,IAAIC,UAAU,EAAG,IAEnD,OACC,qBAAK/T,UAAU,iBAAf,SACC,sBAAKQ,GAAIA,EAAIR,UAAU,iBAAiBgU,YAAU,WAAlD,UACC,sBAAKhU,UAAU,iBAAf,UACC,qBAAKA,UAAU,uBAAf,SACC,qBAAKA,UAAU,gBAAgBwL,IAAI,yBAAyBC,IAAI,kBAEjE,qBAAKzL,UAAU,gBAAf,SACC,qBAAKA,UAAU,gBAAgBwL,IAAI,yBAAyBC,IAAI,mBAEjE,qBAAKzL,UAAU,gBAAf,SACC,qBAAKA,UAAU,gBAAgBwL,IAAI,yBAAyBC,IAAI,kBAEjE,qBAAKzL,UAAU,gBAAf,SACC,qBAAKA,UAAU,gBAAgBwL,IAAI,yBAAyBC,IAAI,mBAEjE,qBAAKzL,UAAU,gBAAf,SACC,qBAAKA,UAAU,gBAAgBwL,IAAI,yBAAyBC,IAAI,qBAGlE,oBAAGzL,UAAU,wBAAwB+J,KAAI,WAAMvJ,GAAMW,KAAK,SAAS8S,aAAW,OAA9E,UACC,sBAAMjU,UAAU,6BAA6BqB,cAAY,SACzD,sBAAMrB,UAAU,UAAhB,yBAED,oBAAGA,UAAU,wBAAwB+J,KAAI,WAAMvJ,GAAMW,KAAK,SAAS8S,aAAW,OAA9E,UACC,sBAAMjU,UAAU,6BAA6BqB,cAAY,SACzD,sBAAMrB,UAAU,UAAhB,2BC5BE,SAASkU,KAAa,IAAD,EACH9V,mBAAS,CAChCuB,KAAM,GACNmO,MAAO,GACPpU,QAAS,KAJiB,mBACpBD,EADoB,KACdkM,EADc,OAMSvH,oBAAS,GANlB,mBAMpBf,EANoB,KAMR0E,EANQ,KAQrBK,EAAM,uCAAG,sBAAAC,EAAA,6DACdN,GAAc,GADA,kBAGPO,KAAMgE,KAAK,YAAa7M,GAHjB,OAIbkM,EAAQ,CACPhG,KAAM,GACNmO,MAAO,GACPpU,QAAS,KAEVE,IAAO+I,KAAK,yBAA0B,UATzB,gDAWbC,QAAQC,IAAI,KAAMC,UAClBlJ,IAAOL,MAAM,yBAA0B,SAZ1B,yBAcbwI,GAAc,GAdD,4EAAH,qDAkBZ,OACC,qBAAK/B,UAAU,0BAAf,SACC,sBAAKA,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,2BAAf,UACC,oBAAIA,UAAU,cAAd,4BACA,uBACCA,UAAU,eACVK,SAAU,SAACF,GACVA,EAAEC,iBACFgC,KAJF,UAMC,sBAAKpC,UAAU,MAAf,UACC,sBAAKA,UAAU,WAAf,UACC,yCACA,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,sBAAf,SACC,sBAAMA,UAAU,mBAAhB,SACC,mBAAGA,UAAU,6BAGf,uBACCO,KAAK,OACLP,UAAS,uBAAkBvH,EAAM4E,EAAY,aAC7C0F,SAAU1F,EACVqD,SAAU,SAACP,GACVwF,EAAQ,2BACJlM,GADG,IAENkG,KAAMQ,EAAES,OAAOpE,UAGjBiE,YAAY,eAIf,sBAAKT,UAAU,WAAf,UACC,0CACA,sBAAKA,UAAU,cAAf,UACC,qBAAKA,UAAU,sBAAf,SACC,sBAAMA,UAAU,mBAAhB,SACC,mBAAGA,UAAU,4BAGf,uBACCO,KAAK,QACLP,UAAS,uBAAkBvH,EAAM4E,EAAY,aAC7C0F,SAAU1F,EACVqD,SAAU,SAACP,GACVwF,EAAQ,2BACJlM,GADG,IAENqU,MAAO3N,EAAES,OAAOpE,UAGlBiE,YAAY,mBAKhB,4CACA,0BACCT,UAAS,uBAAkBvH,EAAM4E,EAAY,aAC7C0F,SAAU1F,EACVqD,SAAU,SAACP,GACVwF,EAAQ,2BACJlM,GADG,IAENC,QAASyG,EAAES,OAAOpE,UAGpB+N,KAAM,EACN9J,YAAY,0CACb,qBAAKT,UAAU,MAAf,SACC,qBAAKA,UAAU,uCAAf,SACC,wBACCO,KAAK,SACLP,UAAS,yCAAoCvH,EAAM4E,EAAY,aAC/D0F,SAAU1F,EAHX,SAIEA,EAAa,UAAY,6BAOhC,sBAAK2C,UAAU,MAAf,UACC,sBAAKA,UAAU,+CAAf,UACC,mBAAG+J,KAAK,IAAI7J,QAAS,SAACC,GAAD,OAAOA,EAAEC,kBAA9B,SACC,mBAAGJ,UAAU,iCAEd,mBAAG+J,KAAK,IAAI7J,QAAS,SAACC,GAAD,OAAOA,EAAEC,kBAA9B,SACC,mBAAGJ,UAAU,gCAEd,mBAAG+J,KAAK,IAAI7J,QAAS,SAACC,GAAD,OAAOA,EAAEC,kBAA9B,SACC,mBAAGJ,UAAU,gCAEd,mBAAG+J,KAAK,IAAI7J,QAAS,SAACC,GAAD,OAAOA,EAAEC,kBAA9B,SACC,mBAAGJ,UAAU,oCAGf,sBAAKA,UAAU,mCAAf,UACC,4CACA,sBAAKA,UAAU,MAAf,UACC,qBAAKA,UAAU,QAAf,SACC,wCAED,qBAAKA,UAAU,QAAf,0BACA,qBAAKA,UAAU,QAAf,SACC,wCAED,qBAAKA,UAAU,QAAf,yCCpIA,SAASmU,GAAYrS,GAC3B,IAAMU,EAAO,SAACpI,EAAaxB,GAC1B,IAAM+R,EAAM7I,EAAM6I,IAAInI,MAAK,SAACmI,GAAD,OAASA,EAAIvQ,MAAQA,KAChD,OAAIuQ,EACIA,EAAInO,MAEL5D,GAGR,OACC,qBAAKoH,UAAU,sBAAf,SACC,sBAAKA,UAAU,YAAf,UACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,2BAAf,UACC,oBAAIA,UAAU,QAAd,SAAuBwC,EAAK,oBAAqB,MACjD,oBAAIxC,UAAU,wBAAd,SACEwC,EACA,wBACA,WAKJ,uBACA,uBACA,sBAAKxC,UAAU,gBAAf,UACC,qBAAKA,UAAU,WAAf,SACC,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAS,mBAAd,SACC,mBAAGA,UAAU,OAEd,sBAAKA,UAAU,cAAf,UACC,oBAAIA,UAAU,aAAd,SAA4BwC,EAAK,2BAA4B,uBAC7D,mBAAGxC,UAAU,cAAb,SACEwC,EACA,iCACA,4FAML,qBAAKxC,UAAU,WAAf,SACC,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAS,mBAAd,SACC,mBAAGA,UAAU,OAEd,sBAAKA,UAAU,cAAf,UACC,oBAAIA,UAAU,aAAd,SAA4BwC,EAAK,2BAA4B,eAC7D,4BACEA,EACA,iCACA,8FAML,qBAAKxC,UAAU,WAAf,SACC,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAS,mBAAd,SACC,mBAAGA,UAAU,OAEd,sBAAKA,UAAU,cAAf,UACC,oBAAIA,UAAU,aAAd,SAA4BwC,EAAK,2BAA4B,gBAC7D,4BACEA,EACA,iCACA,kFAML,qBAAKxC,UAAU,WAAf,SACC,sBAAKA,UAAU,OAAf,UACC,qBAAKA,UAAS,mBAAd,SACC,mBAAGA,UAAU,OAEd,sBAAKA,UAAU,cAAf,UACC,oBAAIA,UAAU,aAAd,SAA4BwC,EAAK,2BAA4B,uBAC7D,8BACEA,EACA,iCACA,uFAHF,uBClFR,IAmBe4R,GAnBS,SAAC,GAAgB,IAAdjI,EAAa,EAAbA,OAAa,EACf/N,oBAAS,GADM,mBAChCiW,EADgC,KAC1BC,EAD0B,KAGvC,OACC,sBAAKtU,UAAU,YAAf,UACEqU,EAAO,mBAAGrU,UAAU,YAAb,SAA0BmM,IAAc,KAChD,mBACCpC,KAAK,IACL/J,UAAU,6BACVE,QAAS,SAACC,GACTA,EAAEC,iBACFkU,GAASD,IALX,SAOEA,EAAO,OAAS,aCXd,SAASE,GAAKzS,GACpB,IAQMyK,EAAOnQ,KAAKC,MARL,SAACjC,EAAaxB,GAC1B,IAAM+R,EAAM7I,EAAM6I,IAAInI,MAAK,SAACmI,GAAD,OAASA,EAAIvQ,MAAQA,KAChD,OAAIuQ,EACIA,EAAInO,MAEL5D,EAGgB4J,CAAK,OAAQpG,KAAKG,UAAU,MAE9CiY,EAA4B,CAAC,IAYnC,OAVAjI,EAAKvS,SAAQ,SAAC+R,GACb,IAAM0I,EAAOD,EAAOA,EAAOta,OAAS,GAChCua,EAAKva,OAAS,GACjBua,EAAK7X,KAAKmP,GACVyI,EAAO1X,OAAO0X,EAAOta,OAAS,EAAG,EAAGua,IAEpCD,EAAO5X,KAAK,CAACmP,OAKd,qBAAK/L,UAAU,0BAAf,SACC,qBAAKA,UAAU,YAAf,SACC,qBAAKA,UAAU,MAAf,SACC,sBAAKA,UAAU,0CAAf,UACC,oBAAIA,UAAU,8DAAd,SAA4E,uCAC3EwU,EAAOpb,KAAI,SAACmT,EAAM1P,GAAP,OACX,qBAAKmD,UAAU,aAAf,SACEuM,EAAKnT,KAAI,SAAC2S,EAAKlP,GAAN,OACT,sBAAKmD,UAAU,mCAAf,UACC,qBAAKA,UAAU,qBAAf,SACC,mBAAGA,UAAU,oCAAoC5E,MAAO,CAAEsZ,MAAO,QAAjE,SACE3I,EAAIE,aAGP,cAAC,GAAD,CAAME,OAAQJ,EAAII,WANoCtP,OAFxBA,eC7BjC,SAASoV,GAAOnQ,GACtB,IAAMG,EAAUC,cAEVyS,EAAmC,SAD7B,IAAIC,gBAAgB3S,EAAQ0F,SAASkN,QAC3B1W,IAAI,WACpBqE,EAAO,SAACpI,EAAaxB,GAC1B,IAAM+R,EAAM7I,EAAM6I,IAAInI,MAAK,SAACmI,GAAD,OAASA,EAAIvQ,MAAQA,KAChD,OAAIuQ,EACIA,EAAInO,MAEL5D,GAGR,OACC,sBACCoH,UAAU,cACV5E,MAAO,CACN0Z,gBAAgB,OAAD,OAAStS,EAAK,iBAAkB,uBAAhC,KACfuS,mBAAoB,MACpBC,eAAgB,QAChBC,UAAW,QACXC,UAAW,QACXlI,SAAU,SACVD,SAAU,WACVE,MAAO,OACPkI,OAAQ,EACRC,QAAS,OACTC,WAAY,SACZC,eAAgB,UAdlB,UAgBC,qBAAKtV,UAAU,WACf,qBAAKA,UAAU,YAAf,SACC,sBAAKA,UAAU,cAAc5E,MAAO,CAAEsZ,MAAO,OAAQS,OAAQ,EAAGpI,SAAU,YAA1E,UACC,6BAAKvK,EAAK,eAAgB,uBAC1B,6BAAKA,EAAK,qBAAsB,mDAChC,uBACEmS,EAKD,oBAAG5K,KAAMzO,EAAiB0E,UAAS,oCAAuCE,QAAS,SAACC,GAAD,OAAOA,EAAEC,kBAA5F,UACC,mBAAGJ,UAAU,eADd,kBAJA,eAAC,IAAD,CAAM6J,GAAIvO,EAAiB0E,UAAS,oCAApC,UACC,mBAAGA,UAAU,eADd,0BCrCC,SAASuV,KACf,IAAMtT,EAAUC,cACVmH,EAAM,IAAIuL,gBAAgB3S,EAAQ0F,SAASkN,QAF5B,EAGqBzW,mBAAyB,IAH9C,mBAGdgR,EAHc,KAGCC,EAHD,KAKfmG,EAAS,WACd,OAAO1X,EAAMK,IAAI,WAAaL,EAAMK,IAAI,SAGnCwW,EAAmC,SAAvBtL,EAAIlL,IAAI,WAEpBmR,EAAkB,uCAAG,8BAAAjN,EAAA,+EAEFC,KAAMnE,IAAyB,kBAF7B,gBAEjB1E,EAFiB,EAEjBA,KACR4V,EAAiB5U,EAAWhB,EAAM,CAAC,aAHV,gDAKzBmJ,QAAQC,IAAI,KAAMC,UALO,yDAAH,qDASlB2S,EAAuB,GAa7B,OAXArG,EAAcpV,SAAQ,SAACwV,GACjBiG,EAAW3a,SAAS0U,EAAaP,WACrCwG,EAAW7Y,KAAK4S,EAAaP,aAI/B7P,qBAAU,WACTkQ,MAEE,IAGF,qBAAKtP,UAAU,gEAAgE0V,kBAAgB,MAA/F,SACC,sBAAK1V,UAAU,YAAf,UACC,sBAAKA,UAAU,mBAAf,UACC,cAAC,IAAD,CAAMA,UAAU,eAAe6J,GAAG,IAAI7M,MAAM,SAAS2Y,iBAAe,SAApE,oBAGA,yBACC3V,UAAU,gCACVO,KAAK,SACLQ,cAAY,WACZC,cAAY,cACZyR,gBAAc,mBACdC,gBAAc,QACdjR,aAAW,oBAPZ,UAQC,sBAAMzB,UAAU,4BAChB,sBAAMA,UAAU,4BAChB,sBAAMA,UAAU,kCAGhB2U,EAmCD,qBAAK3U,UAAU,+CAA+CQ,GAAG,aAAjE,SACC,qBAAIR,UAAU,aAAd,UACC,oBAAIA,UAAU,WAAd,SACC,oBAAG+J,KAAMzO,EAAsB0E,UAAU,WAAWE,QAAS,SAACC,GAAD,OAAOA,EAAEC,kBAAtE,UACC,mBAAGJ,UAAU,2BADd,qBAKCwV,IAgBD,oBAAIxV,UAAU,WAAd,SACC,oBAAG+J,KAAMzO,EAAkB0E,UAAU,WAAWE,QAAS,SAACC,GAAD,OAAOA,EAAEC,kBAAlE,UACC,mBAAGJ,UAAU,yBADd,iBAhBD,qCACC,oBAAIA,UAAU,WAAd,SACC,oBAAG+J,KAAMzO,EAAc0E,UAAU,WAAWE,QAAS,SAACC,GAAD,OAAOA,EAAEC,kBAA9D,UACC,mBAAGJ,UAAU,8BADd,aAKD,oBAAIA,UAAU,WAAd,SACC,oBAAG+J,KAAMzO,EAAiB0E,UAAU,WAAWE,QAAS,SAACC,GAAD,OAAOA,EAAEC,kBAAjE,UACC,mBAAGJ,UAAU,kCADd,wBAnDL,qBAAKA,UAAU,+CAA+CQ,GAAG,aAAjE,SACC,qBAAIR,UAAU,aAAd,UACC,oBAAIA,UAAU,WAAd,SACC,eAAC,IAAD,CAAM6J,GAAIvO,EAAsB0E,UAAU,WAA1C,UACC,mBAAGA,UAAU,2BADd,qBAKCwV,IAgBD,oBAAIxV,UAAU,WAAd,SACC,eAAC,IAAD,CAAM6J,GAAIvO,EAAkB0E,UAAU,WAAtC,UACC,mBAAGA,UAAU,yBADd,iBAhBD,qCACC,oBAAIA,UAAU,WAAd,SACC,eAAC,IAAD,CAAM6J,GAAIvO,EAAc0E,UAAU,WAAlC,UACC,mBAAGA,UAAU,8BADd,aAKD,oBAAIA,UAAU,WAAd,SACC,eAAC,IAAD,CAAM6J,GAAIvO,EAAiB0E,UAAU,WAArC,UACC,mBAAGA,UAAU,kCADd,6BClEH,SAAS4V,KAAW,IAAD,EACGxX,oBAAS,GADZ,mBAClByX,EADkB,KACVC,EADU,OAEH1X,mBAAqB,IAFlB,mBAElBuM,EAFkB,KAEb2B,EAFa,KAInBG,EAAQ,uCAAG,8BAAApK,EAAA,+EAEQC,KAAMnE,IAAgB,QAF9B,gBAEP1E,EAFO,EAEPA,KACR6S,EAAO,YAAI7S,IAHI,gDAKfmJ,QAAQC,IAAI,KAAMC,UALH,yBAOfgT,GAAU,GAPK,4EAAH,qDAiCd,OAtBA1W,qBAAU,WACTqN,IACA9K,EAAE,QAAQmH,IAAI,mBAAoB,QAClC,IAAMyI,EAAO5P,EAAE,qBAAqBoU,KAAK,QASzC,OAPApU,EAAE,QAAQ0E,OAAV,wIAGA1E,EAAE,QAAQ0E,OAAV,8HAIO,WACN1E,EAAE,QAAQmH,IAAI,mBAAoB,WAClCnH,EAAE,mBAAmBiH,SACrBjH,EAAE,mBAAmBiH,SACrBjH,EAAE,QAAQ0E,OAAV,uCAAiDkL,EAAjD,YAIC,IAGF,qCACC,sBAAKvR,UAAS,eAAUvH,GAAOod,EAAQ,WAAvC,UACC,cAACN,GAAD,IACA,cAAC,GAAD,CAAQ5K,IAAKA,IACb,cAACwJ,GAAD,CAAaxJ,IAAKA,IAClB,cAAC,GAAD,IACA,cAACgJ,GAAD,CAAShJ,IAAKA,IACd,cAACuJ,GAAD,IACA,cAACK,GAAD,CAAM5J,IAAKA,IACX,sBAAK3K,UAAU,YAAf,UACC,oBAAIA,UAAU,mBAAd,gCACA,cAAC+P,GAAD,UAGA8F,EAWE,KAVH,qBAAK7V,UAAU,2DAAf,SACC,qBAAKA,UAAU,8BAAf,SACC,qBACCwL,IAAI,gCACJC,IAAI,OACJzL,UAAU,2BACV5E,MAAO,CAAEgS,OAAQ,QAASH,MAAO,kB,wBCzDjC,SAAS+I,KAAS,IAAD,EACC5X,mBAAS,CAChC0P,MAAO,GACPyC,SAAU,KAHY,mBAChB9W,EADgB,KACVkM,EADU,OAKavH,oBAAS,GALtB,mBAKhBf,EALgB,KAKJ0E,EALI,KAOjBE,EAAUC,cAEZpE,EAAMpB,IAAI,WAAaoB,EAAMK,IAAa,WAAaL,EAAMK,IAAI,SACpE8D,EAAQrF,KAAKtB,GAGd,IAAM8G,EAAM,uCAAG,kCAAAC,EAAA,yDACe,IAAzB5I,EAAK8W,SAASrW,OADJ,yCAENN,IAAOL,MAAM,+BAFP,cAIdwI,GAAc,GAJA,kBAMUO,KAAMgE,KAAe,cAAe7M,GAN9C,OAMPD,EANO,SAQWA,EAASC,KAAzB0I,EARK,EAQLA,KAAM8T,EARD,EAQCA,MAEdnY,EAAMW,IAAI,UAAU,GACpBX,EAAMW,IAAI,OAAQ0D,GAClBrE,EAAMW,IAAI,QAASwX,GACnBrT,QAAQC,IAAI/E,EAAM9B,SAAU,OAC5BiG,EAAQrF,KAAKtB,GAdA,kDAgBbhC,EAAY,EAAD,IACXsJ,QAAQC,IAAR,MAjBa,yBAmBbd,GAAc,GAnBD,6EAAH,qDAuBZ,OACC,qBAAK/B,UAAS,wCAAmCkW,KAAOC,MAAxD,SACC,qBAAKnW,UAAU,4BAAf,SACC,sBAAKA,UAAS,sBAAiBkW,KAAOzN,MAAtC,UACC,sBAAKzI,UAAU,0BAAf,UACC,qBACCwL,IAAI,gCACJC,IAAI,OACJzL,UAAU,+CACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQrF,KAAKtB,MAGf,oBAAI0E,UAAU,aAAd,SACC,cAAC,IAAD,CAAM6J,GAAIvO,EAAaF,MAAO,CAAEgb,eAAgB,QAAhD,iCAID,mBAAGpW,UAAU,YAAb,4CAED,qBAAKA,UAAU,YAAf,SACC,uBACCK,SAAU,SAACF,GACVA,EAAEC,iBACFgC,KAHF,UAKC,sBAAKpC,UAAU,aAAf,UACC,uBAAOM,QAAQ,QAAf,mBACA,uBACCC,KAAK,QACLZ,KAAK,QACLa,GAAG,QACHC,YAAY,iBACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAKqU,MACZpN,SAAU,SAACP,GACV1G,EAAKqU,MAAQ3N,EAAES,OAAOpE,MACtBmJ,EAAQ,eAAKlM,UAIhB,sBAAKuG,UAAU,aAAf,UACC,uBAAOM,QAAQ,WAAf,sBACA,uBACCC,KAAK,WACLZ,KAAK,WACLa,GAAG,WACHC,YAAY,WACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAK8W,SACZ7P,SAAU,SAACP,GACV1G,EAAK8W,SAAWpQ,EAAES,OAAOpE,MACzBmJ,EAAQ,eAAKlM,UAIhB,qBAAKuG,UAAU,aAAf,SACC,wBACCO,KAAK,SACLP,UAAS,mCAA8BvH,EAAM4E,EAAY,aACzD0F,SAAU1F,EAHX,SAIEA,EACA,qBAAK2C,UAAU,OAAf,SACC,mBAAGA,UAAU,4BAGd,YAIH,sBAAKA,UAAU,oBAAf,UACC,sBAAKA,UAAU,UAAf,mCACwB,IACvB,cAAC,IAAD,CAAM6J,GAAIvO,EAAiB0E,UAAU,WAArC,yBAID,qBAAKA,UAAU,UAAf,SACC,cAAC,IAAD,CAAM6J,GAAIvO,EAAV,8C,wBCpHF,SAAS+a,KAAY,IzDqEiBC,EAAa3Z,EyDrE/B,EACDyB,mBAAS,CACjCuB,KAAM,GACNmO,MAAO,GACP0C,MAAO,KACPD,SAAU,GACVgG,sBAAuB,GACvBhW,KAAM,SACN0J,kBAAmB,KARM,mBACnBxQ,EADmB,KACb+c,EADa,OAUUpY,oBAAS,GAVnB,mBAUnBf,EAVmB,KAUP0E,EAVO,KAYpB4D,GzDyDsC2Q,EyDzDnBE,EzDyDgC7Z,EyDzDtB,SAAClD,GAAD,sBAAqBA,IzD0D/C,SAACA,GACT,OAAO6c,EAAS3Z,EAASlD,MyDzDpBwI,EAAUC,cAEZpE,EAAMpB,IAAI,WAAaoB,EAAMK,IAAa,WAC7C8D,EAAQrF,KAAKtB,GAGd,IAAM8G,EAAM,uCAAG,oCAAAC,EAAA,yDACW,IAArB5I,EAAKkG,KAAKzF,OADA,yCAENN,IAAOL,MAAM,2BAFP,UAKe,IAAzBE,EAAK8W,SAASrW,OALJ,yCAMNN,IAAOL,MAAM,+BANP,UASVE,EAAK8W,WAAa9W,EAAK8c,sBATb,yCAUN3c,IAAOL,MAAM,gDAAiD,UAVxD,UAaI,YAAdE,EAAK8G,KAbK,oBAcR,8BAA8BkW,KAAKhd,EAAKwQ,mBAdhC,yCAeLrQ,IAAOL,MAAM,gDAfR,UAiBPmd,EAAOjd,EAAKwQ,kBAAkBjR,MAAM,KAAK,KAC3C2H,OAAO+V,KAAS,IAAI9R,MAAO+R,kBAlBlB,0CAmBL/c,IAAOL,MAAM,kCAnBR,eAuBdwI,GAAc,GAvBA,oBAyBUO,KAAMgE,KAAe,iBAAkB7M,GAzBjD,QAyBPD,EAzBO,SA2BWA,EAASC,KAAzB0I,EA3BK,EA2BLA,KAAM8T,EA3BD,EA2BCA,MAEdnY,EAAMW,IAAI,UAAU,GACpBX,EAAMW,IAAI,OAAQ0D,GAClBrE,EAAMW,IAAI,QAASwX,GACnBhU,EAAQrF,KAAKtB,GAhCA,mDAkCbhC,EAAY,EAAD,IACXsJ,QAAQC,IAAR,MAnCa,yBAqCbd,GAAc,GArCD,8EAAH,qDAyCZ,OACC,qBAAK/B,UAAS,+BAA0BkW,KAAOC,MAA/C,SACC,qBAAKnW,UAAU,4BAAf,SACC,sBAAKA,UAAS,sBAAiBkW,KAAOzN,MAAtC,UACC,sBAAKzI,UAAU,0BAAf,UACC,qBACCwL,IAAI,gCACJC,IAAI,OACJzL,UAAU,+CACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQrF,KAAKtB,MAGf,oBAAI0E,UAAU,aAAd,SACC,cAAC,IAAD,CAAM6J,GAAIvO,EAAaF,MAAO,CAAEgb,eAAgB,QAAhD,sBAID,mBAAGpW,UAAU,YAAb,gFAED,qBAAKA,UAAU,YAAf,SACC,uBACCK,SAAU,SAACF,GACVA,EAAEC,iBACFgC,KAHF,UAKC,sBAAKpC,UAAU,aAAf,UACC,uBAAOM,QAAQ,OAAf,kBACA,uBACCC,KAAK,OACLZ,KAAK,OACLa,GAAG,OACHC,YAAY,aACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAKkG,KACZe,SAAU,SAACP,GACV1G,EAAKkG,KAAOQ,EAAES,OAAOpE,MACrBmJ,EAAQlM,SAIX,sBAAKuG,UAAU,aAAf,UACC,uBAAOM,QAAQ,QAAf,mBACA,uBACCC,KAAK,QACLZ,KAAK,QACLa,GAAG,QACHC,YAAY,iBACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAKqU,MACZpN,SAAU,SAACP,GACV1G,EAAKqU,MAAQ3N,EAAES,OAAOpE,MACtBmJ,EAAQlM,SAIX,sBAAKuG,UAAU,aAAf,UACC,uBAAOM,QAAQ,QAAf,mBACA,cAAC,KAAD,CACCsW,KAAK,gBACLrW,KAAK,OACLZ,KAAK,QACLa,GAAG,QACHC,YAAY,eACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAK+W,MACZ9P,SAAU,SAACP,GACV1G,EAAK+W,MAAQrQ,EAAES,OAAOpE,MACtBmJ,EAAQlM,SAIX,sBAAKuG,UAAU,aAAf,UACC,uBAAOM,QAAQ,WAAf,sBACA,uBACCC,KAAK,WACLZ,KAAK,WACLa,GAAG,WACHC,YAAY,WACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAK8W,SACZ7P,SAAU,SAACP,GACV1G,EAAK8W,SAAWpQ,EAAES,OAAOpE,MACzBmJ,EAAQlM,SAIX,sBAAKuG,UAAU,aAAf,UACC,uBAAOM,QAAQ,wBAAf,8BACA,uBACCC,KAAK,WACLZ,KAAK,wBACLa,GAAG,wBACHC,YAAY,WACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAK8c,sBACZ7V,SAAU,SAACP,GACV1G,EAAK8c,sBAAwBpW,EAAES,OAAOpE,MACtCmJ,EAAQlM,SAIX,sBAAKuG,UAAU,aAAf,UACC,uBAAOM,QAAQ,OAAf,kBACA,yBACCX,KAAK,OACLa,GAAG,OACHR,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAK8G,KACZG,SAAU,SAACP,GACV1G,EAAK8G,KAAOJ,EAAES,OAAOpE,MACrBmJ,EAAQlM,IARV,UAUC,wBAAQ+C,MAAM,SAAd,oBACA,wBAAQA,MAAM,UAAd,2BAGa,YAAd/C,EAAK8G,KACL,sBAAKP,UAAU,aAAf,UACC,uBAAOM,QAAQ,oBAAf,gCACA,uBACCC,KAAK,OACLZ,KAAK,oBACLa,GAAG,oBACHC,YAAY,oBACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAKwQ,kBACZvJ,SAAU,SAACP,GACV1G,EAAKwQ,kBAAoB9J,EAAES,OAAOpE,MAClCmJ,EAAQlM,MAGV,uBAAOuG,UAAU,uBAAjB,oCAEE,KACJ,qBAAKA,UAAU,aAAf,SACC,wBACCO,KAAK,SACLP,UAAS,mCAA8BvH,EAAM4E,EAAY,aACzD0F,SAAU1F,EAHX,SAIEA,EACA,qBAAK2C,UAAU,OAAf,SACC,mBAAGA,UAAU,4BAGd,eAIH,sBAAKA,UAAU,aAAf,qCAC0B,IACzB,cAAC,IAAD,CAAM6J,GAAIvO,EAAc0E,UAAU,WAAlC,kC,UCpLO6W,GAlDU,SAAC/U,GAsBzB,OArBA1C,qBAAU,WACTuC,EAAE,QAAQmH,IAAI,mBAAoB,QAClC,IAAMyI,EAAO5P,EAAE,qBAAqBoU,KAAK,QASzC,OARApU,EAAE,qBAAqBiH,SACvBjH,EAAE,QAAQ0E,OAAV,wIAGA1E,EAAE,QAAQ0E,OAAV,8HAIO,WACN1E,EAAE,QAAQmH,IAAI,mBAAoB,WAClCnH,EAAE,mBAAmBiH,SACrBjH,EAAE,mBAAmBiH,SACrBjH,EAAE,QAAQ0E,OAAV,uCAAiDkL,EAAjD,YAIC,IAGF,sBAAKvR,UAAU,OAAf,UACC,cAACuV,GAAD,IACA,sBACCvV,UAAU,cACV5E,MAAO,CACN0Z,gBAAiB,2BACjBC,mBAAoB,MACpBC,eAAgB,QAChBC,UAAW,QACXC,UAAW,QACXlI,SAAU,SACVD,SAAU,WACVE,MAAO,OACPkI,OAAQ,EACRC,QAAS,OACTC,WAAY,SACZC,eAAgB,UAdlB,UAgBC,qBAAKtV,UAAU,WACf,qBAAKA,UAAU,mBAAf,SACC,cAAC6B,GAAD,CAAc7B,UAAU,8BCwDd8W,GA9FmB,SAAChV,GAAW,IAAD,EACpB1D,mBAAS,CAChC0P,MAAO,KAFoC,mBACrCrU,EADqC,KAC/BkM,EAD+B,OAIRvH,oBAAS,GAJD,mBAIrCf,EAJqC,KAIzB0E,EAJyB,KAMtCE,EAAUC,cAEZpE,EAAMpB,IAAI,WAAaoB,EAAMK,IAAa,WAAaL,EAAMK,IAAI,SACpE8D,EAAQrF,KAAKtB,GAGd,IAAM8G,EAAM,uCAAG,sBAAAC,EAAA,yDACY,IAAtB5I,EAAKqU,MAAM5T,OADD,yCAENN,IAAOL,MAAM,4BAFP,cAIdwI,GAAc,GAJA,kBAMPO,KAAMgE,KAAK,wBAAyB7M,GAN7B,OAObG,IAAOkK,QAAQ,qDACf7B,EAAQrF,KAAKtB,GARA,kDAUbhC,EAAY,EAAD,IACXsJ,QAAQC,IAAR,MAXa,yBAabd,GAAc,GAbD,6EAAH,qDAiBZ,OACC,qBAAK/B,UAAS,wCAAmCkW,KAAOC,MAAxD,SACC,qBAAKnW,UAAU,4BAAf,SACC,sBAAKA,UAAS,sBAAiBkW,KAAOzN,MAAtC,UACC,sBAAKzI,UAAU,0BAAf,UACC,qBACCwL,IAAI,gCACJC,IAAI,OACJzL,UAAU,+CACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQrF,KAAKtB,MAGf,oBAAI0E,UAAU,aAAd,SACC,cAAC,IAAD,CAAM6J,GAAIvO,EAAaF,MAAO,CAAEgb,eAAgB,QAAhD,iCAID,mBAAGpW,UAAU,YAAb,4CAED,qBAAKA,UAAU,YAAf,SACC,uBACCK,SAAU,SAACF,GACVA,EAAEC,iBACFgC,KAHF,UAKC,sBAAKpC,UAAU,aAAf,UACC,uBAAOM,QAAQ,QAAf,mBACA,uBACCC,KAAK,QACLZ,KAAK,QACLa,GAAG,QACHC,YAAY,iBACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAKqU,MACZpN,SAAU,SAACP,GACV1G,EAAKqU,MAAQ3N,EAAES,OAAOpE,MACtBmJ,EAAQ,eAAKlM,UAIhB,qBAAKuG,UAAU,aAAf,SACC,wBACCO,KAAK,SACLP,UAAS,mCAA8BvH,EAAM4E,EAAY,aACzD0F,SAAU1F,EAHX,SAIEA,EACA,qBAAK2C,UAAU,OAAf,SACC,mBAAGA,UAAU,4BAGd,0BCaK+W,GA/FkB,SAACjV,GAAW,IAAD,EACnB1D,mBAAS,CAChCmS,SAAU,GACV0F,MAAOe,cAA+Bf,QAHI,mBACpCxc,EADoC,KAC9BkM,EAD8B,OAKPvH,oBAAS,GALF,mBAKpCf,EALoC,KAKxB0E,EALwB,KAOrCE,EAAUC,cAEZpE,EAAMpB,IAAI,WAAaoB,EAAMK,IAAa,WAAaL,EAAMK,IAAI,SACpE8D,EAAQrF,KAAKtB,GAGd,IAAM8G,EAAM,uCAAG,sBAAAC,EAAA,yDACe,IAAzB5I,EAAK8W,SAASrW,OADJ,yCAENN,IAAOL,MAAM,+BAFP,cAIdwI,GAAc,GAJA,kBAMPO,KAAMgE,KAAK,uBAAwB7M,GAN5B,OAObG,IAAOkK,QAAQ,kCACf7B,EAAQrF,KAAKtB,GARA,kDAUbhC,EAAY,EAAD,IACXsJ,QAAQC,IAAR,MAXa,yBAabd,GAAc,GAbD,6EAAH,qDAiBZ,OACC,qBAAK/B,UAAS,wCAAmCkW,KAAOC,MAAxD,SACC,qBAAKnW,UAAU,4BAAf,SACC,sBAAKA,UAAS,sBAAiBkW,KAAOzN,MAAtC,UACC,sBAAKzI,UAAU,0BAAf,UACC,qBACCwL,IAAI,gCACJC,IAAI,OACJzL,UAAU,+CACVE,QAAS,SAACC,GACTA,EAAEC,iBACF6B,EAAQrF,KAAKtB,MAGf,oBAAI0E,UAAU,aAAd,SACC,cAAC,IAAD,CAAM6J,GAAIvO,EAAaF,MAAO,CAAEgb,eAAgB,QAAhD,iCAID,mBAAGpW,UAAU,YAAb,4CAED,qBAAKA,UAAU,YAAf,SACC,uBACCK,SAAU,SAACF,GACVA,EAAEC,iBACFgC,KAHF,UAKC,sBAAKpC,UAAU,aAAf,UACC,uBAAOM,QAAQ,QAAf,0BACA,uBACCC,KAAK,WACLZ,KAAK,WACLa,GAAG,WACHC,YAAY,eACZT,UAAS,uCAAkCvH,EAAM4E,EAAY,aAC7D0F,SAAU1F,EACVb,MAAO/C,EAAK8W,SACZ7P,SAAU,SAACP,GACV1G,EAAK8W,SAAWpQ,EAAES,OAAOpE,MACzBmJ,EAAQ,eAAKlM,UAIhB,qBAAKuG,UAAU,aAAf,SACC,wBACCO,KAAK,SACLP,UAAS,mCAA8BvH,EAAM4E,EAAY,aACzD0F,SAAU1F,EAHX,SAIEA,EACA,qBAAK2C,UAAU,OAAf,SACC,mBAAGA,UAAU,4BAGd,0BC7EK,SAASiX,KACvB,IAAMC,EAAU,uCAAG,8BAAA7U,EAAA,+EAEMC,KAAMnE,IAAU,SAFtB,gBAET1E,EAFS,EAETA,KACRqE,EAAMW,IAAI,UAAU,GACpBX,EAAMW,IAAI,OAAQhF,GAJD,gDAMjBmJ,QAAQC,IAAI,KAAMC,UAClBhF,EAAM8K,OAAO,QAAQnK,IAAI,UAAU,GAPlB,yDAAH,qDAgBhB,OALAW,qBAAU,WACT8X,MAEE,IAGF,cAAC,IAAD,UACC,eAAC,IAAD,WACC,cAAC,IAAD,CAAO5T,KAAMhI,EAAakP,OAAK,EAACC,UAAWmL,KAC3C,cAAC,IAAD,CAAOtS,KAAMhI,EAAcmP,UAAWuL,KACtC,cAAC,IAAD,CAAO1S,KAAMhI,EAAiBmP,UAAW4L,KACzC,cAAC,IAAD,CAAO/S,KAAMhI,EAAkBmP,UAAW+I,KAC1C,cAAC,IAAD,CAAOlQ,KAAMhI,EAAsBkP,OAAK,EAACC,UAAWoM,KACpD,cAAC,IAAD,CAAOvT,KAAI,UAAKhI,EAAL,QAAiCmP,UAAW1D,KACvD,cAAC,IAAD,CAAOzD,KAAMhI,EAAwBmP,UAAWqM,KAChD,cAAC,IAAD,CAAOxT,KAAI,UAAKhI,EAAL,WAAqCmP,UAAWsM,UC1C/D,IAYeI,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,OCRd7O,MAAMqP,UAAU9U,OAAS,WACxB,IAAM2I,EAAM,GAENoM,EAAQhc,KAYd,OAXAhC,OAAOie,oBAAoBD,GAAO7d,SAAQ,SAAUI,GACnDqR,EAAIrR,GAAOyd,EAAMzd,KACfyd,GAEC,UAAWpM,IACdA,EAAIsM,MAAQtM,EAAIsM,MACd/e,MAAM,SACNI,KAAI,SAACN,GAAD,OAAoBA,EAAOkK,UAC/BS,QAAO,SAAClJ,EAAQyd,GAAT,OAA6B,IAANA,MAG1BvM,GAIR/C,OAAOkP,UAAUK,aAAe,WAC/B,IAAMC,EAAQrc,KAAK7C,MAAM,KACzB,GAAIkf,EAAMhe,OAAS,EAAG,CACrB,IAAMie,GAASD,EAAM,GAAG9U,MAAM,QAAU,IAAIlK,KAAK,IAC3Ckf,GAAYF,EAAM,GAAG9U,MAAM,QAAU,IAAIlK,KAAK,IACpD,OAAOyH,OAAO,GAAD,OAAIwX,EAAJ,YAAaC,KAAe,EAE1C,IAAMhV,EAAQvH,KAAKuH,MAAM,OACzB,OAAKA,GAGEzC,OAAOyC,EAAMlK,KAAK,MAFjB,GClBToJ,KAAM+V,SAASC,QAAUC,+BACzBjW,KAAM+V,SAASG,QAAQC,OAAvB,OAA0C,mBAEtC3a,EAAMpB,IAAI,WACb4F,KAAM+V,SAASG,QAAQC,OAAvB,+BAA2D3a,EAAMK,IAAI,WAGtEL,EAAMe,OAAe,SAAS,SAACoX,GAC9B3T,KAAM+V,SAASG,QAAQC,OAAvB,+BAA2DxC,MAG5DyC,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,GAAD,MAED5P,SAAS6P,eAAe,SAMzB1B,O","file":"static/js/main.e677c8e1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Login_card__2G1x8\",\"body\":\"Login_body__1gsPU\"};","import toastr from 'toastr';\r\nimport _ from 'lodash';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport function outIf<T>(condition: boolean, output: T, defaultValue = ''): T {\r\n\treturn condition ? output : ((defaultValue as unknown) as T);\r\n}\r\n\r\nexport function ucfirst(string: string) {\r\n\tconst array = string.split('');\r\n\tarray[0] = array[0].toUpperCase();\r\n\treturn array.join('');\r\n}\r\n\r\nexport function ucwords(string: string) {\r\n\treturn string\r\n\t\t.split(' ')\r\n\t\t.map((word) => (word === 'Id' ? 'ID' : ucfirst(word)))\r\n\t\t.join(' ');\r\n}\r\n\r\nexport function handleError(error: any) {\r\n\tif (error.response) {\r\n\t\tconst response = error.response;\r\n\t\tif (response.data.message && response.status !== 422) {\r\n\t\t\ttoastr.error(response.data.message);\r\n\t\t} else if (response.status === 422) {\r\n\t\t\tObject.values(response.data.errors).forEach((errors: any) => errors.forEach((error: any) => toastr.error(error)));\r\n\t\t} else if (error.message) {\r\n\t\t\ttoastr.error(error.message);\r\n\t\t} else {\r\n\t\t\ttoastr.error('Something went wrong, please try again later.', 'Oops!');\r\n\t\t}\r\n\t} else if (error.message) {\r\n\t\ttoastr.error(error.message);\r\n\t}\r\n}\r\n\r\nexport function groupBy<T, K extends keyof T>(data: Array<T>, key: K) {\r\n\tconst temp: { [key: string]: Array<T> } = {};\r\n\r\n\tdata.forEach((item) => {\r\n\t\tconst property: any = item[key];\r\n\t\tif (!(property in temp)) {\r\n\t\t\ttemp[property] = [];\r\n\t\t}\r\n\t\ttemp[property].push(item);\r\n\t});\r\n\treturn Object.keys(temp).map((key) => temp[key]);\r\n}\r\n\r\nexport function createTableColumns(data: Array<any>) {\r\n\tif (data.length === 0) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\treturn Object.keys(data[0]).map((key) => {\r\n\t\tswitch (key) {\r\n\t\t\tcase 'id':\r\n\t\t\t\treturn 'ID';\r\n\t\t\tcase 'createdAt':\r\n\t\t\t\treturn 'Date Requested';\r\n\t\t\tcase 'updatedAt':\r\n\t\t\t\treturn 'Date Modified';\r\n\t\t\tcase 'created_at':\r\n\t\t\t\treturn 'Date Requested';\r\n\t\t\tcase 'updated_at':\r\n\t\t\t\treturn 'Date Modified';\r\n\t\t\tdefault:\r\n\t\t\t\treturn sentencify(key);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function sentencify(words: string) {\r\n\treturn ucwords(_.snakeCase(words).split('_').join(' '));\r\n}\r\n\r\nexport function parseDate(date: string) {\r\n\treturn dayjs(date).fromNow();\r\n}\r\n\r\nexport function makeMask<T extends Function>(callable: T, callback: Function) {\r\n\treturn (((data: any) => {\r\n\t\treturn callable(callback(data));\r\n\t}) as unknown) as T;\r\n}\r\n\r\nexport function except<T, K extends keyof T>(data: T, keys: Array<K>) {\r\n\tconst copy = { ...data };\r\n\tfor (const key of keys) {\r\n\t\tif (key in copy) {\r\n\t\t\tdelete copy[key];\r\n\t\t}\r\n\t}\r\n\treturn copy;\r\n}\r\n\r\nexport function exceptMany<T, K extends keyof T>(data: Array<T>, keys: Array<K>) {\r\n\treturn [...data].map((item) => except(item, keys));\r\n}\r\n\r\nexport function orEqual<T>(data: T, keys: Array<T>) {\r\n\treturn keys.includes(data);\r\n}\r\n\r\nexport function only<T, K extends keyof T>(data: T, keys: Array<K>) {\r\n\tconst result = {} as T;\r\n\t(result as any)['id'] = (data as any)['id'];\r\n\tfor (const key of keys) {\r\n\t\tresult[key] = data[key];\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport function onlyMany<T, K extends keyof T>(data: Array<T>, keys: Array<K>) {\r\n\treturn [...data].map((item) => only(item, keys));\r\n}\r\n\r\nconst formatter = new Intl.NumberFormat('en-PH', {\r\n\tstyle: 'currency',\r\n\tcurrency: 'PHP',\r\n});\r\n\r\nexport function formatCurrency(value: number) {\r\n\treturn formatter.format(value).replace(/\\D00(?=\\D*$)/, '');\r\n}\r\n","export const routes = {\r\n\tROOT: '/',\r\n\tLOGIN: '/login',\r\n\tREGISTER: '/register',\r\n\tDASHBOARD: '/dashboard',\r\n\tDOCUMENT_TYPES: '/document-types',\r\n\tUSERS: '/users',\r\n\tREQUESTS: {\r\n\t\tROOT: '/requests',\r\n\t\tARCHIVED: '/archived',\r\n\t\tINACTIVE: '/inactive',\r\n\t},\r\n\tPROFILE: '/profile',\r\n\tDOWNLOADABLES: '/downloadables',\r\n\tCMS: '/content-management',\r\n\tCONTACTS: '/contacts',\r\n\tTRACK_REQUEST: '/track-request',\r\n\tFORGOT_PASSWORD: '/forgot-password',\r\n\tRESET_PASSWORD: '/reset-password',\r\n};\r\n","export type StorageItem = {\r\n\t[key: string]: any;\r\n};\r\n\r\nexport type ChangeEvent<T> = (value: T, thisArg?: State) => void;\r\n\r\nexport type Listeners = {\r\n\t[key: string]: Array<ChangeEvent<any>>;\r\n};\r\n\r\nexport class State {\r\n\tstorage: Storage;\r\n\tkey = 'pbbdtm-state-key';\r\n\tlisteners: Listeners = {};\r\n\r\n\tconstructor(key?: string) {\r\n\t\tthis.storage = window.localStorage;\r\n\t\tif (key) {\r\n\t\t\tthis.key = key;\r\n\t\t}\r\n\t\tconst data = this.getAll();\r\n\t\tthis.setAll(data);\r\n\t}\r\n\r\n\tclear() {\r\n\t\treturn this.setAll({});\r\n\t}\r\n\r\n\tgetAll(): StorageItem {\r\n\t\ttry {\r\n\t\t\tconst data = this.storage.getItem(this.key);\r\n\t\t\tif (!data) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst parsed = JSON.parse(data);\r\n\t\t\tif (typeof parsed !== 'object') {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn parsed;\r\n\t\t} catch (error) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t}\r\n\r\n\tsetAll(data: StorageItem) {\r\n\t\tthis.storage.setItem(this.key, JSON.stringify(data));\r\n\t\treturn this;\r\n\t}\r\n\r\n\thas(key: string) {\r\n\t\treturn key in this.getAll();\r\n\t}\r\n\r\n\tget<T = any>(key: string): T {\r\n\t\treturn this.getAll()[key];\r\n\t}\r\n\r\n\tset(key: string, value: any) {\r\n\t\tconst data = this.getAll();\r\n\t\tdata[key] = value;\r\n\t\tthis.dispatch(key, value);\r\n\t\treturn this.setAll(data);\r\n\t}\r\n\r\n\tremove(key: string) {\r\n\t\tif (this.has(key)) {\r\n\t\t\tconst data = this.getAll();\r\n\t\t\tdelete data[key];\r\n\t\t\tthis.setAll(data);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tdispatch<T>(key: string, value: T) {\r\n\t\tif (key in this.listeners) {\r\n\t\t\tthis.listeners[key].forEach((callback) => callback(value, this));\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tlisten<T>(key: string, callback: ChangeEvent<T>) {\r\n\t\tif (!(key in this.listeners)) {\r\n\t\t\tthis.listeners[key] = [];\r\n\t\t}\r\n\t\treturn this.listeners[key].push(callback) - 1;\r\n\t}\r\n\r\n\tunlisten(key: string, index: number) {\r\n\t\tif (!(key in this.listeners)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.listeners[key].splice(index, 1);\r\n\t}\r\n}\r\n\r\nexport default new State();\r\n","import React, { useEffect, useState } from 'react';\r\nimport pluralize from 'pluralize';\r\nimport _ from 'lodash';\r\nimport { outIf, sentencify } from '../../helpers';\r\nimport { State } from '../../state';\r\nimport Datatable from 'react-data-table-component';\r\n\r\ntype Props<T> = {\r\n\ttitle: string;\r\n\ttheme?: 'light' | 'dark';\r\n\tcolumns?: Array<string>;\r\n\tdata: Array<T>;\r\n\tonViewClick: (data: T) => void;\r\n\tonEditClick: (data: T) => void;\r\n\tonRefreshClick: () => void;\r\n\tonAddClick: () => void;\r\n\tonDeleteConfirm: (data: T) => void;\r\n\tprocessing: boolean;\r\n\twithAction: boolean;\r\n\tpagination: boolean;\r\n\tborder?: boolean;\r\n\tdontShowDelete?: boolean;\r\n\tdontShowEdit?: boolean;\r\n\tdontShowView?: boolean;\r\n\tdisableAddButton?: boolean;\r\n};\r\n\r\nexport function Table<T>({\r\n\ttitle,\r\n\tdata,\r\n\tonViewClick,\r\n\tonEditClick,\r\n\tonDeleteConfirm,\r\n\tonRefreshClick,\r\n\tprocessing,\r\n\tonAddClick,\r\n\twithAction,\r\n\tpagination,\r\n\tborder,\r\n\tdontShowView,\r\n\tdontShowEdit,\r\n\tdontShowDelete,\r\n\tdisableAddButton,\r\n}: Props<T>) {\r\n\tconst state = new State(_.kebabCase(title.toLowerCase() + '-table'));\r\n\r\n\tconst total = data.length;\r\n\tconst page = state.has('page') ? state.get('page') : 1;\r\n\r\n\tconst [interval, setInterval] = useState(state.has('perPage') ? state.get<number>('perPage') : 10);\r\n\tif (page > Math.ceil(total / interval) && state.has('page')) {\r\n\t\tstate.set('page', 1);\r\n\t}\r\n\tconst [current, setCurrent] = useState(page <= Math.ceil(total / interval) ? page : 1);\r\n\tconst pageKey = state.listen<number>('page', (page) => setCurrent(page));\r\n\tconst [formInterval, setFormInterval] = useState(interval);\r\n\tconst [options, setOptions] = useState(false);\r\n\r\n\tconst intervalKey = state.listen<number>('perPage', (perPage) => {\r\n\t\tif (current > Math.ceil(total / perPage)) {\r\n\t\t\tstate.set('page', 1);\r\n\t\t}\r\n\t\tsetInterval(perPage);\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => () => {\r\n\t\t\tstate.unlisten('page', pageKey);\r\n\t\t\tstate.unlisten('perPage', intervalKey);\r\n\t\t},\r\n\t\t// eslint-disable-next-line\r\n\t\t[]\r\n\t);\r\n\r\n\tconst offset = (current - 1) * interval;\r\n\r\n\tconst paginatedData: Array<any> = [];\r\n\r\n\tfor (let count = offset; count < offset + interval; count++) {\r\n\t\tif (typeof data[count] !== 'undefined') {\r\n\t\t\tpaginatedData.push(data[count]);\r\n\t\t}\r\n\t}\r\n\r\n\tconst columns =\r\n\t\tdata.length > 0\r\n\t\t\t? Object.keys(data[0]).map((column) => ({\r\n\t\t\t\t\tname: sentencify(column),\r\n\t\t\t\t\tselector: ((row: any) => row[column]) as any,\r\n\t\t\t\t\tsortable: true,\r\n\t\t\t\t\tminWidth: '200px',\r\n\t\t\t  }))\r\n\t\t\t: [];\r\n\r\n\tif (withAction) {\r\n\t\tcolumns.push({\r\n\t\t\tname: 'Actions',\r\n\t\t\tselector: (row: any) => row['action'],\r\n\t\t\tsortable: true,\r\n\t\t\tminWidth: '300px',\r\n\t\t});\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className='row'>\r\n\t\t\t<div className='col-12'>\r\n\t\t\t\t<div className={`card ${border ? 'border' : ''} w-100`}>\r\n\t\t\t\t\t<div className='card-header border-0'>\r\n\t\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t\t<h3 className='mb-0 align-self-center'>{title}</h3>\r\n\t\t\t\t\t\t\t<div className='ml-auto align-self-center d-flex'>\r\n\t\t\t\t\t\t\t\t{withAction && (disableAddButton === undefined || disableAddButton === false) ? (\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tclassName={`fas fa-plus clickable d-block align-self-center m-1 text-warning`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onAddClick()}></i>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{withAction ? (\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tclassName={`fas fa-redo-alt clickable d-block align-self-center m-1 text-info ${\r\n\t\t\t\t\t\t\t\t\t\t\tprocessing ? 'fa-spin' : ''\r\n\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onRefreshClick()}></i>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pagination ? (\r\n\t\t\t\t\t\t\t<div className='mt-4'>\r\n\t\t\t\t\t\t\t\t<div className='py-2'>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-${!options ? 'primary' : 'danger'} btn-sm d-none`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tsetOptions(!options);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t{!options ? 'Show' : 'Hide'} Options\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{options ? (\r\n\t\t\t\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-inline d-none'\r\n\t\t\t\t\t\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tstate.set('perPage', formInterval >= 1 ? formInterval : 10);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='form-group p-1'>\r\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='perPage' className='mr-2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRows per Page:\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\t\tname='perPage'\r\n\t\t\t\t\t\t\t\t\t\t\t\tid='perPage'\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Per Page'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formInterval}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setFormInterval(Number(e.target.value))}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='form-group p-1'>\r\n\t\t\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-warning btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tChange\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t<div className='text-center'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t{data.length > 0 ? (\r\n\t\t\t\t\t\t\t\t<div className='table-responsive' style={{ overflowY: 'hidden' }}>\r\n\t\t\t\t\t\t\t\t\t<Datatable\r\n\t\t\t\t\t\t\t\t\t\tcolumns={columns}\r\n\t\t\t\t\t\t\t\t\t\tdata={data.map((item, index) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t...item,\r\n\t\t\t\t\t\t\t\t\t\t\taction: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className={`d-flex w-100 ${!withAction ? 'd-none' : ''}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{outIf(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdontShowView === undefined || dontShowView === false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className='mx-1 btn btn-link' onClick={() => onViewClick(item)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='ni ni-active-40 text-info'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{outIf(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdontShowEdit === undefined || dontShowEdit === false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className='mx-1 btn btn-link' onClick={() => onEditClick(item)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='ni ni-ruler-pencil text-warning'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{outIf(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdontShowDelete === undefined || dontShowDelete === false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-toggle='modal'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-target={`#deleteModal${index}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='mx-1 btn btn-link'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='ni ni-fat-delete text-danger'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t}))}\r\n\t\t\t\t\t\t\t\t\t\tpagination\r\n\t\t\t\t\t\t\t\t\t\ttheme={'default'}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t{data.length === 0 ? (\r\n\t\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t\t<h3 className='text-center'>No Data</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t{withAction\r\n\t\t\t\t\t\t? data.map((item, index) => (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tclassName='modal fade'\r\n\t\t\t\t\t\t\t\t\tid={`deleteModal${index}`}\r\n\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\trole='dialog'\r\n\t\t\t\t\t\t\t\t\taria-labelledby={`deleteModalLabel${index}`}\r\n\t\t\t\t\t\t\t\t\taria-hidden='true'>\r\n\t\t\t\t\t\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteModalLabel${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tDelete {pluralize.singular(title)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='modal-body'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tAre you sure you want to delete this {pluralize.singular(sentencify(title))}?\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst modal = $(`#deleteModal${index}`);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodal.on('hidden.bs.modal', () => onDeleteConfirm(item));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodal.modal('hide');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t: null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { outIf } from '../helpers';\r\nimport toastr from 'toastr';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Request } from '../contracts/Request';\r\nimport state from '../state';\r\nimport { User } from '../contracts/User';\r\nimport { routes } from '../routes';\r\n\r\ntype Props = {\r\n\tclassName?: string;\r\n};\r\n\r\nexport function TrackRequest(props: Props) {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [id, setID] = useState('');\r\n\tconst history = useHistory();\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\tconst submit = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<Request>>('/requests');\r\n\t\t\tconst request = data.find((request) => request.request_id.includes(id) || request.request_id === id);\r\n\t\t\tif (request && (!state.has('logged') || !state.get('logged') || state.get('user') === undefined)) {\r\n\t\t\t\treturn history.push(`${routes.TRACK_REQUEST}/${request.id}`);\r\n\t\t\t}\r\n\t\t\tif (!request || (user.role === 'Applicant' && request.user_id !== user.id)) {\r\n\t\t\t\treturn toastr.info('Request ID is invalid.', 'Notice');\r\n\t\t\t}\r\n\t\t\thistory.push(`/dashboard/requests/${request.id}`);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to verify request ID.', 'Oops!');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`card shadow ${props.className}`}>\r\n\t\t\t<div className='card-body'>\r\n\t\t\t\t<form\r\n\t\t\t\t\tclassName='form-inline'\r\n\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tplaceholder='Request ID'\r\n\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\tvalue={id}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetID(e.target.value.trim());\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<button type='submit' className={`btn btn-warning ${outIf(processing, 'disabled')}`} disabled={processing}>\r\n\t\t\t\t\t\t\t{processing ? 'Processing' : 'Track Request'}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { AcknowledgedDate, Request } from '../../../contracts/Request';\r\nimport { createTableColumns, exceptMany, handleError, ucfirst } from '../../../helpers';\r\nimport { Table } from '../Table';\r\nimport toastr from 'toastr';\r\nimport dayjs from 'dayjs';\r\nimport state from '../../../state';\r\nimport { User } from '../../../contracts/User';\r\nimport { TrackRequest } from '../../TrackRequest';\r\nimport axios from 'axios';\r\nimport { routes } from '../../../routes';\r\n\r\ntype Props = {};\r\n\r\nconst Requests: FC<Props> = () => {\r\n\tconst [requests, setRequests] = useState<Array<Request>>([]);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst match = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst path = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst readOnly = match.path.includes(routes.REQUESTS.INACTIVE) || match.path.includes(routes.REQUESTS.ARCHIVED);\r\n\r\n\tconst fetchRequests = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<Request>>('/requests');\r\n\t\t\tif (match.path.includes(routes.REQUESTS.INACTIVE)) {\r\n\t\t\t\treturn setRequests(\r\n\t\t\t\t\texceptMany(data, [\r\n\t\t\t\t\t\t'file',\r\n\t\t\t\t\t\t'file_id',\r\n\t\t\t\t\t\t'user_id',\r\n\t\t\t\t\t\t'document_type_id',\r\n\t\t\t\t\t\t'tasks',\r\n\t\t\t\t\t\t'status',\r\n\t\t\t\t\t\t'acknowledged',\r\n\t\t\t\t\t\t'expired',\r\n\t\t\t\t\t\t'files',\r\n\t\t\t\t\t\t'for',\r\n\t\t\t\t\t\t'evaluation',\r\n\t\t\t\t\t\t'acknowledged_dates',\r\n\t\t\t\t\t]).filter((request) => request.expired)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif (match.path.includes(routes.REQUESTS.ARCHIVED)) {\r\n\t\t\t\treturn setRequests(\r\n\t\t\t\t\texceptMany(data, [\r\n\t\t\t\t\t\t'file',\r\n\t\t\t\t\t\t'file_id',\r\n\t\t\t\t\t\t'user_id',\r\n\t\t\t\t\t\t'document_type_id',\r\n\t\t\t\t\t\t'tasks',\r\n\t\t\t\t\t\t'status',\r\n\t\t\t\t\t\t'acknowledged',\r\n\t\t\t\t\t\t'expired',\r\n\t\t\t\t\t\t'files',\r\n\t\t\t\t\t\t'for',\r\n\t\t\t\t\t\t'evaluation',\r\n\t\t\t\t\t\t'acknowledged_dates',\r\n\t\t\t\t\t]).filter((request) => request.approved)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tsetRequests(\r\n\t\t\t\texceptMany(data, ['file', 'file_id', 'user_id', 'document_type_id', 'tasks', 'files', 'for', 'acknowledged_dates'])\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch requests.');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteRequest = async (id: any) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/requests?id=${id}`);\r\n\t\t\ttoastr.success('Request deleted successfully.');\r\n\t\t\tawait fetchRequests();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\thandleError(error);\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\tconst filterToRole = (requests: Array<Request>) => {\r\n\t\tswitch (user.role) {\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn requests;\r\n\t\t\tcase 'Cashier':\r\n\t\t\t\treturn requests.filter((request) => request.status === 'Payment');\r\n\t\t\tcase 'Evaluation':\r\n\t\t\t\treturn requests.filter((request) => request.status === 'Evaluating');\r\n\t\t\tcase 'Director':\r\n\t\t\t\treturn requests.filter((request) => !request.for || request.for !== 'Registrar');\r\n\t\t\tcase 'Registrar':\r\n\t\t\t\treturn requests.filter((request) => !request.for || request.for !== 'Director');\r\n\t\t\tcase 'Releasing':\r\n\t\t\t\treturn requests.filter((request) => request.status === 'Signed' || request.status === 'Releasing');\r\n\t\t\tcase 'Applicant':\r\n\t\t\t\treturn requests.filter((request) => request.user_id === user.id);\r\n\t\t}\r\n\t};\r\n\r\n\tconst isAcknowledgable = (request: Request) => {\r\n\t\tswitch (request.status) {\r\n\t\t\tcase 'Received':\r\n\t\t\t\treturn user.role === 'Admin';\r\n\t\t\tcase 'Payment':\r\n\t\t\t\treturn user.role === 'Cashier';\r\n\t\t\tcase 'Evaluating':\r\n\t\t\t\treturn user.role === 'Evaluation';\r\n\t\t\tcase 'Evaluated':\r\n\t\t\t\treturn user.role === 'Registrar' || user.role === 'Director';\r\n\t\t\tcase 'Signed':\r\n\t\t\t\treturn user.role === 'Releasing';\r\n\t\t\tdefault:\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderAcknowledged = (request: Request) => {\r\n\t\tif (isAcknowledgable(request)) {\r\n\t\t\treturn request.acknowledged ? (\r\n\t\t\t\t<button className='btn btn-warning btn-sm disabled' disabled>\r\n\t\t\t\t\tDone\r\n\t\t\t\t</button>\r\n\t\t\t) : (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\te.currentTarget.setAttribute('disabled', 'true');\r\n\t\t\t\t\t\te.currentTarget.classList.add('disabled');\r\n\t\t\t\t\t\te.currentTarget.textContent = 'Acknowledging...';\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst { data } = await axios.get(`/requests/show?id=${request.id}`);\r\n\t\t\t\t\t\t\tconst dates = Array.from<AcknowledgedDate>(JSON.parse(data.acknowledged_dates));\r\n\t\t\t\t\t\t\tdates.push({ date: new Date().toJSON(), status: data.status });\r\n\r\n\t\t\t\t\t\t\tif (user.role === 'Releasing') {\r\n\t\t\t\t\t\t\t\tdates.push({ date: new Date().toJSON(), status: 'Releasing' });\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tawait axios.put(`/requests?id=${data.id}`, {\r\n\t\t\t\t\t\t\t\tacknowledged: true,\r\n\t\t\t\t\t\t\t\tacknowledged_dates: JSON.stringify(dates),\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\ttoastr.info('Request acknowledged.', 'Notice');\r\n\t\t\t\t\t\t\tawait fetchRequests();\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tconsole.log(error.toJSON(), request);\r\n\t\t\t\t\t\t\ttoastr.error('Unable to acknowledge request.');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tAcknowledge\r\n\t\t\t\t</button>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn request.acknowledged ? <span className='badge badge-green'>Yes</span> : <span className='badge badge-red'>No</span>;\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchRequests();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TrackRequest />\r\n\t\t\t<Table\r\n\t\t\t\ttitle={(() => {\r\n\t\t\t\t\tif (!readOnly) {\r\n\t\t\t\t\t\treturn 'Requests';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst fragments = match.path.split('/');\r\n\t\t\t\t\treturn `${ucfirst(fragments[fragments.length - 1])} Requests`;\r\n\t\t\t\t})()}\r\n\t\t\t\tcolumns={createTableColumns(requests)}\r\n\t\t\t\tdata={filterToRole(requests)\r\n\t\t\t\t\t.map((request) => ({\r\n\t\t\t\t\t\t...request,\r\n\t\t\t\t\t\tcreated_at: dayjs(request.created_at).format('MMMM DD, YYYY hh:mm A'),\r\n\t\t\t\t\t\tupdated_at: dayjs(request.updated_at).format('MMMM DD, YYYY hh:mm A'),\r\n\t\t\t\t\t\tuser: request.user!.name,\r\n\t\t\t\t\t\tdocumentType: request.documentType!.name,\r\n\t\t\t\t\t\tapproved: request.approved ? (\r\n\t\t\t\t\t\t\t<span className='badge badge-green'>Yes</span>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span className='badge badge-red'>No</span>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tacknowledged:\r\n\t\t\t\t\t\t\t!match.path.includes(routes.REQUESTS.ARCHIVED) && !match.path.includes(routes.REQUESTS.INACTIVE)\r\n\t\t\t\t\t\t\t\t? renderAcknowledged(request)\r\n\t\t\t\t\t\t\t\t: '',\r\n\t\t\t\t\t\tevaluation: request.evaluation ? request.evaluation : '',\r\n\t\t\t\t\t}))\r\n\t\t\t\t\t.map((request) => {\r\n\t\t\t\t\t\tif (!match.path.includes(routes.REQUESTS.ARCHIVED) && !match.path.includes(routes.REQUESTS.INACTIVE)) {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t...request,\r\n\t\t\t\t\t\t\t\texpired: request.expired ? (\r\n\t\t\t\t\t\t\t\t\t<span className='badge badge-red'>Yes</span>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span className='badge badge-green'>No</span>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\tstatus: request.acknowledged ? (\r\n\t\t\t\t\t\t\t\t\t<span className='badge badge-green'>{request.status}</span>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span className='badge badge-danger'>Pending</span>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn request;\r\n\t\t\t\t\t})}\r\n\t\t\t\tprocessing={processing}\r\n\t\t\t\tonAddClick={() => history.push(path('add'))}\r\n\t\t\t\tonViewClick={({ id }) => {\r\n\t\t\t\t\thistory.push(path(`${id}`));\r\n\t\t\t\t}}\r\n\t\t\t\tonEditClick={({ id }) => {\r\n\t\t\t\t\thistory.push(path(`${id}/edit`));\r\n\t\t\t\t}}\r\n\t\t\t\tonDeleteConfirm={({ id }) => {\r\n\t\t\t\t\tdeleteRequest(id);\r\n\t\t\t\t}}\r\n\t\t\t\tonRefreshClick={fetchRequests}\r\n\t\t\t\twithAction={!readOnly}\r\n\t\t\t\tpagination={true}\r\n\t\t\t\tdontShowView={user.role === 'Applicant' || readOnly}\r\n\t\t\t\tdontShowDelete={user.role === 'Applicant' || readOnly}\r\n\t\t\t\tdisableAddButton={user.role !== 'Applicant' || readOnly}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Requests;\r\n","import React, { FC } from 'react';\r\nimport Requests from './Requests';\r\n\r\ntype Props = {};\r\n\r\nconst Archived: FC<Props> = (props) => {\r\n\treturn <Requests />;\r\n};\r\n\r\nexport default Archived;\r\n","export const statuses = ['Received', 'Payment', 'Evaluating', 'Evaluated', 'Signed', 'Releasing', 'Released'] as Array<RequestStatus>;\r\n","import axios from 'axios';\r\nimport React, { ChangeEvent, createRef, useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { statuses } from '../../../constants';\r\nimport { Request } from '../../../contracts/Request';\r\nimport { User } from '../../../contracts/User';\r\nimport { handleError, outIf } from '../../../helpers';\r\nimport toastr from 'toastr';\r\nimport state from '../../../state';\r\n\r\nexport function Form() {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst user = state.get<User>('user');\r\n\tconst [data, setData] = useState<any>({\r\n\t\tdocument_type_id: -1,\r\n\t\tapproved: false,\r\n\t\tstatus: 'Received',\r\n\t\tuser_id: user.id,\r\n\t\tfile_id: null,\r\n\t\tuser: {\r\n\t\t\tname: user.role === 'Applicant' ? user.name : 'N\\\\A',\r\n\t\t},\r\n\t\tdocumentType: {\r\n\t\t\tname: 'N\\\\A',\r\n\t\t},\r\n\t\tacknowledged_dates: JSON.stringify([]),\r\n\t});\r\n\tconst [file, setFile] = useState<File | null>(null);\r\n\r\n\tconst fileRef = createRef<HTMLInputElement>();\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n\t\tconst { id, value } = e.target;\r\n\t\tsetData({\r\n\t\t\t...data,\r\n\t\t\t[id]: value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst { params, path } = useRouteMatch<{ id: string }>();\r\n\r\n\tconst fetchRequest = async () => {\r\n\t\tconst id = params.id;\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(`/requests/show?id=${id}`);\r\n\t\t\tsetData({\r\n\t\t\t\t...response.data,\r\n\t\t\t\tfile: null,\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch request.');\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (path.includes('edit')) {\r\n\t\t\tfetchRequest();\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst submit = async () => {\r\n\t\tif (processing) return;\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst payload = new FormData();\r\n\t\t\tpayload.append('_method', 'PUT');\r\n\r\n\t\t\tif (file) {\r\n\t\t\t\tdata.file = file;\r\n\t\t\t}\r\n\r\n\t\t\tfor (const key of ['documentType', 'logs', 'files', 'tasks', 'user', 'evaluation', 'expired']) {\r\n\t\t\t\tdelete data[key];\r\n\t\t\t}\r\n\r\n\t\t\tfor (const key in data) {\r\n\t\t\t\tconst value = data[key];\r\n\t\t\t\tpayload.append(key, value);\r\n\t\t\t}\r\n\r\n\t\t\tawait axios.post<Request>('/requests', payload);\r\n\t\t\ttoastr.success('Request updated successfully.');\r\n\t\t\tsetFile(null);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst getUserStatusables = (): Array<RequestStatus> => {\r\n\t\tswitch (user.role) {\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn ['Received', 'Payment', 'Evaluating', 'Evaluated', 'Signed', 'Releasing', 'Released'];\r\n\t\t\tcase 'Registrar':\r\n\t\t\t\treturn ['Received', 'Payment', 'Evaluating', 'Evaluated', 'Signed', 'Releasing', 'Released'];\r\n\t\t\tcase 'Director':\r\n\t\t\t\treturn ['Received', 'Payment', 'Evaluating', 'Evaluated', 'Signed', 'Releasing', 'Released'];\r\n\t\t\tcase 'Cashier':\r\n\t\t\t\treturn ['Payment', 'Evaluating'];\r\n\t\t\tcase 'Evaluation':\r\n\t\t\t\treturn ['Signed', 'Released'];\r\n\t\t\tcase 'Releasing':\r\n\t\t\t\treturn ['Releasing', 'Released'];\r\n\t\t\tdefault:\r\n\t\t\t\treturn [];\r\n\t\t}\r\n\t};\r\n\r\n\tconst statusables = getUserStatusables();\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='container'\r\n\t\t\tonSubmit={async (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tawait submit();\r\n\t\t\t}}>\r\n\t\t\t<div className='d-flex'>\r\n\t\t\t\t<h3 className='align-self-center mb-0'>Update Request</h3>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tBack\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='document_type_id'>Document Type</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='document_type_id'\r\n\t\t\t\t\tid='document_type_id'\r\n\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\tdisabled={user.role !== 'Applicant'}>\r\n\t\t\t\t\t<option value={data.documentType?.name}>{data.documentType?.name}</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='user_id'>User</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='user_id'\r\n\t\t\t\t\tid='user_id'\r\n\t\t\t\t\tplaceholder='User'\r\n\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\tdisabled={user.role !== 'Applicant'}>\r\n\t\t\t\t\t<option value={data.user?.name}>{data.user?.name}</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='status'>Status</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='status'\r\n\t\t\t\t\tid='status'\r\n\t\t\t\t\tplaceholder='Status'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tvalue={data.status}>\r\n\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t{statuses\r\n\t\t\t\t\t\t.filter((status) => statusables.includes(status))\r\n\t\t\t\t\t\t.map((status, index) => (\r\n\t\t\t\t\t\t\t<option value={status} key={index}>\r\n\t\t\t\t\t\t\t\t{status}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='approved'>Approved</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='approved'\r\n\t\t\t\t\tid='approved'\r\n\t\t\t\t\tplaceholder='Approved'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing || (user.role !== 'Admin' && user.role !== 'Releasing')}\r\n\t\t\t\t\tvalue={data.approved ? 'Yes' : 'No'}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tif (user.role === 'Admin' || user.role === 'Releasing') {\r\n\t\t\t\t\t\t\tif (e.target.value === 'Yes') {\r\n\t\t\t\t\t\t\t\tsetData({\r\n\t\t\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\t\t\tapproved: true,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsetData({\r\n\t\t\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\t\t\tapproved: false,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<option value='Yes'>Yes</option>\r\n\t\t\t\t\t<option value='No'>No</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t{data.approved ? (\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={`btn btn-warning btn-sm ${outIf(processing || file !== null, 'disabled')}`}\r\n\t\t\t\t\t\tdisabled={processing || (user.role !== 'Admin' && user.role !== 'Releasing') || file !== null}\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tfileRef.current?.click();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{file !== null ? 'File Uploaded' : 'Upload File (if applicable)'}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\tid='file'\r\n\t\t\t\t\t\tname='file'\r\n\t\t\t\t\t\tplaceholder='File'\r\n\t\t\t\t\t\tclassName={`form-control form-control-sm d-none`}\r\n\t\t\t\t\t\tdisabled={processing || (user.role !== 'Admin' && user.role !== 'Releasing') || file !== null}\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tif ((user.role === 'Admin' || user.role === 'Releasing') && e.target.files && e.target.files.length > 0) {\r\n\t\t\t\t\t\t\t\tsetFile(e.target.files[0]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\r\n\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Save'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import React, { FC } from 'react';\r\nimport Requests from './Requests';\r\n\r\ntype Props = {};\r\n\r\nconst Inactive: FC<Props> = (props) => {\r\n\treturn <Requests />;\r\n};\r\n\r\nexport default Inactive;\r\n","import React from 'react';\r\nimport Requests from './Requests';\r\n\r\nexport function List() {\r\n\treturn <Requests />;\r\n}\r\n","import React, { FC } from 'react';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport ReactQuill from 'react-quill';\r\n\r\ntype Props = {\r\n\tonChange?: (content: string) => void;\r\n\tvalue: string;\r\n};\r\n\r\nconst Quill: FC<Props> = ({ onChange, value }) => {\r\n\treturn <ReactQuill onChange={onChange} value={value} />;\r\n};\r\n\r\nexport default Quill;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { AcknowledgedDate, Request } from '../../../contracts/Request';\r\nimport { handleError, outIf } from '../../../helpers';\r\nimport toastr from 'toastr';\r\nimport { statuses } from '../../../constants';\r\nimport state from '../../../state';\r\nimport { User } from '../../../contracts/User';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport { Task } from '../../../contracts/Task';\r\nimport Quill from '../Quill';\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport function View() {\r\n\tconst [request, setRequest] = useState<Request | null>(null);\r\n\tconst history = useHistory();\r\n\tconst [updating, setUpdating] = useState(false);\r\n\tconst [currentStatus, setCurrentStatus] = useState('Registrar');\r\n\tconst [smsMessage, setSmsMessage] = useState('');\r\n\tconst [emailMessage, setEmailMessage] = useState('<p>Hello World</p>');\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\tconst fetchRequest = async (requestID: string) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Request>(`/requests/show?id=${requestID}`);\r\n\t\t\tsetRequest(data);\r\n\t\t\tsetSmsMessage(\r\n\t\t\t\t`Your Request (ID: ${data.request_id}) has been updated to ${getNextStatus(user.role)}. ${\r\n\t\t\t\t\twindow.location.origin\r\n\t\t\t\t}/dashboard/requests/${data.id}`\r\n\t\t\t);\r\n\t\t\tsetEmailMessage(`\r\n                <div>\r\n                    <p>Hi ${data.user?.name}!</p>\r\n                    <p>Your request (ID: ${data.request_id}) is updated to: <b>${getNextStatus(user.role)}</b></p>\r\n                    <p>Last Updater: ${user.name}</p>\r\n                    <p>Date Updated: ${dayjs().format('MMMM DD, YYYY')}</p>\r\n                </div>\r\n            `);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst markTask = async (task: Task, done: boolean) => {\r\n\t\ttry {\r\n\t\t\tawait axios.put('/requests/tasks', {\r\n\t\t\t\t...task,\r\n\t\t\t\tdone,\r\n\t\t\t\tname: user.name,\r\n\t\t\t});\r\n\t\t\ttoastr.info('Task updated.', 'Notice');\r\n\t\t\tfetchRequest(`${request?.id}`);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to update task.', 'Oops!');\r\n\t\t}\r\n\t};\r\n\r\n\tlet deleting = false;\r\n\r\n\tconst deleteRequest = async () => {\r\n\t\tif (deleting) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdeleting = true;\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/requests?id=${request?.id}`);\r\n\t\t\ttoastr.success('Request deleted successfully.');\r\n\t\t\thistory.goBack();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tdeleting = false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst makeStatuses = (status: RequestStatus) => {\r\n\t\tconst level = ((status) => {\r\n\t\t\tswitch (status) {\r\n\t\t\t\tcase 'Received':\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase 'Payment':\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tcase 'Evaluating':\r\n\t\t\t\t\treturn 3;\r\n\t\t\t\tcase 'Evaluated':\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase 'Signed':\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase 'Releasing':\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase 'Released':\r\n\t\t\t\t\treturn 5;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t})(status);\r\n\r\n\t\treturn {\r\n\t\t\tstatuses: statuses.filter((status) => !['Released', 'Evaluated'].includes(status)),\r\n\t\t\tlevel,\r\n\t\t};\r\n\t};\r\n\r\n\tconst { params } = useRouteMatch<{ id: string }>();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchRequest(params.id);\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst next = ((role) => {\r\n\t\tswitch (role) {\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn 'Forward for payment to Cashier';\r\n\t\t\tcase 'Cashier':\r\n\t\t\t\treturn 'Mark as paid and forward to Evaluation';\r\n\t\t\tcase 'Evaluation':\r\n\t\t\t\treturn 'Forward to Signing';\r\n\t\t\tcase 'Director':\r\n\t\t\t\treturn 'Mark as ready for releasing and forward to Releasing';\r\n\t\t\tcase 'Registrar':\r\n\t\t\t\treturn 'Mark as ready for releasing and forward to Releasing';\r\n\t\t\tcase 'Releasing':\r\n\t\t\t\treturn 'Notify client for document release';\r\n\t\t\tdefault:\r\n\t\t\t\treturn '';\r\n\t\t}\r\n\t})(user.role);\r\n\r\n\tconst forward = async (assignedRole?: string) => {\r\n\t\tsetUpdating(true);\r\n\t\tconst data: any = {};\r\n\t\ttry {\r\n\t\t\tconst status: RequestStatus = ((role) => {\r\n\t\t\t\tif (assignedRole) {\r\n\t\t\t\t\tdata.for = assignedRole;\r\n\t\t\t\t}\r\n\t\t\t\treturn getNextStatus(role);\r\n\t\t\t})(user.role);\r\n\r\n\t\t\tif (['Registrar', 'Director'].includes(user.role)) {\r\n\t\t\t\tconst { data: req } = await axios.get(`/requests/show?id=${request?.id}`);\r\n\t\t\t\tconst dates = Array.from<AcknowledgedDate>(JSON.parse(req.acknowledged_dates));\r\n\r\n\t\t\t\tdates.push({ date: new Date().toJSON(), status: 'Signed' });\r\n\r\n\t\t\t\tdata.acknowledged_dates = JSON.stringify(dates);\r\n\t\t\t}\r\n\r\n\t\t\tawait axios.put(`/requests?id=${request?.id}`, {\r\n\t\t\t\t...data,\r\n\t\t\t\tstatus,\r\n\t\t\t\tacknowledged: ['Releasing', 'Released'].includes(status),\r\n\t\t\t\tsms_message: smsMessage,\r\n\t\t\t\temail_message: emailMessage,\r\n\t\t\t});\r\n\t\t\ttoastr.info('Request has been updated and forwarded.', 'Notice');\r\n\t\t\thistory.goBack();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Something went wrong, please try again later.', 'Unable to forward');\r\n\t\t} finally {\r\n\t\t\tsetUpdating(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst getNextStatus = (role: Roles) => {\r\n\t\tswitch (role) {\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn 'Payment';\r\n\t\t\tcase 'Cashier':\r\n\t\t\t\treturn 'Evaluating';\r\n\t\t\tcase 'Evaluation':\r\n\t\t\t\treturn 'Evaluated';\r\n\t\t\tcase 'Director':\r\n\t\t\t\treturn 'Signed';\r\n\t\t\tcase 'Registrar':\r\n\t\t\t\treturn 'Signed';\r\n\t\t\tcase 'Releasing':\r\n\t\t\t\treturn 'Releasing';\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(`Invalid role. ${role}`);\r\n\t\t}\r\n\t};\r\n\r\n\tconst isForwardable = () => {\r\n\t\tswitch (user.role) {\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn request?.status === 'Received';\r\n\t\t\tcase 'Cashier':\r\n\t\t\t\treturn request?.status === 'Payment';\r\n\t\t\tcase 'Evaluation':\r\n\t\t\t\treturn request?.status === 'Evaluating';\r\n\t\t\tcase 'Director':\r\n\t\t\t\treturn request?.status === 'Evaluated';\r\n\t\t\tcase 'Registrar':\r\n\t\t\t\treturn request?.status === 'Evaluated';\r\n\t\t\tcase 'Releasing':\r\n\t\t\t\treturn request?.status === 'Signed';\r\n\t\t}\r\n\t};\r\n\r\n\tconst origin = window.location.origin;\r\n\tconst exportToPDF = async () => {\r\n\t\ttoastr.info('Printing. Please wait.');\r\n\t\tconst card = $(String($('#request-card')[0].innerHTML));\r\n\r\n\t\tcard.find('button').remove();\r\n\t\tcard.find('.bi-plus-circle').remove();\r\n\t\tcard.find('i[title=\"Mark as Not Done\"]').remove();\r\n\t\tcard.find('i[title=\"Mark as Done\"]').remove();\r\n\t\tcard.find('i[title=\"Edit\"]').remove();\r\n\t\tcard.find('i[title=\"Delete\"]').remove();\r\n\r\n\t\tconst iframe = $('#iframe')[0] as HTMLIFrameElement;\r\n\t\tconst css = [\r\n\t\t\t'https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css',\r\n\t\t\t'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css',\r\n\t\t\t'https://fonts.googleapis.com/css?family=Montserrat:400,700,200',\r\n\t\t\torigin + '/assets/css/bootstrap.min.css',\r\n\t\t\torigin + '/assets/css/paper-dashboard.css',\r\n\t\t\torigin + '/assets/demo/demo.css',\r\n\t\t];\r\n\t\tconst window = iframe.contentWindow;\r\n\r\n\t\twindow?.document.open();\r\n\r\n\t\tif (window && window.document) {\r\n\t\t\twindow.document.write('<head>');\r\n\r\n\t\t\tconst parsed = await Promise.all(\r\n\t\t\t\tcss.map(async (url) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst { data } = await axios.get<string>(url, { timeout: 5000 });\r\n\t\t\t\t\t\treturn `<style>${data}</style>`;\r\n\t\t\t\t\t} catch (_) {\r\n\t\t\t\t\t\treturn `<link href=\"${url}\" rel=\"stylesheet\" />`;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\tparsed.forEach((css) => {\r\n\t\t\t\twindow.document.write(css);\r\n\t\t\t});\r\n\t\t\twindow.document.write('</head>');\r\n\r\n\t\t\twindow.document.write('<body>');\r\n\t\t\twindow.document.write(card.html());\r\n\t\t\twindow.document.write('</body>');\r\n\t\t\twindow.document.close();\r\n\t\t\twindow.focus();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\twindow.print();\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t};\r\n\r\n\tconst taskBelongsToUser = (type: string) => {\r\n\t\tif (['Payment', 'Paid'].includes(type)) {\r\n\t\t\treturn user.role === 'Cashier';\r\n\t\t} else if (['Received'].includes(type)) {\r\n\t\t\treturn user.role === 'Admin';\r\n\t\t} else if (['Evaluated'].includes(type)) {\r\n\t\t\treturn user.role === 'Evaluation';\r\n\t\t} else if (['Signed'].includes(type)) {\r\n\t\t\treturn user.role === 'Director' || user.role === 'Registrar';\r\n\t\t} else if (['Releasing', 'Released'].includes(type)) {\r\n\t\t\treturn user.role === 'Releasing';\r\n\t\t} else {\r\n\t\t\treturn type === user.role;\r\n\t\t}\r\n\t};\r\n\r\n\tconst findDate = (status: string) => {\r\n\t\tconst dates = Array.from<AcknowledgedDate>(JSON.parse(request?.acknowledged_dates || '[]'));\r\n\t\treturn dates.find((date) => date.status === status);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h3 className='mb-0'>View Request</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12 d-flex'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{user.role !== 'Applicant' ? (\r\n\t\t\t\t\t\t<Link to={`${window.location.pathname}/edit`} className='btn btn-warning btn-sm align-self-center ml-auto'>\r\n\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{user.role !== 'Applicant' ? (\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref={`${window.location.pathname}/delete`}\r\n\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm align-self-center ml-1'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t$('#deleteRequestModal').modal('show');\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12' id='request-card'>\r\n\t\t\t\t\t{request ? (\r\n\t\t\t\t\t\t<div className='card shadow rounded'>\r\n\t\t\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t\t\t{!['Applicant', 'Evaluation'].includes(user.role) && isForwardable() ? (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-info btn-sm ${outIf(updating || !request.acknowledged, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t$('#forwardRequestModal').modal('toggle');\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={updating || !request.acknowledged}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-bell'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{request.acknowledged ? next : 'You must acknowledge the request first'}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{user.role === 'Evaluation' ? (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-info btn-sm ${outIf(updating || !request.acknowledged, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t$('#forwardRequestModal').modal('toggle');\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={updating || !request.acknowledged}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-bell'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{request.acknowledged ? 'Forward' : 'You must acknowledge the request first'}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-success btn-sm`}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\texportToPDF();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-print'></i> Export to PDF\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<p className='card-title'>Requester's Name: {request.user!.name}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>Document Type: {request.documentType!.name}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>Expired: {request.expired ? 'Yes' : 'No'}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>Acknowledged: {request.acknowledged ? 'Yes' : 'No'}</p>\r\n\t\t\t\t\t\t\t\t{request.user?.student_id_number ? (\r\n\t\t\t\t\t\t\t\t\t<p className='card-text'>Student ID Number: {request.user.student_id_number}</p>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t<p className='card-text'>Evaluation: {request.evaluation}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>\r\n\t\t\t\t\t\t\t\t\tLast Updated By:{' '}\r\n\t\t\t\t\t\t\t\t\t{request.logs &&\r\n\t\t\t\t\t\t\t\t\trequest.logs.length > 0 &&\r\n\t\t\t\t\t\t\t\t\trequest.logs[request.logs.length - 1].user.role !== 'Applicant'\r\n\t\t\t\t\t\t\t\t\t\t? `${request.logs[request.logs.length - 1].user.name} - ${dayjs(request.updated_at).format(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'MMMM DD, YYYY hh:mm A'\r\n\t\t\t\t\t\t\t\t\t\t  )}`\r\n\t\t\t\t\t\t\t\t\t\t: 'N/A'}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>Status: {request.status}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-title'>Files:</p>\r\n\t\t\t\t\t\t\t\t<div className='container-fluid'>\r\n\t\t\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t\t\t{request.files?.map((file, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4 col-lg-3 col-xl-2' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a href={`${file.file?.url}&download=true`}>{file.file?.name}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<ul className='list-group'>\r\n\t\t\t\t\t\t\t\t\t{(({ level, statuses }) => {\r\n\t\t\t\t\t\t\t\t\t\treturn statuses.map((status, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<li className='list-group-item' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='d-flex align-items-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{level !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfindDate(status) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle-fill mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : level >= index + 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-circle mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-x-circle-fill mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{status}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{findDate(status)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `- ${dayjs(findDate(status)?.date).format('MMMM DD, YYYY hh:mm A')}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.tasks && request.tasks.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className='list-group mt-2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{request.tasks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter((task) => task.for === status)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((task, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='list-group-item' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='d-flex align-items-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.done ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle-fill mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-circle mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{task.title}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{taskBelongsToUser(status) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='ml-auto'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.done ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='bi bi-check-circle-fill mx-1 clickable'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='Mark as Not Done'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => markTask(task, false)}></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='bi bi-check-circle mx-1 clickable'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='Mark as Done'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => markTask(task, true)}></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t));\r\n\t\t\t\t\t\t\t\t\t})(makeStatuses(request.status))}\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<div className='card w-100 mx-1 my-4 shadow rounded'>\r\n\t\t\t\t\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>History</h4>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='card-body table-responsive' style={{ overflowY: 'hidden' }}>\r\n\t\t\t\t\t\t\t\t\t\t<table className='table table-sm text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>User</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Action</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.logs!.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>No Data</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.logs!.map((log, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{log.user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{log.action}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{dayjs(log.updated_at).format('MMMM DD, YYYY hh:mm A')}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\r\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName='modal fade'\r\n\t\t\t\tid={`deleteRequestModal`}\r\n\t\t\t\ttabIndex={-1}\r\n\t\t\t\trole='dialog'\r\n\t\t\t\taria-labelledby={`deleteRequestModalLabel`}\r\n\t\t\t\taria-hidden='true'>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteRequestModalLabel`}>\r\n\t\t\t\t\t\t\t\tDelete Request\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'>Are you sure you want to delete this request?</div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t$('#deleteRequestModal').modal('hide');\r\n\t\t\t\t\t\t\t\t\tdeleteRequest();\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName='modal fade'\r\n\t\t\t\tid={`forwardRequestModal`}\r\n\t\t\t\ttabIndex={-1}\r\n\t\t\t\trole='dialog'\r\n\t\t\t\taria-labelledby={`forwardRequestModalLabel`}\r\n\t\t\t\taria-hidden='true'>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`forwardRequestModalLabel`}>\r\n\t\t\t\t\t\t\t\tForward Request\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'>\r\n\t\t\t\t\t\t\t{user.role === 'Evaluation' ? (\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetCurrentStatus(e.target.value);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t{['Registrar', 'Director'].map((status, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<option value={status} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t{status}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t<label>SMS Message</label>\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tcols={20}\r\n\t\t\t\t\t\t\t\trows={5}\r\n\t\t\t\t\t\t\t\tclassName='form-control mb-3'\r\n\t\t\t\t\t\t\t\tonChange={(e) => setSmsMessage(e.target.value)}\r\n\t\t\t\t\t\t\t\tvalue={smsMessage}></textarea>\r\n\t\t\t\t\t\t\t<label>Email Message</label>\r\n\t\t\t\t\t\t\t<Quill onChange={(data) => setEmailMessage(data)} value={emailMessage} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t$('#forwardRequestModal').modal('hide');\r\n\t\t\t\t\t\t\t\t\tforward(currentStatus);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tForward\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<iframe title='Print Page' id='iframe' className='d-none'></iframe>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { routes } from '../../../routes';\r\nimport Archived from './Archived';\r\nimport { Form } from './Form';\r\nimport Inactive from './Inactive';\r\nimport { List } from './List';\r\nimport { View } from './View';\r\n\r\nexport function Requests() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={List} />\r\n\t\t\t<Route path={url(routes.REQUESTS.INACTIVE)} component={Inactive} />\r\n\t\t\t<Route path={url(routes.REQUESTS.ARCHIVED)} component={Archived} />\r\n\t\t\t<Route path={url('/add')} component={Form} />\r\n\t\t\t<Route path={url('/:id')} exact component={View} />\r\n\t\t\t<Route path={url('/:id/edit')} component={Form} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React, { createRef, useState } from 'react';\r\nimport { CMS } from '../../../contracts/CMS';\r\nimport toastr from 'toastr';\r\nimport { outIf } from '../../../helpers';\r\nimport dayjs from 'dayjs';\r\n\r\ntype Props = {\r\n\tcms: CMS;\r\n\tonChange: (value: string, success: () => void) => void;\r\n};\r\n\r\nexport function Entry({ cms, onChange }: Props) {\r\n\tconst [value, setValue] = useState(cms.value);\r\n\tconst [mode, setMode] = useState<'Edit' | 'View'>('View');\r\n\tconst [uploaded, setUploaded] = useState(false);\r\n\r\n\tconst isFile = cms.key.includes('picture');\r\n\r\n\tconst fileRef = createRef<HTMLInputElement>();\r\n\r\n\tconst reader = new FileReader();\r\n\r\n\treader.onload = (event) => {\r\n\t\tif (event.target && event.target.result) {\r\n\t\t\tsetValue(String(event.target.result));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='col-12 col-md-4 col-lg-3 border-0 p-3 mb-4 d-flex'>\r\n\t\t\t<div className='card' style={{ flex: 1 }}>\r\n\t\t\t\t{isFile ? (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName='card-img-top'\r\n\t\t\t\t\t\tsrc={value}\r\n\t\t\t\t\t\talt={cms.key}\r\n\t\t\t\t\t\tstyle={{ borderTopLeftRadius: '12px', borderTopRightRadius: '12px' }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<h6 className='card-title'>{cms.key}</h6>\r\n\t\t\t\t\t\t<small className='text-muted form-text mb-4 mt-0'>Last Updated: {dayjs(cms.updated_at).fromNow()}</small>\r\n\t\t\t\t\t\t{mode === 'View' ? <p>{isFile ? null : <b>{value}</b>}</p> : null}\r\n\t\t\t\t\t\t{mode === 'Edit' ? (\r\n\t\t\t\t\t\t\tisFile ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-info btn-sm ${outIf(uploaded, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={uploaded}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tif (!uploaded && fileRef.current) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfileRef.current.click();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t{uploaded ? 'Uploaded' : 'Upload'}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t\t\t\t\t\tclassName='d-none'\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0 && !uploaded) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treader.readAsDataURL(e.target.files[0]);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetUploaded(true);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\t\tplaceholder='Value'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetValue(e.target.value);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='card-footer'>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn btn-success btn-sm d-inline-block mx-1'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tif (mode === 'Edit') {\r\n\t\t\t\t\t\t\t\t\tonChange(value, () => {\r\n\t\t\t\t\t\t\t\t\t\ttoastr.info(`${cms.key} has been updated.`, 'Notice');\r\n\t\t\t\t\t\t\t\t\t\tsetUploaded(false);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tsetMode('View');\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetMode('Edit');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{mode === 'Edit' ? 'Save' : 'Edit'}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t{mode === 'Edit' ? (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm d-inline-block mx-1'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tsetMode('View');\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport toastr from 'toastr';\r\n\r\ntype Props = {\r\n\tfaq: FAQ;\r\n\tonChange: (value: FAQ, success: () => void) => void;\r\n\tdefaultMode?: 'View' | 'Edit';\r\n};\r\n\r\nexport function FAQ({ faq, onChange, defaultMode }: Props) {\r\n\tconst [mode, setMode] = useState(defaultMode || 'View');\r\n\tconst [question, setQuestion] = useState(faq.question);\r\n\tconst [answer, setAnswer] = useState(faq.answer);\r\n\r\n\treturn (\r\n\t\t<div className='col-12'>\r\n\t\t\t{mode === 'View' ? (\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label htmlFor='question'>\r\n\t\t\t\t\t\tQuestion: <b>{faq.question}</b>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tAnswer: <b>{faq.answer}</b>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t\t{mode === 'Edit' ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tname='question'\r\n\t\t\t\t\t\t\tplaceholder='Question'\r\n\t\t\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\t\t\tvalue={question}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetQuestion(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tname='answer'\r\n\t\t\t\t\t\t\tplaceholder='Answer'\r\n\t\t\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\t\t\tvalue={answer}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetAnswer(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-success btn-sm d-inline-block mx-1'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tif (mode === 'Edit') {\r\n\t\t\t\t\t\t\tonChange({ question, answer }, () => {\r\n\t\t\t\t\t\t\t\ttoastr.info('FAQs has been updated.', 'Notice');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetMode('View');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetMode('Edit');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t{mode === 'Edit' ? 'Save' : 'Edit'}\r\n\t\t\t\t</button>\r\n\t\t\t\t{mode === 'Edit' ? (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-danger btn-sm d-inline-block mx-1'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tsetMode('View');\r\n\t\t\t\t\t\t\tsetQuestion(faq.question);\r\n\t\t\t\t\t\t\tsetAnswer(faq.answer);\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</button>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { CMS as CMSContract } from '../../../contracts/CMS';\r\nimport toastr from 'toastr';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Entry } from './Entry';\r\nimport { FAQ } from './FAQ';\r\nimport dayjs from 'dayjs';\r\n\r\nexport function CMS() {\r\n\tconst [cms, setCMS] = useState<Array<CMSContract>>([]);\r\n\tconst [mode, setMode] = useState<'Manage' | 'Preview'>('Manage');\r\n\tconst history = useHistory();\r\n\tconst find = (key: string, defaultValue: string) => {\r\n\t\tconst c = cms.find((cms) => cms.key === key);\r\n\t\tif (c) {\r\n\t\t\treturn c.value;\r\n\t\t}\r\n\t\treturn defaultValue;\r\n\t};\r\n\tconst faqs = JSON.parse(find('faqs', JSON.stringify([]))) as Array<FAQ>;\r\n\r\n\tconst fetchCMS = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<CMSContract>>('/cms');\r\n\t\t\tsetCMS([...data]);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch CMS entities.', 'Oops!');\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst saveCMS = async (cms: CMSContract) => {\r\n\t\tif (cms.id) {\r\n\t\t\tawait axios.put('/cms', cms);\r\n\t\t} else {\r\n\t\t\tawait axios.post('/cms', cms);\r\n\t\t}\r\n\t};\r\n\r\n\tconst saveFAQ = async (faq: FAQ, index: number) => {\r\n\t\tfaqs.splice(index, 1, faq);\r\n\r\n\t\tconst entity = cms.find((cms) => cms.key === 'faqs');\r\n\r\n\t\tconst data = JSON.stringify(faqs);\r\n\r\n\t\tif (entity) {\r\n\t\t\tentity.value = data;\r\n\t\t\tcms.splice(\r\n\t\t\t\tcms.findIndex((cms) => cms.key === 'faqs'),\r\n\t\t\t\t1,\r\n\t\t\t\tentity\r\n\t\t\t);\r\n\t\t\tsetCMS([...cms]);\r\n\t\t\tawait saveCMS(entity);\r\n\t\t} else {\r\n\t\t\tcms.push({ key: 'faqs', value: data });\r\n\t\t\tsetCMS([...cms]);\r\n\t\t\tawait saveCMS({\r\n\t\t\t\tkey: 'faqs',\r\n\t\t\t\tvalue: data,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchCMS();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={`${mode === 'Preview' ? 'container-fluid' : 'container'}`}>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tsetMode(mode === 'Preview' ? 'Manage' : 'Preview');\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{mode === 'Preview' ? 'Manage' : 'Preview'}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{mode === 'Manage' ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{cms\r\n\t\t\t\t\t\t\t.filter((cms) => cms.key !== 'faqs')\r\n\t\t\t\t\t\t\t.map((cms, index) => (\r\n\t\t\t\t\t\t\t\t<Entry\r\n\t\t\t\t\t\t\t\t\tcms={cms}\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tonChange={async (value, success) => {\r\n\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\tcms.value = value;\r\n\t\t\t\t\t\t\t\t\t\t\tawait saveCMS(cms);\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess();\r\n\t\t\t\t\t\t\t\t\t\t\tfetchCMS();\r\n\t\t\t\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(error.toJSON());\r\n\t\t\t\t\t\t\t\t\t\t\ttoastr.error('Unable to update CMS entity.', 'Oops!');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t\t\t<h3 className='mb-0'>FAQs</h3>\r\n\t\t\t\t\t\t\t{cms.find((cms) => cms.key === 'faqs') && cms.find((cms) => cms.key === 'faqs')!.updated_at ? (\r\n\t\t\t\t\t\t\t\t<small className='text-muted mt-0 form-text mb-3'>\r\n\t\t\t\t\t\t\t\t\tLast Updated: {dayjs(cms.find((cms) => cms.key === 'faqs')?.updated_at).fromNow()}\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-success btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\t\t\tconst entity = cms.find((cms) => cms.key === 'faqs');\r\n\r\n\t\t\t\t\t\t\t\t\tif (entity) {\r\n\t\t\t\t\t\t\t\t\t\tconst value = JSON.parse(entity.value) as Array<FAQ>;\r\n\r\n\t\t\t\t\t\t\t\t\t\tvalue.push({ question: '', answer: '', new: true });\r\n\r\n\t\t\t\t\t\t\t\t\t\tentity.value = JSON.stringify(value);\r\n\r\n\t\t\t\t\t\t\t\t\t\tconst index = cms.findIndex((cms) => cms.key === 'faqs');\r\n\r\n\t\t\t\t\t\t\t\t\t\tcms.splice(index, 1, entity);\r\n\t\t\t\t\t\t\t\t\t\tsetCMS([...cms]);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tconst value = [{ question: '', answer: '', new: true }] as Array<FAQ>;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcms.push({ key: 'faqs', value: JSON.stringify(value) });\r\n\r\n\t\t\t\t\t\t\t\t\t\tsetCMS([...cms]);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tAdd FAQ\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{faqs.map((faq, index) => (\r\n\t\t\t\t\t\t\t<FAQ\r\n\t\t\t\t\t\t\t\tfaq={faq}\r\n\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\tonChange={async (faq, success) => {\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tawait saveFAQ(faq, index);\r\n\t\t\t\t\t\t\t\t\t\tsuccess();\r\n\t\t\t\t\t\t\t\t\t\tfetchCMS();\r\n\t\t\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(error.toJSON());\r\n\t\t\t\t\t\t\t\t\t\ttoastr.error('Unable to update FAQs.', 'Oops!');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdefaultMode={faq.new ? 'Edit' : 'View'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t\t<div style={{ position: 'relative', overflow: 'hidden', width: '100%', paddingTop: '56.25%' }}>\r\n\t\t\t\t\t\t\t<iframe\r\n\t\t\t\t\t\t\t\ttitle='CMS Preview'\r\n\t\t\t\t\t\t\t\tsrc={`${window.location.origin}?preview=true`}\r\n\t\t\t\t\t\t\t\tstyle={{ position: 'absolute', inset: 0, width: '100%', height: '100%' }}></iframe>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { Contact } from '../../../contracts/Contact';\r\nimport { handleError } from '../../../helpers';\r\nimport { Table } from '../../Shared/Table';\r\nimport toastr from 'toastr';\r\nimport dayjs from 'dayjs';\r\n\r\nexport function List() {\r\n\tconst [contacts, setContacts] = useState<Array<Contact>>([]);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst match = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst path = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst fetchContacts = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<Contact>>('/contacts');\r\n\t\t\tsetContacts(data);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch contacts.');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteContact = async (id: any) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/contacts?id=${id}`);\r\n\t\t\ttoastr.success('Contact deleted successfully.');\r\n\t\t\tawait fetchContacts();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\thandleError(error);\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchContacts();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\ttitle='Contacts'\r\n\t\t\tdata={contacts.map((contact) => ({\r\n\t\t\t\t...contact,\r\n\t\t\t\tcreated_at: dayjs(contact.created_at).fromNow(),\r\n\t\t\t\tupdated_at: dayjs(contact.updated_at).fromNow(),\r\n\t\t\t\tmessage: <p className='text-muted m-0 p-0'>{contact.message.substr(0, 15)}...</p>,\r\n\t\t\t}))}\r\n\t\t\tprocessing={processing}\r\n\t\t\tonAddClick={() => history.push(path('add'))}\r\n\t\t\tonViewClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}`));\r\n\t\t\t}}\r\n\t\t\tonEditClick={() => {\r\n\t\t\t\t//\r\n\t\t\t}}\r\n\t\t\tonDeleteConfirm={({ id }) => {\r\n\t\t\t\tdeleteContact(id);\r\n\t\t\t}}\r\n\t\t\tonRefreshClick={fetchContacts}\r\n\t\t\twithAction={true}\r\n\t\t\tpagination={true}\r\n\t\t\tdontShowEdit={true}\r\n\t\t\tdisableAddButton={true}\r\n\t\t/>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { Contact } from '../../../contracts/Contact';\r\nimport { handleError } from '../../../helpers';\r\nimport toastr from 'toastr';\r\n\r\nexport function View() {\r\n\tconst [contact, setContact] = useState<Contact | null>(null);\r\n\tconst history = useHistory();\r\n\r\n\tconst fetchContact = async (contactID: string) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Contact>(`/contacts/show?id=${contactID}`);\r\n\t\t\tsetContact(data);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tlet deleting = false;\r\n\r\n\tconst deleteContact = async () => {\r\n\t\tif (deleting) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdeleting = true;\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/contacts?id=${contact?.id}`);\r\n\t\t\ttoastr.success('Contact deleted successfully.');\r\n\t\t\thistory.goBack();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tdeleting = false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst { params } = useRouteMatch<{ id: string }>();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchContact(params.id);\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h3 className='mb-0'>View Contact</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12 d-flex'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref={`${window.location.pathname}/delete`}\r\n\t\t\t\t\t\tclassName='btn btn-danger btn-sm align-self-center ml-1'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t$('#deleteContactModal').modal('show');\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t{contact ? (\r\n\t\t\t\t\t\t<div className='card shadow rounded'>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<h6>Name</h6>\r\n\t\t\t\t\t\t\t\t<p>{contact.name}</p>\r\n\t\t\t\t\t\t\t\t<h6>Email</h6>\r\n\t\t\t\t\t\t\t\t<p>{contact.email}</p>\r\n\t\t\t\t\t\t\t\t<h6>Message</h6>\r\n\t\t\t\t\t\t\t\t<p>{contact.message}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\r\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName='modal fade'\r\n\t\t\t\tid={`deleteContactModal`}\r\n\t\t\t\ttabIndex={-1}\r\n\t\t\t\trole='dialog'\r\n\t\t\t\taria-labelledby={`deleteContactModalLabel`}\r\n\t\t\t\taria-hidden='true'>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteContactModalLabel`}>\r\n\t\t\t\t\t\t\t\tDelete Contact\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'>Are you sure you want to delete {contact?.name || 'this contact'}?</div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t$('#deleteContactModal').modal('hide');\r\n\t\t\t\t\t\t\t\t\tdeleteContact();\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { List } from './List';\r\nimport { View } from './View';\r\n\r\nexport function Contacts() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={List} />\r\n\t\t\t<Route path={url('/:id')} exact component={View} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { ChangeEvent, createRef, RefObject, useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { DocumentType } from '../../../contracts/DocumentType';\r\nimport { handleError, outIf } from '../../../helpers';\r\nimport toastr from 'toastr';\r\n\r\nexport function Form() {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useState('Add');\r\n\tconst [files, setFiles] = useState<Array<{ file: File | null; ref: RefObject<HTMLInputElement> }>>([]);\r\n\tconst [data, setData] = useState<DocumentType>({\r\n\t\tid: -1,\r\n\t\tname: '',\r\n\t\trequirements: [],\r\n\t\texpiry_days: 15,\r\n\t});\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n\t\tconst { id, value } = e.target;\r\n\t\tsetData({\r\n\t\t\t...data,\r\n\t\t\t[id]: value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst reset = () => setData({ name: '', id: -1, requirements: [], expiry_days: 15 });\r\n\r\n\tconst submit = async () => {\r\n\t\tif (processing) return;\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst payload = new FormData();\r\n\t\t\tdelete data.files;\r\n\t\t\tObject.entries(data).forEach(([key, value]) => payload.append(key, value));\r\n\r\n\t\t\tpayload.append('requirements', JSON.stringify(data.requirements));\r\n\t\t\tpayload.append('_method', mode === 'Add' ? 'post' : 'put');\r\n\r\n\t\t\tfiles.forEach((file) => {\r\n\t\t\t\tif (file.file instanceof File) {\r\n\t\t\t\t\tpayload.append('files[]', file.file);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tawait axios.post<DocumentType>('/document-types', payload);\r\n\t\t\ttoastr.success('Document Type saved successfully.');\r\n\t\t\treset();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchDocumentType = async (documentTypeID: string) => {\r\n\t\tsetMode('Edit');\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<DocumentType>(`/document-types/show?id=${documentTypeID}`);\r\n\t\t\tsetData(() => ({\r\n\t\t\t\t...data,\r\n\t\t\t\trequirements: ((requirements) => {\r\n\t\t\t\t\tif (!requirements) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst data = JSON.parse(requirements as any);\r\n\t\t\t\t\t\tif (!data) {\r\n\t\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error.toJSON());\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t})(data.requirements),\r\n\t\t\t}));\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst { params, path } = useRouteMatch<{ id: string }>();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (path.includes('edit')) {\r\n\t\t\tfetchDocumentType(params.id);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='container'\r\n\t\t\tonSubmit={async (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tawait submit();\r\n\t\t\t}}>\r\n\t\t\t<div className='d-flex'>\r\n\t\t\t\t<h3 className='align-self-center mb-0'>{mode} Document</h3>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tBack\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group text-primary'>\r\n\t\t\t\t<label htmlFor='name'></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='name'\r\n\t\t\t\t\tid='name'\r\n\t\t\t\t\tplaceholder='Name'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.name}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='expiry_days'>Expiry Days</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tname='expiry_days'\r\n\t\t\t\t\tid='expiry_days'\r\n\t\t\t\t\tplaceholder='Expiry Days'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.expiry_days}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='container-fluid'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t\t<h4>Requirements</h4>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tdata.requirements.push('');\r\n\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tAdd Requirement\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{data.requirements.map((requirement, index) => (\r\n\t\t\t\t\t\t<div className='col-12' key={index}>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tdata.requirements.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tRemove Requirement\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label>Requirement {index + 1}</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tplaceholder={`Requirement ${index + 1}`}\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={requirement}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.requirements.splice(index, 1, e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<div className='col-12 mt-3'>\r\n\t\t\t\t\t\t<h4>Forms</h4>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tfiles.push({ file: null, ref: createRef<HTMLInputElement>() });\r\n\t\t\t\t\t\t\t\tsetFiles([...files]);\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tAdd Form\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{files.map((file, index) => (\r\n\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 col-xl-3' key={index}>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tfiles.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\tsetFiles([...files]);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tRemove Form\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\t\tref={file.ref}\r\n\t\t\t\t\t\t\t\t\tclassName={`d-none ${outIf(processing || file !== null, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing || file.file !== null}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tfiles.splice(index, 1, { file: e.target.files[0], ref: file.ref });\r\n\t\t\t\t\t\t\t\t\t\t\tsetFiles([...files]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-secondary btn-sm'\r\n\t\t\t\t\t\t\t\t\tdisabled={file.file !== null}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tif (file.file === null && file.ref.current) {\r\n\t\t\t\t\t\t\t\t\t\t\tfile.ref.current.click();\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('yo');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t{file.file === null ? 'Upload' : 'Uploaded'}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t{mode === 'Edit' && data.files && data.files.length > 0 ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div className='col-12 mt-3'>\r\n\t\t\t\t\t\t\t\t<h4>Existing Forms</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{data.files?.map((file, index) => (\r\n\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4' key={index}>\r\n\t\t\t\t\t\t\t\t\t<div className='card'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='card-body d-flex align-items-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href={`${file.file?.url}&download=true`} target='_blank' rel='noreferrer'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{file.file?.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm ml-auto'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (window.confirm('Delete file?')) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.info('Deleting form file.', 'Notice');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait axios.delete(`/document-types/files?id=${file.id}`);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.success('Form file deleted.');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.files?.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\r\n\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Save'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { DocumentType } from '../../../contracts/DocumentType';\r\nimport { createTableColumns, exceptMany, ucwords } from '../../../helpers';\r\nimport { Table } from '../../Shared/Table';\r\nimport toastr from 'toastr';\r\nimport dayjs from 'dayjs';\r\n\r\nexport function List() {\r\n\tconst [documentTypes, setDocumentTypes] = useState<Array<DocumentType>>([]);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst match = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst path = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst fetchDocumentTypes = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<DocumentType>>('/document-types');\r\n\t\t\tsetDocumentTypes(exceptMany(data, ['requirements', 'files']));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch Document Types.');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteDocumentType = async (id: any) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/document-types?id=${id}`);\r\n\t\t\ttoastr.success('Document Type deleted successfully.');\r\n\t\t\tawait fetchDocumentTypes();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to delete Document Type.');\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchDocumentTypes();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\ttitle='Document Types'\r\n\t\t\tcolumns={createTableColumns(documentTypes).map((column) => {\r\n\t\t\t\tif (['updated at', 'created at'].includes(column.toLowerCase())) {\r\n\t\t\t\t\treturn ucwords(column.split(' ')[0]);\r\n\t\t\t\t}\r\n\t\t\t\treturn column;\r\n\t\t\t})}\r\n\t\t\tdata={documentTypes.map((documentType) => ({\r\n\t\t\t\t...documentType,\r\n\t\t\t\tcreated_at: dayjs(documentType.created_at).fromNow(),\r\n\t\t\t\tupdated_at: dayjs(documentType.updated_at).fromNow(),\r\n\t\t\t}))}\r\n\t\t\tprocessing={processing}\r\n\t\t\tonAddClick={() => history.push(path('add'))}\r\n\t\t\tonViewClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}`));\r\n\t\t\t}}\r\n\t\t\tonEditClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}/edit`));\r\n\t\t\t}}\r\n\t\t\tonDeleteConfirm={({ id }) => {\r\n\t\t\t\tdeleteDocumentType(id);\r\n\t\t\t}}\r\n\t\t\tonRefreshClick={fetchDocumentTypes}\r\n\t\t\twithAction={true}\r\n\t\t\tpagination={true}\r\n\t\t/>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { DocumentType } from '../../../contracts/DocumentType';\r\nimport { handleError } from '../../../helpers';\r\n\r\nexport function View() {\r\n\tconst [documentType, setDocumentType] = useState<DocumentType | null>(null);\r\n\tconst history = useHistory();\r\n\r\n\tconst fetchDocumentType = async (documentTypeID: string) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get(`/document-types/show?id=${documentTypeID}`);\r\n\t\t\tsetDocumentType({\r\n\t\t\t\t...data,\r\n\t\t\t\trequirements: ((requirements) => {\r\n\t\t\t\t\tif (!requirements) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst data = JSON.parse(requirements as any);\r\n\t\t\t\t\t\tif (!data) {\r\n\t\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error.toJSON());\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t})(data.requirements),\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst { params } = useRouteMatch<{ id: string }>();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchDocumentType(params.id);\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h3 className='mb-0'>View Document Type</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t{documentType ? (\r\n\t\t\t\t\t\t<div className='card shadow rounded'>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<h6>Name</h6>\r\n\t\t\t\t\t\t\t\t<p>{documentType.name}</p>\r\n\t\t\t\t\t\t\t\t<h6>Requirements</h6>\r\n\t\t\t\t\t\t\t\t{documentType.requirements?.map((requirement, index) => (\r\n\t\t\t\t\t\t\t\t\t<p className='card-text' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t{requirement}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t<h6>Forms</h6>\r\n\t\t\t\t\t\t\t\t{documentType.files?.map((file, index) => (\r\n\t\t\t\t\t\t\t\t\t<p className='card-text' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<a href={`${file.file?.url}&download=true`} target='_blank' rel='noreferrer'>\r\n\t\t\t\t\t\t\t\t\t\t\t{file.file?.name}\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\r\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { Form } from './Form';\r\nimport { List } from './List';\r\nimport { View } from './View';\r\n\r\nexport function DocumentTypes() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={List} />\r\n\t\t\t<Route path={url('/add')} component={Form} />\r\n\t\t\t<Route path={url('/:id')} exact component={View} />\r\n\t\t\t<Route path={url('/:id/edit')} component={Form} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { createRef, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Downloadable } from '../../../contracts/Downloadable';\r\nimport { handleError, outIf } from '../../../helpers';\r\nimport toastr from 'toastr';\r\n\r\nexport function Form() {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [data, setData] = useState<any>({\r\n\t\tid: -1,\r\n\t\tname: '',\r\n\t\tfile: null,\r\n\t\tcategory: '',\r\n\t});\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst reader = new FileReader();\r\n\r\n\treader.onload = (event) => {\r\n\t\tif (event.target && event.target.result) {\r\n\t\t\tdata.file = String(event.target.result) as any;\r\n\t\t\tsetData({\r\n\t\t\t\t...data,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst ref = createRef<HTMLInputElement>();\r\n\tconst form = createRef<HTMLFormElement>();\r\n\r\n\tconst reset = () => setData({ name: '', file: null });\r\n\r\n\tconst submit = async () => {\r\n\t\tif (processing) return;\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.post<Downloadable>('/downloadables', data);\r\n\t\t\ttoastr.success('Downloadable saved successfully.');\r\n\t\t\treset();\r\n\t\t\tif (form.current) {\r\n\t\t\t\tform.current.reset();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='container'\r\n\t\t\tref={form}\r\n\t\t\tonSubmit={async (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tawait submit();\r\n\t\t\t}}>\r\n\t\t\t<div className='d-flex'>\r\n\t\t\t\t<h3 className='align-self-center mb-0'>Create Downloadable</h3>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tBack\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='category'>Category</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='category'\r\n\t\t\t\t\tid='category'\r\n\t\t\t\t\tplaceholder='Category'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.category}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tdata.category = e.target.value;\r\n\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={`btn btn-info btn-sm ${outIf(processing || data.file !== null, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing || data.file !== null}\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tif (data.file === null) {\r\n\t\t\t\t\t\t\tref.current!.click();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t{data.file === null ? 'Upload File' : 'File Uploaded'}\r\n\t\t\t\t</button>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='file'\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')} d-none`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0) {\r\n\t\t\t\t\t\t\tconst file = e.target.files[0];\r\n\r\n\t\t\t\t\t\t\treader.readAsDataURL(file);\r\n\r\n\t\t\t\t\t\t\tdata.name = file.name;\r\n\r\n\t\t\t\t\t\t\tsetData({\r\n\t\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\r\n\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Save'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { createTableColumns, exceptMany, ucwords } from '../../../helpers';\r\nimport { Table } from '../../Shared/Table';\r\nimport toastr from 'toastr';\r\nimport dayjs from 'dayjs';\r\nimport { Downloadable } from '../../../contracts/Downloadable';\r\n\r\nexport function List() {\r\n\tconst [downloadables, setDownloadables] = useState<Array<Downloadable>>([]);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst match = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst path = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst fetchDownloadables = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<Downloadable>>('/downloadables');\r\n\t\t\tsetDownloadables(exceptMany(data, ['file_id']));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch Downloadables.');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteDownloadable = async (id: any) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/downloadables?id=${id}`);\r\n\t\t\ttoastr.success('Downloadable deleted successfully.');\r\n\t\t\tawait fetchDownloadables();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to delete Downloadable.');\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchDownloadables();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\ttitle='Downloadables'\r\n\t\t\tcolumns={createTableColumns(downloadables).map((column) => {\r\n\t\t\t\tif (['updated at', 'created at'].includes(column.toLowerCase())) {\r\n\t\t\t\t\treturn ucwords(column.split(' ')[0]);\r\n\t\t\t\t}\r\n\t\t\t\treturn column;\r\n\t\t\t})}\r\n\t\t\tdata={downloadables.map((downloadable) => ({\r\n\t\t\t\t...downloadable,\r\n\t\t\t\tfile: (\r\n\t\t\t\t\t<a href={`${downloadable.file!.url}&download=true`} className='btn btn-success btn-sm'>\r\n\t\t\t\t\t\tDownload\r\n\t\t\t\t\t</a>\r\n\t\t\t\t),\r\n\t\t\t\tcreated_at: dayjs(downloadable.created_at).fromNow(),\r\n\t\t\t\tupdated_at: dayjs(downloadable.updated_at).fromNow(),\r\n\t\t\t}))}\r\n\t\t\tprocessing={processing}\r\n\t\t\tonAddClick={() => history.push(path('add'))}\r\n\t\t\tonViewClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}`));\r\n\t\t\t}}\r\n\t\t\tonEditClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}/edit`));\r\n\t\t\t}}\r\n\t\t\tonDeleteConfirm={({ id }) => {\r\n\t\t\t\tdeleteDownloadable(id);\r\n\t\t\t}}\r\n\t\t\tonRefreshClick={fetchDownloadables}\r\n\t\t\twithAction={true}\r\n\t\t\tpagination={true}\r\n\t\t\tdontShowEdit={true}\r\n\t\t\tdontShowView={true}\r\n\t\t/>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { Form } from './Form';\r\nimport { List } from './List';\r\n\r\nexport function Downloadables() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={List} />\r\n\t\t\t<Route path={url('/add')} component={Form} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Log } from '../contracts/Log';\r\nimport { handleError } from '../helpers';\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport function Logs() {\r\n\tconst [logs, setLogs] = useState<Array<Log>>([]);\r\n\r\n\tconst fetchLogs = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get('/logs');\r\n\t\t\tsetLogs([...data]);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchLogs();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='card w-100'>\r\n\t\t\t<div className='card-header'>\r\n\t\t\t\t<h3 className='card-title'>History Logs</h3>\r\n\t\t\t\t{logs.length === 0 ? <p className='card-text'>No Data</p> : null}\r\n\t\t\t</div>\r\n\t\t\t<div className='card-body table-responsive' style={{ overflowY: 'hidden' }}>\r\n\t\t\t\t<table className='table table-sm text-center'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>User</th>\r\n\t\t\t\t\t\t\t<th>Action</th>\r\n\t\t\t\t\t\t\t<th>Request Type</th>\r\n\t\t\t\t\t\t\t<th>Requester's Name</th>\r\n\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{[...logs].reverse().map((log, index) => (\r\n\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t<td>{log.user?.name}</td>\r\n\t\t\t\t\t\t\t\t<td>{log.action}</td>\r\n\t\t\t\t\t\t\t\t<td>{log.loggable?.documentType?.name}</td>\r\n\t\t\t\t\t\t\t\t<td>{log.loggable?.user?.name}</td>\r\n\t\t\t\t\t\t\t\t<td>{dayjs(log.updated_at).format('MMMM DD, YYYY hh:mm A')}</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { routes } from '../../routes';\r\nimport { Logs } from '../Logs';\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport function Stats() {\r\n\tconst [stats, setStats] = useState({\r\n\t\tusers: 0,\r\n\t\tlogs: 0,\r\n\t\tapproved_requests: 0,\r\n\t\tpending_requests: 0,\r\n\t\tlast_log: null as any,\r\n\t});\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => {\r\n\t\tconst fragments = match.path.split('');\r\n\t\tif (fragments[fragments.length - 1] === '/') {\r\n\t\t\tfragments.splice(fragments.length - 1, 1);\r\n\t\t}\r\n\t\treturn `${fragments.join('')}${path}`;\r\n\t};\r\n\r\n\tconst fetchStats = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get('/statistics');\r\n\t\t\tsetStats(data);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchStats();\r\n\t\t// eslinst-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-lg-3 col-md-6 col-sm-6'>\r\n\t\t\t\t\t<div className='card card-stats'>\r\n\t\t\t\t\t\t<div className='card-body '>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-5 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t<div className='icon-big text-center icon-warning'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-globe text-warning'></i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-7 col-md-8'>\r\n\t\t\t\t\t\t\t\t\t<div className='numbers'>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-category'>Pending Requests</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-title'>{stats.pending_requests}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='card-footer'>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<Link to={url(routes.REQUESTS.ROOT)} className='stats'>\r\n\t\t\t\t\t\t\t\t<i className='fa fa-edit'></i>\r\n\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-lg-3 col-md-6 col-sm-6'>\r\n\t\t\t\t\t<div className='card card-stats'>\r\n\t\t\t\t\t\t<div className='card-body '>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-5 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t<div className='icon-big text-center icon-warning'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-money-coins text-success'></i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-7 col-md-8'>\r\n\t\t\t\t\t\t\t\t\t<div className='numbers'>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-category'>Completed Requests</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-title'>{stats.approved_requests}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='card-footer '>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<Link to={url(routes.REQUESTS.ROOT)} className='stats'>\r\n\t\t\t\t\t\t\t\t<i className='fa fa-calendar-o'></i>\r\n\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-lg-3 col-md-6 col-sm-6'>\r\n\t\t\t\t\t<div className='card card-stats'>\r\n\t\t\t\t\t\t<div className='card-body '>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-5 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t<div className='icon-big text-center icon-warning'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-vector text-danger'></i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-7 col-md-8'>\r\n\t\t\t\t\t\t\t\t\t<div className='numbers'>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-category'>Total Logs</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-title'>{stats.logs}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='card-footer '>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<div className='stats'>\r\n\t\t\t\t\t\t\t\t<i className='fa fa-clock-o'></i>\r\n\t\t\t\t\t\t\t\t{dayjs(stats.last_log ? stats.last_log.updated_at : new Date()).fromNow()}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-lg-3 col-md-6 col-sm-6'>\r\n\t\t\t\t\t<div className='card card-stats'>\r\n\t\t\t\t\t\t<div className='card-body '>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-5 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t<div className='icon-big text-center icon-warning'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-favourite-28 text-primary'></i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-7 col-md-8'>\r\n\t\t\t\t\t\t\t\t\t<div className='numbers'>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-category'>Users</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-title'>{stats.users}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='card-footer '>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<Link to={url(routes.USERS)} className='stats'>\r\n\t\t\t\t\t\t\t\t<i className='fa fa-refresh'></i>\r\n\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Logs />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { ChangeEvent, useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { User } from '../../../contracts/User';\r\nimport { handleError, outIf } from '../../../helpers';\r\nimport toastr from 'toastr';\r\n\r\nexport function Form() {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useState('Add');\r\n\tconst [data, setData] = useState<User>({\r\n\t\tid: -1,\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\trole: 'Applicant',\r\n\t\tphone: '63',\r\n\t});\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n\t\tconst { id, value } = e.target;\r\n\t\tsetData({\r\n\t\t\t...data,\r\n\t\t\t[id]: value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst reset = () => setData({ name: '', email: '', password: '', role: data.role, id: -1, phone: '63' });\r\n\r\n\tconst submit = async () => {\r\n\t\tif (processing) return;\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait (mode === 'Add' ? axios.post<User>('/users', data) : axios.put<User>('/users', data));\r\n\t\t\ttoastr.success('User saved successfully.');\r\n\t\t\tif (mode === 'Add') {\r\n\t\t\t\treset();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchUser = async (userID: string) => {\r\n\t\tsetMode('Edit');\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<User>(`/users/show?id=${userID}`);\r\n\t\t\tdata.password = '';\r\n\t\t\tsetData(data);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst { params, path } = useRouteMatch<{ id: string }>();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (path.includes('edit')) {\r\n\t\t\tfetchUser(params.id);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='container'\r\n\t\t\tonSubmit={async (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tawait submit();\r\n\t\t\t}}>\r\n\t\t\t<div className='d-flex'>\r\n\t\t\t\t<h3 className='align-self-center mb-0'>{mode} User</h3>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tBack\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='name'>Name</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='name'\r\n\t\t\t\t\tid='name'\r\n\t\t\t\t\tplaceholder='Name'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.name}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='email'>Email</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='email'\r\n\t\t\t\t\tname='email'\r\n\t\t\t\t\tid='email'\r\n\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='phone'>Phone</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='phone'\r\n\t\t\t\t\tid='phone'\r\n\t\t\t\t\tplaceholder='Phone'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.phone}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='password'>Password</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tname='password'\r\n\t\t\t\t\tid='password'\r\n\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='role'>Role</label>\r\n\t\t\t\t<select name='role' id='role' className='form-control form-control-sm' value={data.role} onChange={handleChange}>\r\n\t\t\t\t\t{['Admin', 'Cashier', 'Evaluation', 'Director', 'Registrar', 'Releasing', 'Applicant'].map((role, index) => (\r\n\t\t\t\t\t\t<option value={role} key={index}>\r\n\t\t\t\t\t\t\t{role}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\r\n\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Save'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { User } from '../../../contracts/User';\r\nimport { createTableColumns, exceptMany, handleError, ucwords } from '../../../helpers';\r\nimport { Table } from '../../Shared/Table';\r\nimport toastr from 'toastr';\r\nimport dayjs from 'dayjs';\r\n\r\nexport function List() {\r\n\tconst [users, setUsers] = useState<Array<User>>([]);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst match = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst path = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst fetchUsers = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<User>>('/users');\r\n\t\t\tsetUsers(exceptMany(data, ['profile_picture_id']));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch users.');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteUser = async (id: any) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/users?id=${id}`);\r\n\t\t\ttoastr.success('User deleted successfully.');\r\n\t\t\tawait fetchUsers();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\thandleError(error);\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchUsers();\r\n\t}, []);\r\n\r\n\tconst getBadge = (role: Roles) => {\r\n\t\tif (role === 'Admin') {\r\n\t\t\treturn 'red';\r\n\t\t} else if (role === 'Applicant') {\r\n\t\t\treturn 'warning';\r\n\t\t} else {\r\n\t\t\treturn 'green';\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\ttitle='Users'\r\n\t\t\tcolumns={createTableColumns(users).map((column) => {\r\n\t\t\t\tif (['updated at', 'created at'].includes(column.toLowerCase())) {\r\n\t\t\t\t\treturn ucwords(column.split(' ')[0]);\r\n\t\t\t\t}\r\n\t\t\t\tif (column.toLowerCase() === 'profile picture') {\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\t\t\t\treturn column;\r\n\t\t\t})}\r\n\t\t\tdata={users.map((user) => ({\r\n\t\t\t\t...user,\r\n\t\t\t\tcreated_at: dayjs(user.created_at).fromNow(),\r\n\t\t\t\tupdated_at: dayjs(user.updated_at).fromNow(),\r\n\t\t\t\trole: <span className={`badge badge-${getBadge(user.role)}`}>{user.role}</span>,\r\n\t\t\t\tprofilePicture: (\r\n\t\t\t\t\t<Link to={path(`${user.id}`)}>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={user.profilePicture?.url || 'https://via.placeholder.com/40'}\r\n\t\t\t\t\t\t\tclassName='rounded-circle shadow-sm border img-fluid d-none d-xl-block'\r\n\t\t\t\t\t\t\tstyle={{ height: '40px', width: '40px' }}\r\n\t\t\t\t\t\t\talt='Profile'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t),\r\n\t\t\t}))}\r\n\t\t\tprocessing={processing}\r\n\t\t\tonAddClick={() => history.push(path('add'))}\r\n\t\t\tonViewClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}`));\r\n\t\t\t}}\r\n\t\t\tonEditClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}/edit`));\r\n\t\t\t}}\r\n\t\t\tonDeleteConfirm={({ id }) => {\r\n\t\t\t\tdeleteUser(id);\r\n\t\t\t}}\r\n\t\t\tonRefreshClick={fetchUsers}\r\n\t\t\twithAction={true}\r\n\t\t\tpagination={true}\r\n\t\t/>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { User } from '../../../contracts/User';\r\nimport { handleError } from '../../../helpers';\r\nimport toastr from 'toastr';\r\n\r\nexport function View() {\r\n\tconst [user, setUser] = useState<User | null>(null);\r\n\tconst history = useHistory();\r\n\r\n\tconst fetchUser = async (userID: string) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<User>(`/users/show?id=${userID}`);\r\n\t\t\tsetUser(data);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tlet deleting = false;\r\n\r\n\tconst deleteUser = async () => {\r\n\t\tif (deleting) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdeleting = true;\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/users?id=${user?.id}`);\r\n\t\t\ttoastr.success('User deleted successfully.');\r\n\t\t\thistory.goBack();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tdeleting = false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst { params } = useRouteMatch<{ id: string }>();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchUser(params.id);\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst profileURL = user?.profilePicture?.url || 'https://via.placeholder.com/200';\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h3 className='mb-0'>View User</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12 d-flex'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<Link to={`${window.location.pathname}/edit`} className='btn btn-warning btn-sm align-self-center ml-auto'>\r\n\t\t\t\t\t\tEdit\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref={`${window.location.pathname}/delete`}\r\n\t\t\t\t\t\tclassName='btn btn-danger btn-sm align-self-center ml-1'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t$('#deleteUserModal').modal('show');\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t{user ? (\r\n\t\t\t\t\t\t<div className='card shadow rounded'>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={profileURL}\r\n\t\t\t\t\t\t\t\t\talt='Profile'\r\n\t\t\t\t\t\t\t\t\tclassName='img-fluid rounded-circle mb-3'\r\n\t\t\t\t\t\t\t\t\tstyle={{ height: '50px', width: '50px' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<h6>Name</h6>\r\n\t\t\t\t\t\t\t\t<p>{user.name}</p>\r\n\t\t\t\t\t\t\t\t<h6>Email</h6>\r\n\t\t\t\t\t\t\t\t<p>{user.email}</p>\r\n\t\t\t\t\t\t\t\t<h6>Phone</h6>\r\n\t\t\t\t\t\t\t\t<p>{user.phone}</p>\r\n\t\t\t\t\t\t\t\t<h6>Role</h6>\r\n\t\t\t\t\t\t\t\t<p>{user.role}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\r\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName='modal fade'\r\n\t\t\t\tid={`deleteUserModal`}\r\n\t\t\t\ttabIndex={-1}\r\n\t\t\t\trole='dialog'\r\n\t\t\t\taria-labelledby={`deleteUserModalLabel`}\r\n\t\t\t\taria-hidden='true'>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteUserModalLabel`}>\r\n\t\t\t\t\t\t\t\tDelete User\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'>Are you sure you want to delete {user?.name || 'this user'}?</div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t$('#deleteUserModal').modal('hide');\r\n\t\t\t\t\t\t\t\t\tdeleteUser();\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { Form } from './Form';\r\nimport { List } from './List';\r\nimport { View } from './View';\r\n\r\nexport function Users() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={List} />\r\n\t\t\t<Route path={url('/add')} component={Form} />\r\n\t\t\t<Route path={url('/:id')} exact component={View} />\r\n\t\t\t<Route path={url('/:id/edit')} component={Form} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { routes } from '../../routes';\r\nimport { Requests } from '../Shared/Requests';\r\nimport { CMS } from './CMS';\r\nimport { Contacts } from './Contacts';\r\nimport { DocumentTypes } from './DocumentTypes';\r\nimport { Downloadables } from './Downloadables';\r\nimport { Stats } from './Stats';\r\nimport { Users } from './Users/index';\r\n\r\nexport function Admin() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={Stats} />\r\n\t\t\t<Route path={url(routes.USERS)} component={Users} />\r\n\t\t\t<Route path={url(routes.DOCUMENT_TYPES)} component={DocumentTypes} />\r\n\t\t\t<Route path={url(routes.REQUESTS.ROOT)} component={Requests} />\r\n\t\t\t<Route path={url(routes.DOWNLOADABLES)} component={Downloadables} />\r\n\t\t\t<Route path={url(routes.CMS)} component={CMS} />\r\n\t\t\t<Route path={url(routes.CONTACTS)} component={Contacts} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { outIf } from '../../helpers';\r\nimport { routes } from '../../routes';\r\n\r\nexport function AdminSidebar() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst links = [\r\n\t\t{\r\n\t\t\turl: routes.DASHBOARD,\r\n\t\t\ticon: 'nc-icon nc-bank',\r\n\t\t\ttitle: 'Dashboard',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.DOCUMENT_TYPES),\r\n\t\t\ticon: 'nc-icon nc-book-bookmark',\r\n\t\t\ttitle: 'Document Types',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.REQUESTS.ROOT),\r\n\t\t\ticon: 'nc-icon nc-tag-content',\r\n\t\t\ttitle: 'Requests',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(`${routes.REQUESTS.ROOT}${routes.REQUESTS.INACTIVE}`),\r\n\t\t\ticon: 'nc-icon nc-calendar-60',\r\n\t\t\ttitle: 'Inactive Requests',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(`${routes.REQUESTS.ROOT}${routes.REQUESTS.ARCHIVED}`),\r\n\t\t\ticon: 'nc-icon nc-box-2',\r\n\t\t\ttitle: 'Archived Requests',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.USERS),\r\n\t\t\ticon: 'nc-icon nc-single-02',\r\n\t\t\ttitle: 'Users',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.CMS),\r\n\t\t\ticon: 'nc-icon nc-layout-11',\r\n\t\t\ttitle: 'Customization',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.CONTACTS),\r\n\t\t\ticon: 'nc-icon nc-single-copy-04',\r\n\t\t\ttitle: 'Contacts',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className='sidebar-wrapper bg-maroon' style={{ overflowX: 'hidden' }}>\r\n\t\t\t<ul className='nav'>\r\n\t\t\t\t{links.map((link, index) => (\r\n\t\t\t\t\t<li className={outIf(link.url === window.location.pathname, 'active')}  key={index}>\r\n\t\t\t\t\t\t<Link to={link.url}>\r\n\t\t\t\t\t\t\t<i className= {link.icon} ></i>\r\n\t\t\t\t\t\t\t<p>{link.title}</p>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { routes } from '../../routes';\r\nimport { Stats } from '../Admin/Stats';\r\nimport { Requests } from '../Shared/Requests';\r\n\r\nexport function Cashier() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={Stats} />\r\n\t\t\t<Route path={url(routes.REQUESTS.ROOT)} component={Requests} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { outIf } from '../../helpers';\r\nimport { routes } from '../../routes';\r\n\r\nexport function CashierSidebar() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst links = [\r\n\t\t{\r\n\t\t\turl: routes.DASHBOARD,\r\n\t\t\ticon: 'nc-icon nc-bank',\r\n\t\t\ttitle: 'Dashboard',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.REQUESTS.ROOT),\r\n\t\t\ticon: 'nc-icon nc-tag-content',\r\n\t\t\ttitle: 'Requests',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className='sidebar-wrapper' style={{ overflowX: 'hidden' }}>\r\n\t\t\t<ul className='nav'>\r\n\t\t\t\t{links.map((link, index) => (\r\n\t\t\t\t\t<li className={outIf(link.url === window.location.pathname, 'active')} key={index}>\r\n\t\t\t\t\t\t<Link to={link.url}>\r\n\t\t\t\t\t\t\t<i className={link.icon}></i>\r\n\t\t\t\t\t\t\t<p>{link.title}</p>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { ChangeEvent, createRef, useEffect, useState } from 'react';\r\nimport { User } from '../contracts/User';\r\nimport { handleError, outIf } from '../helpers';\r\nimport state from '../state';\r\nimport toastr from 'toastr';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport function Profile() {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [data, setData] = useState(state.get<User>('user'));\r\n\tconst [profileURL, setProfileURL] = useState(data.profilePicture?.url || 'https://via.placeholder.com/200');\r\n\tconst user = data;\r\n\r\n\tconst fileRef = createRef<HTMLInputElement>();\r\n\r\n\tconst reader = new FileReader();\r\n\r\n\tlet changingProfile = false;\r\n\r\n\treader.onload = async (e) => {\r\n\t\tif (e.target && e.target.result) {\r\n\t\t\tif (changingProfile) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tchangingProfile = true;\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await axios.put<User>('/self/profile', {\r\n\t\t\t\t\tfile: String(e.target.result),\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetProfileURL(data.profilePicture?.url || 'https://via.placeholder.com/200');\r\n\r\n\t\t\t\tstate.set('user', data);\r\n\r\n\t\t\t\ttoastr.info('Profile picture saved.', 'Info');\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\thandleError(error);\r\n\t\t\t} finally {\r\n\t\t\t\t$<HTMLFormElement>('#file-upload')[0].reset();\r\n\t\t\t\tchangingProfile = false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.put<User>(`/self`, data);\r\n\t\t\tstate.set('user', response.data);\r\n\t\t\ttoastr.info('Profile updated successfully.', 'Info');\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\t$('.main-panel').removeClass('h-100');\r\n\t\tconst key = state.listen<User>('user', (user) => {\r\n\t\t\tsetData({ ...data });\r\n\t\t});\r\n\t\treturn () => {\r\n\t\t\tstate.unlisten('user', key);\r\n\t\t};\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n\t\tconst { id, value } = e.target;\r\n\t\tsetData({\r\n\t\t\t...data,\r\n\t\t\t[id]: value,\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='row'>\r\n\t\t\t<div className='col-md-4'>\r\n\t\t\t\t<div className='card card-user w-100'>\r\n\t\t\t\t\t<div className='image'>\r\n\t\t\t\t\t\t<img src='/assets/img/damir-bosnjak.jpg' alt='...' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\thref={window.location.pathname}\r\n\t\t\t\t\t\t\t\ttitle='Change Profile Picture'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tfileRef.current?.click();\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<img className='avatar border-gray shadow-sm' src={profileURL} alt='...' />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<Link to={window.location.pathname}>\r\n\t\t\t\t\t\t\t\t<h5 className='title'>{user.name}</h5>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<p className='description'>@{user.name.split(' ').join('').toLowerCase()}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-footer'>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<div className='button-container'>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-lg-3 col-md-6 col-6 ml-auto'>\r\n\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t12\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<small>Files</small>\r\n\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-lg-4 col-md-6 col-6 ml-auto mr-auto'>\r\n\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<small>Requests</small>\r\n\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-lg-3 mr-auto'>\r\n\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t5\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<small>Logins</small>\r\n\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='col-md-8'>\r\n\t\t\t\t<div className='card card-user'>\r\n\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t<h5 className='card-title'>Edit Profile</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t<form id='file-upload' onSubmit={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t\t\t\tclassName='d-none'\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\treader.readAsDataURL(e.target.files[0]);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\taccept='image/*'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tonSubmit={async (e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tawait submit();\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='name'>Name</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\t\t\t\t\tid='name'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Name'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.name}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='email'>Email</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='phone'>Phone</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tname='phone'\r\n\t\t\t\t\t\t\t\t\t\t\tid='phone'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Phone'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.phone}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='password'>Password</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='update ml-auto mr-auto'>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-primary btn-round text-center ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '160px' }}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'Update Profile'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\n\r\nexport function Footer() {\r\n\treturn (\r\n\t\t<footer className='footer d-none' style={{ position: 'absolute', bottom: 0, width: '-webkit-fill-available' }}>\r\n\t\t\t<div className='container-fluid'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<nav className='footer-nav'>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref='/'\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tBlog\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref='/'\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tLicenses\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</nav>\r\n\t\t\t\t\t<div className='credits ml-auto'>\r\n\t\t\t\t\t\t<span className='copyright'>\r\n\t\t\t\t\t\t\t© 2020, made with <i className='fa fa-heart heart'></i> by JMM\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { sentencify } from '../../helpers';\r\nimport { routes } from '../../routes';\r\nimport state from '../../state';\r\nimport toastr from 'toastr';\r\nimport { Request } from '../../contracts/Request';\r\nimport { User } from '../../contracts/User';\r\n\r\nexport function Header() {\r\n\tconst [expiring, setExpiring] = useState<Request[]>([]);\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst fragments = match.path.split('/');\r\n\r\n\tconst title = sentencify(fragments[fragments.length - 1]);\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\tconst logout = async () => {\r\n\t\ttry {\r\n\t\t\tawait axios.post('/auth/logout');\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t} finally {\r\n\t\t\tstate.clear();\r\n\t\t\thistory.push(routes.LOGIN);\r\n\t\t\ttoastr.info('Logged out successfully.', 'Info');\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchExpiring = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Request[]>(`/requests/expiring`);\r\n\t\t\tif (user.role === 'Applicant' && data.length > 0) {\r\n\t\t\t\treturn setExpiring(Array.from(data.filter((request) => request.user_id === user.id)));\r\n\t\t\t}\r\n\t\t\tsetExpiring(Array.from(data));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handle = setInterval(() => fetchExpiring(), 5000);\r\n\t\treturn () => {\r\n\t\t\tclearInterval(handle);\r\n\t\t};\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<nav className='navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent '>\r\n\t\t\t<div className='container-fluid bg-grad'>\r\n\t\t\t\t<div className='navbar-wrapper'>\r\n\t\t\t\t\t<div className='navbar-toggle'>\r\n\t\t\t\t\t\t<button type='button' className='navbar-toggler'>\r\n\t\t\t\t\t\t\t<span className='navbar-toggler-bar bar1'></span>\r\n\t\t\t\t\t\t\t<span className='navbar-toggler-bar bar2'></span>\r\n\t\t\t\t\t\t\t<span className='navbar-toggler-bar bar3'></span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<a className='navbar-brand' href='/' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='navbar-toggler'\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tdata-toggle='collapse'\r\n\t\t\t\t\tdata-target='#navigation'\r\n\t\t\t\t\taria-controls='navigation-index'\r\n\t\t\t\t\taria-expanded='false'\r\n\t\t\t\t\taria-label='Toggle navigation'>\r\n\t\t\t\t\t<span className='navbar-toggler-bar navbar-kebab'></span>\r\n\t\t\t\t\t<span className='navbar-toggler-bar navbar-kebab'></span>\r\n\t\t\t\t\t<span className='navbar-toggler-bar navbar-kebab'></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className='collapse navbar-collapse justify-content-end' id='navigation'>\r\n\t\t\t\t\t{/* <form>\r\n\t\t\t\t\t\t<div className='input-group no-border'>\r\n\t\t\t\t\t\t\t<input type='text' className='form-control' placeholder='Search...' />\r\n\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t<div className='input-group-text'>\r\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-zoom-split'></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form> */}\r\n\t\t\t\t\t<ul className='navbar-nav'>\r\n\t\t\t\t\t\t<li className='nav-item btn-rotate dropdown'>\r\n\t\t\t\t\t\t\t<div className='dropdown-menu dropdown-menu-right p-0'>\r\n\t\t\t\t\t\t\t\t{expiring.map((request, index) => (\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tclassName='dropdown-item d-flex'\r\n\t\t\t\t\t\t\t\t\t\tto={`${routes.DASHBOARD}${routes.REQUESTS.ROOT}/${request.id}`}\r\n\t\t\t\t\t\t\t\t\t\tkey={index}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-key-25 align-self-center mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t<span className='align-self-center'>Request for user {request.user?.name} is about to expire.</span>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className='nav-item btn-rotate dropdown'>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclassName='nav-link dropdown-toggle'\r\n\t\t\t\t\t\t\t\thref='/'\r\n\t\t\t\t\t\t\t\tid='navbarDropdownMenuLink'\r\n\t\t\t\t\t\t\t\tdata-toggle='dropdown'\r\n\t\t\t\t\t\t\t\taria-expanded='false'>\r\n\t\t\t\t\t\t\t\t<i className='nc-icon nc-circle-10'></i>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<span className='d-lg-none d-md-block'>Account</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<div className='dropdown-menu dropdown-menu-right p-0' aria-labelledby='navbarDropdownMenuLink'>\r\n\t\t\t\t\t\t\t\t<Link to={url(routes.PROFILE)} className='dropdown-item d-flex'>\r\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-single-02 align-self-center mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t<span className='align-self-center'>Profile</span>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tclassName='dropdown-item d-flex'\r\n\t\t\t\t\t\t\t\t\thref={'/logout'}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tlogout();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-key-25 align-self-center mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t<span className='align-self-center'>Logout</span>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { ChangeEvent, createRef, RefObject, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { handleError, outIf } from '../../../helpers';\r\nimport toastr from 'toastr';\r\nimport { Request } from '../../../contracts/Request';\r\nimport state from '../../../state';\r\nimport { User } from '../../../contracts/User';\r\nimport { DocumentType } from '../../../contracts/DocumentType';\r\n\r\nexport function Form() {\r\n\tconst [processing, setProcessing] = useState(true);\r\n\tconst [data, setData] = useState<any>({\r\n\t\tdocument_type_id: -1,\r\n\t\tapproved: false,\r\n\t\tstatus: 'Received',\r\n\t\tuser_id: state.get<User>('user').id,\r\n\t\tcopies: 1,\r\n\t\treason: '',\r\n\t\tacknowledged_dates: JSON.stringify([]),\r\n\t});\r\n\tconst [refs, setRefs] = useState<RefObject<HTMLInputElement>[]>([]);\r\n\tconst [files, setFiles] = useState<(File | null)[]>([]);\r\n\tconst [types, setTypes] = useState<Array<DocumentType>>([]);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n\t\tconst { id, value } = e.target;\r\n\t\tsetData({\r\n\t\t\t...data,\r\n\t\t\t[id]: value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst fetchTypes = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get<Array<DocumentType>>('/document-types');\r\n\t\t\tif (response.data.length === 0) {\r\n\t\t\t\ttoastr.info('There are no available documents that you can request right now. Please try again later.', 'Notice');\r\n\t\t\t\treturn history.goBack();\r\n\t\t\t}\r\n\t\t\tsetTypes(response.data);\r\n\t\t\tsetData({ ...data, document_type_id: response.data[0].id as number });\r\n\t\t\tsetProcessing(false);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to connect to server. Please try again later.');\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchTypes();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\tconst createTask = async (title: string, request: Request) => {\r\n\t\ttry {\r\n\t\t\tawait axios.post(`/requests/tasks`, {\r\n\t\t\t\tfor: 'Received',\r\n\t\t\t\ttitle,\r\n\t\t\t\trequest_id: request.id,\r\n\t\t\t\tdone: false,\r\n\t\t\t\tname: user.name,\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async () => {\r\n\t\tif (processing) return;\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst payload = new FormData();\r\n\r\n\t\t\tfor (const key in data) {\r\n\t\t\t\tpayload.append(key, data[key]);\r\n\t\t\t}\r\n\r\n\t\t\tfiles.filter((file) => file instanceof File).forEach((file) => payload.append('files[]', file!));\r\n\r\n\t\t\tconst { data: request } = await axios.post<Request>('/requests', payload);\r\n\r\n\t\t\tif (request.documentType) {\r\n\t\t\t\tawait Promise.all(\r\n\t\t\t\t\tArray.from<string>(JSON.parse((request.documentType?.requirements as any) || '[]')).map((requirement) =>\r\n\t\t\t\t\t\tcreateTask(requirement, request)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tsetFiles([]);\r\n\t\t\ttoastr.success('Request created successfully.');\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='container text-yellow'\r\n\t\t\tonSubmit={async (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tawait submit();\r\n\t\t\t}}>\r\n\t\t\t<div className='d-flex'>\r\n\t\t\t\t<h3 className='align-self-center mb-0 text-yellow'>Create Request</h3>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tBack\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group text-yellow'>\r\n\t\t\t\t<label htmlFor='document_type_id'>Document Type</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='document_type_id'\r\n\t\t\t\t\tid='document_type_id'\r\n\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tvalue={data.document_type_id}>\r\n\t\t\t\t\t{types.map((type, index) => (\r\n\t\t\t\t\t\t<option key={index} value={type.id}>\r\n\t\t\t\t\t\t\t{type.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='copies '>Copies</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tname='copies'\r\n\t\t\t\t\tid='copies'\r\n\t\t\t\t\tplaceholder='Copies'\r\n\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tvalue={data.copies}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='reason'>Reason</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='reason'\r\n\t\t\t\t\tid='reason'\r\n\t\t\t\t\tplaceholder='Reason'\r\n\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tvalue={data.reason}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='container-fluid'>\r\n\t\t\t\t<h6>Requirements</h6>\r\n\t\t\t\t{((requirements) => {\r\n\t\t\t\t\tif (!requirements) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst data = JSON.parse(requirements as any);\r\n\t\t\t\t\t\tif (!data) {\r\n\t\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn data as string[];\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error.toJSON());\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t})(types.find((type) => Number(type.id) === Number(data.document_type_id))?.requirements || '').map(\r\n\t\t\t\t\t(requirement, index) => (\r\n\t\t\t\t\t\t<p key={index}>{requirement}</p>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t\t<h6>Forms</h6>\r\n\t\t\t\t{types\r\n\t\t\t\t\t.find((type) => Number(type.id) === Number(data.document_type_id))\r\n\t\t\t\t\t?.files?.map((file, index) => (\r\n\t\t\t\t\t\t<p key={index}>\r\n\t\t\t\t\t\t\t<a href={`${file.file?.url}&download=true`} target='_blank' rel='noreferrer'>\r\n\t\t\t\t\t\t\t\t{file.file?.name}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t))}\r\n\t\t\t\t<h6>Compliance</h6>\r\n\t\t\t\t<div className='container'>\r\n\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\trefs.push(createRef());\r\n\t\t\t\t\t\t\t\t\tsetRefs([...refs]);\r\n\t\t\t\t\t\t\t\t\tfiles.push(null);\r\n\t\t\t\t\t\t\t\t\tsetFiles([...files]);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tAdd File\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{refs.map((ref, index) => (\r\n\t\t\t\t\t\t\t<div className='col-12 col-md-4 col-lg-3 col-xl-2 p-2 border rounded' key={index}>\r\n\t\t\t\t\t\t\t\t<p>{files[index] ? files[index]?.name : ''}</p>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName={`btn ${files[index] === null ? 'btn-secondary' : 'btn-danger'} btn-sm`}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tif (files[index] === null) {\r\n\t\t\t\t\t\t\t\t\t\t\tref.current?.click();\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tfiles.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\tsetFiles([...files]);\r\n\t\t\t\t\t\t\t\t\t\t\trefs.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\tsetRefs([...refs]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t{files[index] === null ? 'Upload' : 'Remove'}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tref={ref}\r\n\t\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\t\tclassName='d-none'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tfiles.splice(index, 1, e.target.files[0]);\r\n\t\t\t\t\t\t\t\t\t\t\tsetFiles([...files]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\r\n\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Save'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { exceptMany } from '../../../helpers';\r\nimport { Table } from '../../Shared/Table';\r\nimport toastr from 'toastr';\r\nimport dayjs from 'dayjs';\r\nimport { Request } from '../../../contracts/Request';\r\nimport { TrackRequest } from '../../TrackRequest';\r\n\r\nexport function List() {\r\n\tconst [requests, setRequests] = useState<Array<Request>>([]);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst match = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst path = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst fetchRequests = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<Request>>('/self/requests');\r\n\t\t\tsetRequests(exceptMany(data, ['document_type_id', 'file_id', 'user_id', 'file', 'acknowledged_dates']));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch requests.');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchRequests();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TrackRequest />\r\n\t\t\t<Table\r\n\t\t\t\ttitle='Requests'\r\n\t\t\t\tdata={requests.map((request) => ({\r\n\t\t\t\t\t...request,\r\n\t\t\t\t\tdocumentType: request.documentType!.name,\r\n\t\t\t\t\tapproved: request.approved ? 'Yes' : 'No',\r\n\t\t\t\t\texpired: request.expired ? <span className='badge badge-red'>Yes</span> : <span className='badge badge-green'>No</span>,\r\n\t\t\t\t\tcreated_at: dayjs(request.created_at).fromNow(),\r\n\t\t\t\t\tupdated_at: dayjs(request.updated_at).fromNow(),\r\n\t\t\t\t\tacknowledged: request.acknowledged ? (\r\n\t\t\t\t\t\t<span className='badge badge-green'>Yes</span>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<span className='badge badge-red'>No</span>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tstatus: request.acknowledged ? (\r\n\t\t\t\t\t\t<span className='badge badge-green'>{request.status}</span>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<span className='badge badge-danger'>Pending</span>\r\n\t\t\t\t\t),\r\n\t\t\t\t}))}\r\n\t\t\t\tprocessing={processing}\r\n\t\t\t\tonAddClick={() => history.push(path('add'))}\r\n\t\t\t\tonViewClick={({ id }) => {\r\n\t\t\t\t\thistory.push(path(`${id}`));\r\n\t\t\t\t}}\r\n\t\t\t\tonEditClick={() => {}}\r\n\t\t\t\tonDeleteConfirm={() => {}}\r\n\t\t\t\tonRefreshClick={fetchRequests}\r\n\t\t\t\twithAction={true}\r\n\t\t\t\tpagination={true}\r\n\t\t\t\tdontShowEdit={true}\r\n\t\t\t\tdontShowDelete={true}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\r\nimport toastr from 'toastr';\r\nimport { statuses } from '../../../constants';\r\nimport { AcknowledgedDate, Request } from '../../../contracts/Request';\r\nimport { User } from '../../../contracts/User';\r\nimport { handleError } from '../../../helpers';\r\nimport state from '../../../state';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport function View() {\r\n\tconst [request, setRequest] = useState<Request | null>(null);\r\n\tconst history = useHistory();\r\n\tconst [feedback, setFeedback] = useState('');\r\n\r\n\tconst fetchRequest = async (requestID: string) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Request>(`/requests/show?id=${requestID}`);\r\n\t\t\tsetRequest(data);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\tlet deleting = false;\r\n\r\n\tconst deleteRequest = async () => {\r\n\t\tif (deleting) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdeleting = true;\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/requests?id=${request?.id}`);\r\n\t\t\ttoastr.success('Request deleted successfully.');\r\n\t\t\thistory.goBack();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tdeleting = false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst makeStatuses = (status: RequestStatus) => {\r\n\t\tconst level = ((status) => {\r\n\t\t\tswitch (status) {\r\n\t\t\t\tcase 'Received':\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase 'Payment':\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tcase 'Evaluating':\r\n\t\t\t\t\treturn 3;\r\n\t\t\t\tcase 'Evaluated':\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase 'Signed':\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase 'Releasing':\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase 'Released':\r\n\t\t\t\t\treturn 5;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t})(status);\r\n\r\n\t\treturn {\r\n\t\t\tstatuses: statuses.filter((status) => !['Released', 'Evaluated'].includes(status)),\r\n\t\t\tlevel,\r\n\t\t};\r\n\t};\r\n\r\n\tconst { params } = useRouteMatch<{ id: string }>();\r\n\tconst origin = window.location.origin;\r\n\tconst exportToPDF = async () => {\r\n\t\tconst card = $(String($('#request-card')[0].innerHTML));\r\n\r\n\t\tcard.find('button').remove();\r\n\t\tcard.find('.bi-plus-circle').remove();\r\n\t\tcard.find('i[title=\"Mark as Not Done\"]').remove();\r\n\t\tcard.find('i[title=\"Mark as Done\"]').remove();\r\n\t\tcard.find('i[title=\"Edit\"]').remove();\r\n\t\tcard.find('i[title=\"Delete\"]').remove();\r\n\r\n\t\tconst iframe = $('#iframe')[0] as HTMLIFrameElement;\r\n\t\tconst css = [\r\n\t\t\t'https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css',\r\n\t\t\t'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css',\r\n\t\t\t'https://fonts.googleapis.com/css?family=Montserrat:400,700,200',\r\n\t\t\torigin + '/assets/css/bootstrap.min.css',\r\n\t\t\torigin + '/assets/css/paper-dashboard.css',\r\n\t\t\torigin + '/assets/demo/demo.css',\r\n\t\t];\r\n\t\tconst window = iframe.contentWindow;\r\n\r\n\t\twindow?.document.open();\r\n\r\n\t\tif (window && window.document) {\r\n\t\t\twindow.document.write('<head>');\r\n\r\n\t\t\tconst parsed = await Promise.all(\r\n\t\t\t\tcss.map(async (url) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst { data } = await axios.get<string>(url);\r\n\t\t\t\t\t\treturn `<style>${data}</style>`;\r\n\t\t\t\t\t} catch (_) {\r\n\t\t\t\t\t\treturn `<link href=\"${url}\" rel=\"stylesheet\" />`;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\tconsole.log(parsed);\r\n\r\n\t\t\tparsed.forEach((css) => {\r\n\t\t\t\twindow.document.write(css);\r\n\t\t\t});\r\n\t\t\twindow.document.write('</head>');\r\n\r\n\t\t\twindow.document.write('<body>');\r\n\t\t\twindow.document.write(card.html());\r\n\t\t\twindow.document.write('</body>');\r\n\t\t\twindow.document.close();\r\n\t\t\twindow.focus();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\twindow.print();\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t};\r\n\r\n\tconst sendFeedback = async () => {\r\n\t\ttry {\r\n\t\t\tawait axios.put(`/requests?id=${request?.id}`, {\r\n\t\t\t\tevaluation: feedback,\r\n\t\t\t});\r\n\t\t\tsetRequest({\r\n\t\t\t\t...request!,\r\n\t\t\t\tevaluation: feedback,\r\n\t\t\t});\r\n\t\t\ttoastr.success('Feedback sent successfully!');\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to send feedback.');\r\n\t\t}\r\n\t};\r\n\r\n\tconst findDate = (status: string) => {\r\n\t\tconst dates = Array.from<AcknowledgedDate>(JSON.parse(request?.acknowledged_dates || '[]'));\r\n\t\treturn dates.find((date) => date.status === status);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchRequest(params.id);\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h3 className='mb-0'>View Request</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12 d-flex'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{user && user.role !== 'Applicant' ? (\r\n\t\t\t\t\t\t<Link to={`${window.location.pathname}/edit`} className='btn btn-warning btn-sm align-self-center ml-auto'>\r\n\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{user && user.role !== 'Applicant' ? (\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref={`${window.location.pathname}/delete`}\r\n\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm align-self-center ml-1'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t$('#deleteRequestModal').modal('show');\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12' id='request-card'>\r\n\t\t\t\t\t{request ? (\r\n\t\t\t\t\t\t<div className='card shadow rounded'>\r\n\t\t\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-success btn-sm`}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\texportToPDF();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-print'></i> Export to PDF\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<p className='card-title'>Requester's Name: {request.user!.name}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-title'>Date: {dayjs(request.updated_at).format('MMMM DD, YYYY hh:mm A')}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>Document Type: {request.documentType!.name}</p>\r\n\t\t\t\t\t\t\t\t{request.user?.student_id_number ? (\r\n\t\t\t\t\t\t\t\t\t<p className='card-text'>Student ID Number: {request.user.student_id_number}</p>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t<p className='card-text'>\r\n\t\t\t\t\t\t\t\t\tLast Updated By:{' '}\r\n\t\t\t\t\t\t\t\t\t{request.logs &&\r\n\t\t\t\t\t\t\t\t\trequest.logs.length > 0 &&\r\n\t\t\t\t\t\t\t\t\trequest.logs[request.logs.length - 1].user.role !== 'Applicant'\r\n\t\t\t\t\t\t\t\t\t\t? `${request.logs[request.logs.length - 1].user.name} - ${dayjs(\r\n\t\t\t\t\t\t\t\t\t\t\t\trequest.logs[request.logs.length - 1].created_at\r\n\t\t\t\t\t\t\t\t\t\t  ).format('MMMM DD, YYYY')}`\r\n\t\t\t\t\t\t\t\t\t\t: 'N/A'}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text mb-2'>Status: {request.status}</p>\r\n\t\t\t\t\t\t\t\t<ul className='list-group'>\r\n\t\t\t\t\t\t\t\t\t{(({ level, statuses }) => {\r\n\t\t\t\t\t\t\t\t\t\treturn statuses.map((status, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<li className='list-group-item' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{level !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfindDate(status) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle-fill mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : level >= index + 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-circle mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-x-circle-fill mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{status}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{findDate(status)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? `- ${dayjs(findDate(status)?.date).format('MMMM DD, YYYY hh:mm A')}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.tasks ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className='list-group mt-2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{request.tasks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter((task) => task.for === status)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((task, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='list-group-item' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.done ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle-fill mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-circle mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t));\r\n\t\t\t\t\t\t\t\t\t})(makeStatuses(request.status))}\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<div className='card w-100 mx-1 my-4 shadow rounded'>\r\n\t\t\t\t\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>History</h4>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='card-body table-responsive' style={{ overflowY: 'hidden' }}>\r\n\t\t\t\t\t\t\t\t\t\t<table className='table table-sm text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>User</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Action</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.logs!.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>No Data</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.logs!.map((log, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{log.user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{log.action}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{dayjs(log.updated_at).format('MMMM DD, YYYY hh:mm A')}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{request.evaluation !== null ? null : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<hr className='my-2' />\r\n\t\t\t\t\t\t\t\t\t\t<h6>Leave a Feedback</h6>\r\n\t\t\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\t\t\tcols={30}\r\n\t\t\t\t\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetFeedback(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={feedback}></textarea>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\tsendFeedback();\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\tSend\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{request.approved ? (\r\n\t\t\t\t\t\t\t\trequest.expired ? (\r\n\t\t\t\t\t\t\t\t\t<div className='card-footer pb-5'>\r\n\t\t\t\t\t\t\t\t\t\t<span className='btn btn-danger btn-sm font-weight-bold'>\r\n\t\t\t\t\t\t\t\t\t\t\tThis request has expired. Please request this document again.\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className='card-footer'>\r\n\t\t\t\t\t\t\t\t\t\t{request.file ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={`${request.file.url}&download=true`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-success btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\trel='noreferrer'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tDownload Document\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<span>The request is approved but there is no attached document yet.</span>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\r\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName='modal fade'\r\n\t\t\t\tid={`deleteRequestModal`}\r\n\t\t\t\ttabIndex={-1}\r\n\t\t\t\trole='dialog'\r\n\t\t\t\taria-labelledby={`deleteRequestModalLabel`}\r\n\t\t\t\taria-hidden='true'>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteRequestModalLabel`}>\r\n\t\t\t\t\t\t\t\tDelete Request\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'>Are you sure you want to delete this request?</div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t$('#deleteRequestModal').modal('hide');\r\n\t\t\t\t\t\t\t\t\tdeleteRequest();\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<iframe title='Print Page' id='iframe' className='d-none'></iframe>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { Form } from './Form';\r\nimport { List } from './List';\r\nimport { View } from './View';\r\n\r\nexport function Requests() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={List} />\r\n\t\t\t<Route path={url('/add')} component={Form} />\r\n\t\t\t<Route path={url('/:id')} component={View} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { routes } from '../../routes';\r\nimport { Requests } from './Request';\r\n\r\nexport function Applicant() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url(routes.REQUESTS.ROOT)} component={Requests} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { outIf } from '../../helpers';\r\nimport { routes } from '../../routes';\r\n\r\nexport function ApplicantSidebar() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst links = [\r\n\t\t{\r\n\t\t\turl: routes.DASHBOARD,\r\n\t\t\ticon: 'nc-icon nc-bank',\r\n\t\t\ttitle: 'Dashboard',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.REQUESTS.ROOT),\r\n\t\t\ticon: 'nc-icon nc-tag-content',\r\n\t\t\ttitle: 'Requests',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className='sidebar-wrapper' style={{ overflowX: 'hidden' }}>\r\n\t\t\t<ul className='nav'>\r\n\t\t\t\t{links.map((link, index) => (\r\n\t\t\t\t\t<li className={outIf(link.url === window.location.pathname, 'active')} key={index}>\r\n\t\t\t\t\t\t<Link to={link.url}>\r\n\t\t\t\t\t\t\t<i className={link.icon}></i>\r\n\t\t\t\t\t\t\t<p>{link.title}</p>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link, useHistory, Route, useRouteMatch } from 'react-router-dom';\r\nimport { User } from '../contracts/User';\r\nimport { orEqual } from '../helpers';\r\nimport { routes } from '../routes';\r\nimport state from '../state';\r\nimport { Admin } from './Admin';\r\nimport { AdminSidebar } from './Admin/Sidebar';\r\nimport { Cashier } from './Cashier';\r\nimport { CashierSidebar } from './Cashier/Sidebar';\r\nimport { Profile } from './Profile';\r\nimport { Footer } from './Shared/Footer';\r\nimport { Header } from './Shared/Header';\r\nimport { Applicant } from './Student';\r\nimport { ApplicantSidebar } from './Student/Sidebar';\r\n\r\nexport function Dashboard() {\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\tif ((!state.has('logged') && !state.get('logged')) || state.get('user') === undefined) {\r\n\t\thistory.push(routes.LOGIN);\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\treturn (\r\n\t\t<div className='wrapper bg-yellow'>\r\n\t\t\t<div className='sidebar bg-maroon' data-color='white' data-active-color='danger'>\r\n\t\t\t\t<div className='logo bg-maroon'>\r\n\t\t\t\t\t<Link to={routes.DASHBOARD} className='simple-text logo-mini'>\r\n\t\t\t\t\t\t<img src='/assets/manifest-icon-512.png' alt='Logo' className='rounded-circle' />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link to={routes.DASHBOARD} className='logo-normal text-warning bg-maroon'>\r\n\t\t\t\t\t\t<h5>PUPBBDMS</h5>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t{user.role === 'Admin' ? <AdminSidebar /> : null}\r\n\t\t\t\t{orEqual(user.role, ['Processing', 'Cashier', 'Evaluation', 'Signing', 'Releasing', 'Director', 'Registrar']) ? (\r\n\t\t\t\t\t<CashierSidebar />\r\n\t\t\t\t) : null}\r\n\t\t\t\t{user.role === 'Applicant' ? <ApplicantSidebar /> : null}\r\n\t\t\t</div>\r\n\t\t\t<div className='main-panel h-100 bg-yellow'>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<div className='content bg-yellow'>\r\n\t\t\t\t\t<Route path={url(routes.PROFILE)} exact component={Profile} />\r\n\t\t\t\t\t{user.role === 'Admin' ? <Admin /> : null}\r\n\t\t\t\t\t{orEqual(user.role, ['Processing', 'Cashier', 'Evaluation', 'Signing', 'Releasing', 'Director', 'Registrar']) ? (\r\n\t\t\t\t\t\t<Cashier />\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{user.role === 'Applicant' ? <Applicant /> : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { CMS } from '../../contracts/CMS';\r\n\r\ntype Props = {\r\n\tcms: Array<CMS>;\r\n};\r\n\r\nexport function AboutUs(props: Props) {\r\n\tconst find = (key: string, defaultValue: string) => {\r\n\t\tconst cms = props.cms.find((cms) => cms.key === key);\r\n\t\tif (cms) {\r\n\t\t\treturn cms.value;\r\n\t\t}\r\n\t\treturn defaultValue;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='section section-dark text-center'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<h2 className='title'>{find('about-us-title', \"Let's talk about us\")}</h2>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-md-4'>\r\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\r\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\r\n\t\t\t\t\t\t\t\t<a href='#avatar'>\r\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-1-picture', '/assets/img/prof.png')} alt='...' />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\r\n\t\t\t\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-1-name', 'Staff')}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-1-position', 'Staff Position')}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-1-description',\r\n\t\t\t\t\t\t\t\t\t\t'Description'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-4'>\r\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\r\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\r\n\t\t\t\t\t\t\t\t<a href='#avatar'>\r\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-2-picture', '/assets/img/prof.png')} alt='...' />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\r\n\t\t\t\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-2-name', 'Staff')}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-2-position', 'Staff Position')}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-2-description',\r\n\t\t\t\t\t\t\t\t\t\t'Description'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-4'>\r\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\r\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\r\n\t\t\t\t\t\t\t\t<a href='#avatar'>\r\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-3-picture', '/assets/img/prof.png')} alt='...' />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\r\n\t\t\t\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-3-name', 'Staff')}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-3-position', 'Staff Position')}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-3-description',\r\n\t\t\t\t\t\t\t\t\t\t'Descrption'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-4'>\r\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\r\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\r\n\t\t\t\t\t\t\t\t<a href='#avatar'>\r\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-4-picture', '/assets/img/prof.png')} alt='...' />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\r\n\t\t\t\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-4-name', 'Staff')}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-4-position', 'Staff Position')}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-4-description',\r\n\t\t\t\t\t\t\t\t\t\t'Description'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-4'>\r\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\r\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\r\n\t\t\t\t\t\t\t\t<a href='#avatar'>\r\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-5-picture', '/assets/img/prof.png')} alt='...' />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\r\n\t\t\t\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-5-name', 'Staff')}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-5-position', 'Staff Position')}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-5-description',\r\n\t\t\t\t\t\t\t\t\t\t'Description'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-4'>\r\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\r\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\r\n\t\t\t\t\t\t\t\t<a href='#avatar'>\r\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-6-picture', '/assets/img/prof.png')} alt='...' />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\r\n\t\t\t\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-6-name', 'Staff')}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-6-position', 'Staff Position')}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-6-description',\r\n\t\t\t\t\t\t\t\t\t\t'Description'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { FC } from 'react';\r\n\r\ntype Props = {};\r\n\r\nconst Carousel: FC<Props> = (props) => {\r\n\tconst id = Math.random().toString(36).substring(2, 15);\r\n\r\n\treturn (\r\n\t\t<div className='container mb-4'>\r\n\t\t\t<div id={id} className='carousel slide' data-ride='carousel'>\r\n\t\t\t\t<div className='carousel-inner'>\r\n\t\t\t\t\t<div className='carousel-item active'>\r\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login1.png' alt='First slide' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='carousel-item'>\r\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login2.png' alt='Second slide' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='carousel-item'>\r\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login3.png' alt='Third slide' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='carousel-item'>\r\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login4.png' alt='Fourth slide' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='carousel-item'>\r\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login5.png' alt='Fifth slide' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a className='carousel-control-prev' href={`#${id}`} role='button' data-slide='prev'>\r\n\t\t\t\t\t<span className='carousel-control-prev-icon' aria-hidden='true'></span>\r\n\t\t\t\t\t<span className='sr-only'>Previous</span>\r\n\t\t\t\t</a>\r\n\t\t\t\t<a className='carousel-control-next' href={`#${id}`} role='button' data-slide='next'>\r\n\t\t\t\t\t<span className='carousel-control-next-icon' aria-hidden='true'></span>\r\n\t\t\t\t\t<span className='sr-only'>Next</span>\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Carousel;\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { outIf } from '../../helpers';\r\nimport toastr from 'toastr';\r\n\r\nexport function ContactUs() {\r\n\tconst [data, setData] = useState({\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tmessage: '',\r\n\t});\r\n\tconst [processing, setProcessing] = useState(false);\r\n\r\n\tconst submit = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.post('/contacts', data);\r\n\t\t\tsetData({\r\n\t\t\t\tname: '',\r\n\t\t\t\temail: '',\r\n\t\t\t\tmessage: '',\r\n\t\t\t});\r\n\t\t\ttoastr.info('Message has been sent.', 'Notice');\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to send message', 'Oops!');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='section landing-section'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-md-8 ml-auto mr-auto'>\r\n\t\t\t\t\t\t<h2 className='text-center'>Keep in touch?</h2>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tclassName='contact-form'\r\n\t\t\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-md-6'>\r\n\t\t\t\t\t\t\t\t\t<label>Name</label>\r\n\t\t\t\t\t\t\t\t\t<div className='input-group'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='input-group-prepend'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='input-group-text'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-single-02'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetData({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Name'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-md-6'>\r\n\t\t\t\t\t\t\t\t\t<label>Email</label>\r\n\t\t\t\t\t\t\t\t\t<div className='input-group'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='input-group-prepend'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='input-group-text'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-email-85'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetData({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temail: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<label>Message</label>\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tclassName={`form-control ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetData({\r\n\t\t\t\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\t\t\t\tmessage: e.target.value,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\t\tplaceholder='Tell us your thoughts and feelings...'></textarea>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-md-4 ml-auto mr-auto text-center'>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-danger btn-lg btn-fill ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\t\t\t\t{processing ? 'Sending' : 'Send Message'}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12 col-md-6 offset-md-3 pt-5 text-center'>\r\n\t\t\t\t\t\t<a href='/' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t<i className='fab fa-facebook fa-2x mx-2'></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a href='/' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t<i className='fab fa-twitter fa-2x mx-2'></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a href='/' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t<i className='fab fa-youtube fa-2x mx-2'></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a href='/' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t<i className='fab fa-linkedin fa-2x mx-2'></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-12 col-md-6 offset-md-3 pt-5'>\r\n\t\t\t\t\t\t<h6>Contact Us</h6>\r\n\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t<div className='col-3'>\r\n\t\t\t\t\t\t\t\t<b>PHONE</b>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='col-9'>091234567890</div>\r\n\t\t\t\t\t\t\t<div className='col-3'>\r\n\t\t\t\t\t\t\t\t<b>EMAIL</b>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='col-9'>email@pup.com</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { CMS } from '../../contracts/CMS';\r\n\r\ntype Props = {\r\n\tcms: Array<CMS>;\r\n};\r\n\r\nexport function Description(props: Props) {\r\n\tconst find = (key: string, defaultValue: string) => {\r\n\t\tconst cms = props.cms.find((cms) => cms.key === key);\r\n\t\tif (cms) {\r\n\t\t\treturn cms.value;\r\n\t\t}\r\n\t\treturn defaultValue;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='section text-center'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-md-8 ml-auto mr-auto'>\r\n\t\t\t\t\t\t<h2 className='title'>{find('description-title', \"\")}</h2>\r\n\t\t\t\t\t\t<h5 className='description text-dark'>\r\n\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t'description-paragraph',\r\n\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className='row text-dark'>\r\n\t\t\t\t\t<div className='col-md-3'>\r\n\t\t\t\t\t\t<div className='info'>\r\n\t\t\t\t\t\t\t<div className={`icon icon-danger`}>\r\n\t\t\t\t\t\t\t\t<i className=''></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='description'>\r\n\t\t\t\t\t\t\t\t<h4 className='info-title'>{find('description-card-1-title', 'Beautiful Gallery')}</h4>\r\n\t\t\t\t\t\t\t\t<p className='description'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'description-card-1-description',\r\n\t\t\t\t\t\t\t\t\t\t\"Spend your time generating new ideas. You don't have to think of implementing.\"\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-3'>\r\n\t\t\t\t\t\t<div className='info'>\r\n\t\t\t\t\t\t\t<div className={`icon icon-danger`}>\r\n\t\t\t\t\t\t\t\t<i className=''></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='description'>\r\n\t\t\t\t\t\t\t\t<h4 className='info-title'>{find('description-card-2-title', 'New Ideas')}</h4>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'decsription-card-2-description',\r\n\t\t\t\t\t\t\t\t\t\t'Larger, yet dramatically thinner. More powerful, but remarkably power efficient.'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-3'>\r\n\t\t\t\t\t\t<div className='info'>\r\n\t\t\t\t\t\t\t<div className={`icon icon-danger`}>\r\n\t\t\t\t\t\t\t\t<i className=''></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='description'>\r\n\t\t\t\t\t\t\t\t<h4 className='info-title'>{find('description-card-3-title', 'Statistics')}</h4>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'description-card-3-description',\r\n\t\t\t\t\t\t\t\t\t\t'Choose from a veriety of many colors resembling sugar paper pastels.'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-3'>\r\n\t\t\t\t\t\t<div className='info'>\r\n\t\t\t\t\t\t\t<div className={`icon icon-danger`}>\r\n\t\t\t\t\t\t\t\t<i className=''></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='description'>\r\n\t\t\t\t\t\t\t\t<h4 className='info-title'>{find('description-card-4-title', 'Delightful design')}</h4>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'description-card-4-description',\r\n\t\t\t\t\t\t\t\t\t\t'Find unique and handmade delightful designs related items directly from our sellers'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { FC, useState } from 'react';\r\n\r\ntype Props = {\r\n\tanswer: string;\r\n};\r\n\r\nconst Item: FC<Props> = ({ answer }) => {\r\n\tconst [show, setShow] = useState(false);\r\n\r\n\treturn (\r\n\t\t<div className='card-body'>\r\n\t\t\t{show ? <p className='card-text'>{answer}</p> : null}\r\n\t\t\t<a\r\n\t\t\t\thref='/'\r\n\t\t\t\tclassName='text-info font-weight-bold'\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tsetShow(!show);\r\n\t\t\t\t}}>\r\n\t\t\t\t{show ? 'Hide' : 'Show'}\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Item;\r\n","import React from 'react';\r\nimport { CMS } from '../../contracts/CMS';\r\nimport Item from './FAQ/Item';\r\n\r\ntype Props = {\r\n\tcms: Array<CMS>;\r\n};\r\n\r\nexport function FAQs(props: Props) {\r\n\tconst find = (key: string, defaultValue: string) => {\r\n\t\tconst cms = props.cms.find((cms) => cms.key === key);\r\n\t\tif (cms) {\r\n\t\t\treturn cms.value;\r\n\t\t}\r\n\t\treturn defaultValue;\r\n\t};\r\n\r\n\tconst faqs = JSON.parse(find('faqs', JSON.stringify([]))) as Array<FAQ>;\r\n\r\n\tconst chunks: Array<Array<FAQ>> = [[]];\r\n\r\n\tfaqs.forEach((faq) => {\r\n\t\tconst last = chunks[chunks.length - 1];\r\n\t\tif (last.length < 2) {\r\n\t\t\tlast.push(faq);\r\n\t\t\tchunks.splice(chunks.length - 1, 1, last);\r\n\t\t} else {\r\n\t\t\tchunks.push([faq]);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className='section landing-section'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-md-8 mx-auto justify-content-center'>\r\n\t\t\t\t\t\t<h2 className='col-md-8 ml-auto mr-auto text-center justify-content-center'><b>FAQs</b></h2>\r\n\t\t\t\t\t\t{chunks.map((faqs, index) => (\r\n\t\t\t\t\t\t\t<div className='card-group' key={index}>\r\n\t\t\t\t\t\t\t\t{faqs.map((faq, index) => (\r\n\t\t\t\t\t\t\t\t\t<div className='card m-1 border-0 shadow rounded' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='card-header d-flex'>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className='card-title mb-0 align-self-center' style={{ color: '#000' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{faq.question}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Item answer={faq.answer} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { CMS } from '../../contracts/CMS';\r\nimport { routes } from '../../routes';\r\n\r\ntype Props = {\r\n\tcms: Array<CMS>;\r\n};\r\n\r\nexport function Header(props: Props) {\r\n\tconst history = useHistory();\r\n\tconst url = new URLSearchParams(history.location.search);\r\n\tconst isPreview = url.get('preview') === 'true';\r\n\tconst find = (key: string, defaultValue: string) => {\r\n\t\tconst cms = props.cms.find((cms) => cms.key === key);\r\n\t\tif (cms) {\r\n\t\t\treturn cms.value;\r\n\t\t}\r\n\t\treturn defaultValue;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName='page-header'\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${find('header-picture', '/assets/img/pup.jpg')})`,\r\n\t\t\t\tbackgroundPosition: '50%',\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t\tminHeight: '100vh',\r\n\t\t\t\tmaxHeight: '999px',\r\n\t\t\t\toverflow: 'hidden',\r\n\t\t\t\tposition: 'relative',\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\tzIndex: 1,\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t}}>\r\n\t\t\t<div className='filter'></div>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='text-center' style={{ color: '#fff', zIndex: 3, position: 'relative' }}>\r\n\t\t\t\t\t<h1>{find('header-title', 'Welcome to PBBDTM')}</h1>\r\n\t\t\t\t\t<h3>{find('header-description', 'PUP Bansud Branch Documents Monitoring System')}</h3>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{!isPreview ? (\r\n\t\t\t\t\t\t<Link to={routes.REGISTER} className={`btn btn-outline-neutral btn-round`}>\r\n\t\t\t\t\t\t\t<i className='fa fa-play'></i> Get Started\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<a href={routes.REGISTER} className={`btn btn-outline-neutral btn-round`} onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t<i className='fa fa-play'></i> Get Started\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Downloadable } from '../../contracts/Downloadable';\r\nimport { exceptMany } from '../../helpers';\r\nimport { routes } from '../../routes';\r\nimport state from '../../state';\r\n\r\nexport function Nav() {\r\n\tconst history = useHistory();\r\n\tconst url = new URLSearchParams(history.location.search);\r\n\tconst [downloadables, setDownloadables] = useState<Downloadable[]>([]);\r\n\r\n\tconst logged = () => {\r\n\t\treturn state.get('logged') && state.get('user');\r\n\t};\r\n\r\n\tconst isPreview = url.get('preview') === 'true';\r\n\r\n\tconst fetchDownloadables = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<Downloadable>>('/downloadables');\r\n\t\t\tsetDownloadables(exceptMany(data, ['file_id']));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t}\r\n\t};\r\n\r\n\tconst categories: string[] = [];\r\n\r\n\tdownloadables.forEach((downloadable) => {\r\n\t\tif (!categories.includes(downloadable.category!)) {\r\n\t\t\tcategories.push(downloadable.category!);\r\n\t\t}\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchDownloadables();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<nav className='navbar navbar-expand-lg fixed-top navbar-transparent border-0' color-on-scroll='300'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='navbar-translate'>\r\n\t\t\t\t\t<Link className='navbar-brand' to='/' title='PBBDTM' data-placement='bottom'>\r\n\t\t\t\t\t\tPBBDMS\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='navbar-toggler navbar-toggler'\r\n\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\tdata-toggle='collapse'\r\n\t\t\t\t\t\tdata-target='#navigation'\r\n\t\t\t\t\t\taria-controls='navigation-index'\r\n\t\t\t\t\t\taria-expanded='false'\r\n\t\t\t\t\t\taria-label='Toggle navigation'>\r\n\t\t\t\t\t\t<span className='navbar-toggler-bar bar1'></span>\r\n\t\t\t\t\t\t<span className='navbar-toggler-bar bar2'></span>\r\n\t\t\t\t\t\t<span className='navbar-toggler-bar bar3'></span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{!isPreview ? (\r\n\t\t\t\t\t<div className='collapse navbar-collapse justify-content-end' id='navigation'>\r\n\t\t\t\t\t\t<ul className='navbar-nav'>\r\n\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t<Link to={routes.TRACK_REQUEST} className='nav-link'>\r\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-bag-16 mr-1'></i>\r\n\t\t\t\t\t\t\t\t\tTrack Request\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t{!logged() ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={routes.LOGIN} className='nav-link'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-layout-11 mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={routes.REGISTER} className='nav-link'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-book-bookmark mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t<Link to={routes.DASHBOARD} className='nav-link'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-bank mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className='collapse navbar-collapse justify-content-end' id='navigation'>\r\n\t\t\t\t\t\t<ul className='navbar-nav'>\r\n\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t<a href={routes.TRACK_REQUEST} className='nav-link' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-bag-16 mr-1'></i>\r\n\t\t\t\t\t\t\t\t\tTrack Request\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t{!logged() ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t<a href={routes.LOGIN} className='nav-link' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-layout-11 mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t<a href={routes.REGISTER} className='nav-link' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-book-bookmark mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t<a href={routes.DASHBOARD} className='nav-link' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-bank mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { CMS } from '../../contracts/CMS';\r\nimport { outIf } from '../../helpers';\r\nimport { Stats } from '../Admin/Stats';\r\nimport { AboutUs } from './AboutUs';\r\nimport Carousel from './Carousel';\r\nimport { ContactUs } from './ContactUs';\r\nimport { Description } from './Description';\r\nimport { FAQs } from './FAQs';\r\nimport { Header } from './Header';\r\nimport { Nav } from './Nav';\r\n\r\nexport function Landing() {\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\tconst [cms, setCMS] = useState<Array<CMS>>([]);\r\n\r\n\tconst fetchCMS = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<CMS>>('/cms');\r\n\t\t\tsetCMS([...data]);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t} finally {\r\n\t\t\tsetLoaded(true);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchCMS();\r\n\t\t$('body').css('background-color', '#fff');\r\n\t\tconst link = $('#dashboard-styles').attr('href');\r\n\t\t// $('#dashboard-styles').remove();\r\n\t\t$('head').append(\r\n\t\t\t`<link rel=\"stylesheet\" href=\"https://demos.creative-tim.com/paper-kit-2/assets/css/paper-kit.min.css?v=2.2.0\" id=\"landing-styles\" />`\r\n\t\t);\r\n\t\t$('head').append(\r\n\t\t\t`<script src=\"https://demos.creative-tim.com/paper-kit-2/assets/js/paper-kit.min.js?v=2.2.0\" id=\"landing-script\"></script>`\r\n\t\t);\r\n\r\n\t\treturn () => {\r\n\t\t\t$('body').css('background-color', '#f4f3ef');\r\n\t\t\t$('#landing-styles').remove();\r\n\t\t\t$('#landing-script').remove();\r\n\t\t\t$('head').append(`<link rel=\"stylesheet\" href=\"${link}\" />`);\r\n\t\t};\r\n\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={`pb-5 ${outIf(!loaded, 'd-none')}`}>\r\n\t\t\t\t<Nav />\r\n\t\t\t\t<Header cms={cms} />\r\n\t\t\t\t<Description cms={cms} />\r\n\t\t\t\t<Carousel />\r\n\t\t\t\t<AboutUs cms={cms} />\r\n\t\t\t\t<ContactUs />\r\n\t\t\t\t<FAQs cms={cms} />\r\n\t\t\t\t<div className='container'>\r\n\t\t\t\t\t<h3 className='text-center mb-4'>Current Statistics</h3>\r\n\t\t\t\t\t<Stats />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{!loaded ? (\r\n\t\t\t\t<div className='h-100vh d-flex align-items-center justify-content-center'>\r\n\t\t\t\t\t<div className='container-fluid text-center'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\r\n\t\t\t\t\t\t\talt='Logo'\r\n\t\t\t\t\t\t\tclassName='img-fluid rounded-circle'\r\n\t\t\t\t\t\t\tstyle={{ height: '200px', width: '200px' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { User } from '../contracts/User';\r\nimport { handleError, outIf } from '../helpers';\r\nimport { routes } from '../routes';\r\nimport state from '../state';\r\nimport styles from '../styles/Login.module.css';\r\nimport toastr from 'toastr';\r\n\r\ntype Response = {\r\n\tuser: User;\r\n\ttoken: string;\r\n};\r\n\r\nexport function Login() {\r\n\tconst [data, setData] = useState({\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t});\r\n\tconst [processing, setProcessing] = useState(false);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tif (state.has('logged') && state.get<boolean>('logged') && state.get('user')) {\r\n\t\thistory.push(routes.DASHBOARD);\r\n\t}\r\n\r\n\tconst submit = async () => {\r\n\t\tif (data.password.length === 0) {\r\n\t\t\treturn toastr.error('Please provide a password.');\r\n\t\t}\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.post<Response>('/auth/login', data);\r\n\r\n\t\t\tconst { user, token } = response.data;\r\n\r\n\t\t\tstate.set('logged', true);\r\n\t\t\tstate.set('user', user);\r\n\t\t\tstate.set('token', token);\r\n\t\t\tconsole.log(state.getAll(), 'all');\r\n\t\t\thistory.push(routes.DASHBOARD);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\tconsole.log(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`w-100 h-100vh d-flex bg-vgrad ${styles.body}`}>\r\n\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t<div className={`card shadow ${styles.card}`}>\r\n\t\t\t\t\t<div className='card-header text-center'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\r\n\t\t\t\t\t\t\talt='Logo'\r\n\t\t\t\t\t\t\tclassName='img-fluid hw-max-75 rounded-circle clickable'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\thistory.push(routes.ROOT);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<h2 className='card-title'>\r\n\t\t\t\t\t\t\t<Link to={routes.ROOT} style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t\t\t\tPUP Bansud Branch\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<p className='card-text'>Documents Monitoring System</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\t\tplaceholder='email@dtms.com'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.email = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='password'>Password</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.password = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-sm btn-secondary ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Login'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group d-flex'>\r\n\t\t\t\t\t\t\t\t<div className='mr-auto'>\r\n\t\t\t\t\t\t\t\t\tDon't have an account?{' '}\r\n\t\t\t\t\t\t\t\t\t<Link to={routes.REGISTER} className='d-inline'>\r\n\t\t\t\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='ml-auto'>\r\n\t\t\t\t\t\t\t\t\t<Link to={routes.FORGOT_PASSWORD}>Forgot Password</Link>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { User } from '../contracts/User';\r\nimport { handleError, makeMask, outIf } from '../helpers';\r\nimport { routes } from '../routes';\r\nimport state from '../state';\r\nimport styles from '../styles/Login.module.css';\r\nimport toastr from 'toastr';\r\nimport InputMask from 'react-input-mask';\r\n\r\ntype Response = {\r\n\tuser: User;\r\n\ttoken: string;\r\n};\r\n\r\nexport function Register() {\r\n\tconst [data, _setData] = useState({\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tphone: '09',\r\n\t\tpassword: '',\r\n\t\tpassword_confirmation: '',\r\n\t\ttype: 'Client',\r\n\t\tstudent_id_number: '',\r\n\t});\r\n\tconst [processing, setProcessing] = useState(false);\r\n\r\n\tconst setData = makeMask(_setData, (data: any) => ({ ...data }));\r\n\r\n\tconst history = useHistory();\r\n\r\n\tif (state.has('logged') && state.get<boolean>('logged')) {\r\n\t\thistory.push(routes.DASHBOARD);\r\n\t}\r\n\r\n\tconst submit = async () => {\r\n\t\tif (data.name.length === 0) {\r\n\t\t\treturn toastr.error('Please provide a name.');\r\n\t\t}\r\n\r\n\t\tif (data.password.length === 0) {\r\n\t\t\treturn toastr.error('Please provide a password.');\r\n\t\t}\r\n\r\n\t\tif (data.password !== data.password_confirmation) {\r\n\t\t\treturn toastr.error('Password and Confirm Password does not match.', 'Oops!');\r\n\t\t}\r\n\r\n\t\tif (data.type === 'Student') {\r\n\t\t\tif (!/\\d{4}-\\d{5}-[A-Z]{2}-\\d{1}/g.test(data.student_id_number)) {\r\n\t\t\t\treturn toastr.error('Student ID Number is not in correct format.');\r\n\t\t\t}\r\n\t\t\tconst year = data.student_id_number.split('-')[0];\r\n\t\t\tif (Number(year) >= new Date().getUTCFullYear()) {\r\n\t\t\t\treturn toastr.error('Student ID Number is invalid.');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.post<Response>('/auth/register', data);\r\n\r\n\t\t\tconst { user, token } = response.data;\r\n\r\n\t\t\tstate.set('logged', true);\r\n\t\t\tstate.set('user', user);\r\n\t\t\tstate.set('token', token);\r\n\t\t\thistory.push(routes.DASHBOARD);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\tconsole.log(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`w-100 h-100vh d-flex ${styles.body}`}>\r\n\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t<div className={`card shadow ${styles.card}`}>\r\n\t\t\t\t\t<div className='card-header text-center'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\r\n\t\t\t\t\t\t\talt='Logo'\r\n\t\t\t\t\t\t\tclassName='img-fluid hw-max-75 rounded-circle clickable'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\thistory.push(routes.ROOT);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<h2 className='card-title'>\r\n\t\t\t\t\t\t\t<Link to={routes.ROOT} style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t\t\t\tPBBDTM\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<p className='card-text'>🍀 New here? Please fill in the required information.</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='name'>Name</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\t\t\tid='name'\r\n\t\t\t\t\t\t\t\t\tplaceholder='John Smith'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.name}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.name = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\t\tplaceholder='email@dtms.com'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.email = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='phone'>Phone</label>\r\n\t\t\t\t\t\t\t\t<InputMask\r\n\t\t\t\t\t\t\t\t\tmask='0\\9999999999'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tname='phone'\r\n\t\t\t\t\t\t\t\t\tid='phone'\r\n\t\t\t\t\t\t\t\t\tplaceholder='639123456789'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.phone}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.phone = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='password'>Password</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.password = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='password_confirmation'>Confirm Password</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\tname='password_confirmation'\r\n\t\t\t\t\t\t\t\t\tid='password_confirmation'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.password_confirmation}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.password_confirmation = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='Type'>Type</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tname='type'\r\n\t\t\t\t\t\t\t\t\tid='type'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.type}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.type = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option value='Client'>Client</option>\r\n\t\t\t\t\t\t\t\t\t<option value='Student'>Student</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{data.type === 'Student' ? (\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor='student_id_number'>Student ID Number:</label>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname='student_id_number'\r\n\t\t\t\t\t\t\t\t\t\tid='student_id_number'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Student ID Number'\r\n\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\tvalue={data.student_id_number}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tdata.student_id_number = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<small className='form-text text-muted'>Ex: 2020-00001-BS-0</small>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-sm btn-secondary ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Register'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\tAlready have an account?{' '}\r\n\t\t\t\t\t\t\t\t<Link to={routes.LOGIN} className='d-inline'>\r\n\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { FC, useEffect } from 'react';\r\nimport { TrackRequest } from '../TrackRequest';\r\nimport { Nav } from './Nav';\r\n\r\ntype Props = {};\r\n\r\nconst Track: FC<Props> = (props) => {\r\n\tuseEffect(() => {\r\n\t\t$('body').css('background-color', '#fff');\r\n\t\tconst link = $('#dashboard-styles').attr('href');\r\n\t\t$('#dashboard-styles').remove();\r\n\t\t$('head').append(\r\n\t\t\t`<link rel=\"stylesheet\" href=\"https://demos.creative-tim.com/paper-kit-2/assets/css/paper-kit.min.css?v=2.2.0\" id=\"landing-styles\" />`\r\n\t\t);\r\n\t\t$('head').append(\r\n\t\t\t`<script src=\"https://demos.creative-tim.com/paper-kit-2/assets/js/paper-kit.min.js?v=2.2.0\" id=\"landing-script\"></script>`\r\n\t\t);\r\n\r\n\t\treturn () => {\r\n\t\t\t$('body').css('background-color', '#f4f3ef');\r\n\t\t\t$('#landing-styles').remove();\r\n\t\t\t$('#landing-script').remove();\r\n\t\t\t$('head').append(`<link rel=\"stylesheet\" href=\"${link}\" />`);\r\n\t\t};\r\n\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='pb-5'>\r\n\t\t\t<Nav />\r\n\t\t\t<div\r\n\t\t\t\tclassName='page-header'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackgroundImage: 'url(/assets/img/pup.jpg)',\r\n\t\t\t\t\tbackgroundPosition: '50%',\r\n\t\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t\t\tminHeight: '100vh',\r\n\t\t\t\t\tmaxHeight: '999px',\r\n\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tzIndex: 1,\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t}}>\r\n\t\t\t\t<div className='filter'></div>\r\n\t\t\t\t<div className='container d-flex'>\r\n\t\t\t\t\t<TrackRequest className='d-inline mx-auto' />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Track;\r\n","import axios from 'axios';\r\nimport React, { FC, useState } from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { handleError, outIf } from '../helpers';\r\nimport { routes } from '../routes';\r\nimport state from '../state';\r\nimport styles from '../styles/Login.module.css';\r\nimport toastr from 'toastr';\r\n\r\ntype Props = {};\r\n\r\nconst ForgotPassword: FC<Props> = (props) => {\r\n\tconst [data, setData] = useState({\r\n\t\temail: '',\r\n\t});\r\n\tconst [processing, setProcessing] = useState(false);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tif (state.has('logged') && state.get<boolean>('logged') && state.get('user')) {\r\n\t\thistory.push(routes.DASHBOARD);\r\n\t}\r\n\r\n\tconst submit = async () => {\r\n\t\tif (data.email.length === 0) {\r\n\t\t\treturn toastr.error('Please provide a email.');\r\n\t\t}\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.post('/auth/forgot-password', data);\r\n\t\t\ttoastr.success('Email sent successfully. Please check your inbox.');\r\n\t\t\thistory.push(routes.ROOT);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\tconsole.log(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`w-100 h-100vh d-flex bg-vgrad ${styles.body}`}>\r\n\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t<div className={`card shadow ${styles.card}`}>\r\n\t\t\t\t\t<div className='card-header text-center'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\r\n\t\t\t\t\t\t\talt='Logo'\r\n\t\t\t\t\t\t\tclassName='img-fluid hw-max-75 rounded-circle clickable'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\thistory.push(routes.ROOT);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<h2 className='card-title'>\r\n\t\t\t\t\t\t\t<Link to={routes.ROOT} style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t\t\t\tPUP Bansud Branch\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<p className='card-text'>Documents Monitoring System</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\t\tplaceholder='email@dtms.com'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.email = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-sm btn-secondary ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Submit'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ForgotPassword;\r\n","import axios from 'axios';\r\nimport React, { FC, useState } from 'react';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\nimport { handleError, outIf } from '../helpers';\r\nimport { routes } from '../routes';\r\nimport state from '../state';\r\nimport styles from '../styles/Login.module.css';\r\nimport toastr from 'toastr';\r\n\r\ntype Props = {};\r\n\r\nconst ResetPassword: FC<Props> = (props) => {\r\n\tconst [data, setData] = useState({\r\n\t\tpassword: '',\r\n\t\ttoken: useParams<{ token: string }>().token,\r\n\t});\r\n\tconst [processing, setProcessing] = useState(false);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tif (state.has('logged') && state.get<boolean>('logged') && state.get('user')) {\r\n\t\thistory.push(routes.DASHBOARD);\r\n\t}\r\n\r\n\tconst submit = async () => {\r\n\t\tif (data.password.length === 0) {\r\n\t\t\treturn toastr.error('Please provide a password.');\r\n\t\t}\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.post('/auth/reset-password', data);\r\n\t\t\ttoastr.success('Password changed successfully.');\r\n\t\t\thistory.push(routes.LOGIN);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\tconsole.log(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`w-100 h-100vh d-flex bg-vgrad ${styles.body}`}>\r\n\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t<div className={`card shadow ${styles.card}`}>\r\n\t\t\t\t\t<div className='card-header text-center'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\r\n\t\t\t\t\t\t\talt='Logo'\r\n\t\t\t\t\t\t\tclassName='img-fluid hw-max-75 rounded-circle clickable'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\thistory.push(routes.ROOT);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<h2 className='card-title'>\r\n\t\t\t\t\t\t\t<Link to={routes.ROOT} style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t\t\t\tPUP Bansud Branch\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<p className='card-text'>Documents Monitoring System</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='email'>New Password</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\t\tplaceholder='New Password'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.password = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-sm btn-secondary ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Submit'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ResetPassword;\r\n","import React, { useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport './App.css';\r\nimport { Dashboard } from './components/Dashboard';\r\nimport { Landing } from './components/Landing';\r\nimport { Login } from './components/Login';\r\nimport { Register } from './components/Register';\r\nimport { routes } from './routes';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport axios from 'axios';\r\nimport { User } from './contracts/User';\r\nimport state from './state';\r\nimport Track from './components/Landing/Track';\r\nimport { View } from './components/Student/Request/View';\r\nimport ForgotPassword from './components/ForgotPassword';\r\nimport ResetPassword from './components/ResetPassword';\r\n\r\nexport default function App() {\r\n\tconst verifyUser = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<User>('/self');\r\n\t\t\tstate.set('logged', true);\r\n\t\t\tstate.set('user', data);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\tstate.remove('user').set('logged', false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tverifyUser();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path={routes.ROOT} exact component={Landing} />\r\n\t\t\t\t<Route path={routes.LOGIN} component={Login} />\r\n\t\t\t\t<Route path={routes.REGISTER} component={Register} />\r\n\t\t\t\t<Route path={routes.DASHBOARD} component={Dashboard} />\r\n\t\t\t\t<Route path={routes.TRACK_REQUEST} exact component={Track} />\r\n\t\t\t\t<Route path={`${routes.TRACK_REQUEST}/:id`} component={View} />\r\n\t\t\t\t<Route path={routes.FORGOT_PASSWORD} component={ForgotPassword} />\r\n\t\t\t\t<Route path={`${routes.RESET_PASSWORD}/:token`} component={ResetPassword} />\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t);\r\n}\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","// eslint-disable-next-line\r\nError.prototype.toJSON = function () {\r\n\tconst alt = {} as any;\r\n\r\n\tconst _this = this as any;\r\n\tObject.getOwnPropertyNames(_this).forEach(function (key) {\r\n\t\talt[key] = _this[key];\r\n\t}, _this);\r\n\r\n\tif ('stack' in alt) {\r\n\t\talt.stack = alt.stack\r\n\t\t\t.split(/\\r?\\n/)\r\n\t\t\t.map((string: string) => string.trim())\r\n\t\t\t.filter((_: any, i: number) => i !== 0);\r\n\t}\r\n\r\n\treturn alt;\r\n};\r\n\r\n// eslint-disable-next-line\r\nString.prototype.parseNumbers = function () {\r\n\tconst parts = this.split('.');\r\n\tif (parts.length > 1) {\r\n\t\tconst whole = (parts[0].match(/\\d/g) || []).join('');\r\n\t\tconst decimals = (parts[1].match(/\\d/g) || []).join('');\r\n\t\treturn Number(`${whole}.${decimals}`) || 0;\r\n\t}\r\n\tconst match = this.match(/\\d/g);\r\n\tif (!match) {\r\n\t\treturn 0;\r\n\t}\r\n\treturn Number(match.join('')) || 0;\r\n};\r\n\r\nexport {};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'toastr/build/toastr.css';\r\nimport axios from 'axios';\r\nimport state from './state';\r\nimport './shims';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_BACKEND_URL;\r\naxios.defaults.headers.common['Accept'] = 'application/json';\r\n\r\nif (state.has('token')) {\r\n\taxios.defaults.headers.common['Authorization'] = `Bearer ${state.get('token')}`;\r\n}\r\n\r\nstate.listen<string>('token', (token) => {\r\n\taxios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n});\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}