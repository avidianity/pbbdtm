(this.webpackJsonpjeff=this.webpackJsonpjeff||[]).push([[0],{21:function(e,t,a){e.exports={card:"Login_card__1aHd1",body:"Login_body__2QrV6"}},51:function(e,t,a){},53:function(e,t,a){},80:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a.n(n),r=a(42),i=a.n(r),l=(a(51),a(2)),o=a.n(l),d=a(4),u=a(8),j=a(10),b=(a(53),a(12)),m=a(27),h=a(7),p=a(6),f=a.n(p),x=a(24),O=a.n(x),v=a(9),g=a.n(v),N=a(18),w=a.n(N);function y(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e?t:a}function k(e){return e.split(" ").map((function(e){return"Id"===e?"ID":function(e){var t=e.split("");return t[0]=t[0].toUpperCase(),t.join("")}(e)})).join(" ")}function C(e){if(e.response){var t=e.response;t.data.message&&422!==t.status?f.a.error(t.data.message):422===t.status?t.data.errors.map((function(e){var t=e.param,a=e.msg;return a.split(" ")[0].trim().toLowerCase()!==t.trim().toLowerCase()&&a.includes("required")?"".concat(D(t)," ").concat(a):a})).forEach((function(e){return f.a.error(e)})):f.a.error("Something went wrong, please try again later.","Oops!")}else e.message&&f.a.error(e.message)}function S(e){return 0===e.length?[]:Object.keys(e[0]).map((function(e){switch(e){case"id":return"ID";case"createdAt":return"Created";case"updatedAt":return"Modified";case"created_at":return"Created";case"updated_at":return"Modified";default:return D(e)}}))}function D(e){return k(O.a.snakeCase(e).split("_").join(" "))}function A(e,t){return Object(b.a)(e).map((function(e){return function(e,t){var a,c=Object(h.a)({},e),n=Object(m.a)(t);try{for(n.s();!(a=n.n()).done;){var s=a.value;s in c&&delete c[s]}}catch(r){n.e(r)}finally{n.f()}return c}(e,t)}))}function R(e,t){return t.includes(e)}g.a.extend(w.a);new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"});var P="/",q="/login",_="/register",E="/dashboard",M="/document-types",B="/users",U="/requests",F="/profile",L="/downloadables",T="/content-management",J="/contacts",I=a(43),V=a(44),Y=function(){function e(t){Object(I.a)(this,e),this.storage=void 0,this.key="pbbdtm-state-key",this.listeners={},this.storage=window.localStorage,t&&(this.key=t);var a=this.getAll();this.setAll(a)}return Object(V.a)(e,[{key:"clear",value:function(){return this.setAll({})}},{key:"getAll",value:function(){try{var e=this.storage.getItem(this.key);return e?JSON.parse(e):{}}catch(t){return{}}}},{key:"setAll",value:function(e){return this.storage.setItem(this.key,JSON.stringify(e)),this}},{key:"has",value:function(e){return e in this.getAll()}},{key:"get",value:function(e){return this.getAll()[e]}},{key:"set",value:function(e,t){var a=this.getAll();return a[e]=t,this.dispatch(e,t),this.setAll(a)}},{key:"remove",value:function(e){if(this.has(e)){var t=this.getAll();delete t[e],this.setAll(t)}return this}},{key:"dispatch",value:function(e,t){var a=this;return e in this.listeners&&this.listeners[e].forEach((function(e){return e(t,a)})),this}},{key:"listen",value:function(e,t){return e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)-1}},{key:"unlisten",value:function(e,t){e in this.listeners&&this.listeners[e].splice(t,1)}}]),e}(),W=new Y,H=a(16),Q=a(3),z=a(5),X=a.n(z),G=["Received","Processing","Waiting Payment","Paid","Evaluated","Signed","Releasing","Released","Rejected"];function K(){var e=Object(n.useState)(!1),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=W.get("user"),i=Object(n.useState)({document_type_id:-1,approved:!1,status:"Received",user_id:r.id,file_id:null,user:{name:"Applicant"===r.role?r.name:"N\\A"},documentType:{name:"N\\A"},file:null}),l=Object(Q.a)(i,2),u=l[0],b=l[1],m=new FileReader,p=Object(n.createRef)();m.onload=function(e){e.target&&e.target.result&&b(Object(h.a)(Object(h.a)({},u),{},{file:String(e.target.result)}))};var x=Object(j.f)(),O=Object(j.g)(),v=O.params,g=O.path,N=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=v.id,e.prev=1,e.next=4,X.a.get("/requests/show?id=".concat(t));case 4:a=e.sent,b(Object(h.a)(Object(h.a)({},a.data),{},{file:null})),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.toJSON()),f.a.error("Unable to fetch request."),x.goBack();case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){g.includes("edit")&&N()}),[]);var w=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:return s(!0),e.prev=3,e.next=6,X.a.put("/requests",u);case 6:f.a.success("Request updated successfully."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),C(e.t0);case 12:return e.prev=12,s(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),k=function(){switch(r.role){case"Admin":return["Received","Processing","Waiting Payment","Paid","Evaluated","Signed","Releasing","Released","Rejected"];case"Processing":return["Processing","Waiting Payment"];case"Cashier":return["Waiting Payment","Paid"];case"Evaluation":return["Paid","Evaluated","Rejected"];case"Signing":return["Evaluated","Signed"];case"Releasing":return["Signed","Released"];case"Applicant":return[]}}();return Object(c.jsxs)("form",{className:"container",onSubmit:function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,w();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("h3",{className:"align-self-center mb-0",children:"Update Request"}),Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center ml-auto",onClick:function(e){e.preventDefault(),x.goBack()},children:"Back"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"document_type_id",children:"Document Type"}),Object(c.jsx)("select",{name:"document_type_id",id:"document_type_id",className:"form-control form-control-sm",disabled:"Applicant"!==r.role,children:Object(c.jsx)("option",{value:u.documentType.name,children:u.documentType.name})})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"user_id",children:"User"}),Object(c.jsx)("select",{name:"user_id",id:"user_id",placeholder:"User",className:"form-control form-control-sm",disabled:"Applicant"!==r.role,children:Object(c.jsx)("option",{value:u.user.name,children:u.user.name})})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"status",children:"Status"}),Object(c.jsx)("select",{name:"status",id:"status",placeholder:"Status",className:"form-control form-control-sm ".concat(y(a,"disabled")),disabled:a,onChange:function(e){var t=e.target,a=t.id,c=t.value;b(Object(h.a)(Object(h.a)({},u),{},Object(H.a)({},a,c)))},value:u.status,children:G.filter((function(e){return k.includes(e)})).map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)}))})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"approved",children:"Approved"}),Object(c.jsxs)("select",{name:"approved",id:"approved",placeholder:"Approved",className:"form-control form-control-sm ".concat(y(a,"disabled")),disabled:a||"Admin"!==r.role&&"Releasing"!==r.role,value:u.approved?"Yes":"No",onChange:function(e){"Admin"!==r.role&&"Releasing"!==r.role||("Yes"===e.target.value?b(Object(h.a)(Object(h.a)({},u),{},{approved:!0})):b(Object(h.a)(Object(h.a)({},u),{},{approved:!1})))},children:[Object(c.jsx)("option",{value:"Yes",children:"Yes"}),Object(c.jsx)("option",{value:"No",children:"No"})]})]}),u.approved?Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("button",{className:"btn btn-warning btn-sm ".concat(y(a||null!==u.file,"disabled")),disabled:a||null!==u.file,onClick:function(e){var t;e.preventDefault(),null===(t=p.current)||void 0===t||t.click()},children:null!==u.file?"File Uploaded":"Upload File (if applicable)"}),Object(c.jsx)("input",{type:"file",id:"file",name:"file",placeholder:"File",className:"form-control form-control-sm d-none",disabled:a||"Admin"!==r.role&&"Releasing"!==r.role||null!==u.file,onChange:function(e){("Admin"===r.role||"Releasing"===r.role)&&e.target.files&&e.target.files.length>0&&m.readAsDataURL(e.target.files[0])},ref:p})]}):null,Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm ".concat(y(a,"disabled")),disabled:a,children:a?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Save"})})]})}var Z=a(30),ee=a.n(Z);function te(e){var t=e.url,a=e.current,n=e.total,s=e.limit,r=e.onChange,i=Math.ceil(n/s),l=a-1,o=a+1,d="".concat(t,"?page=").concat(l),u="".concat(t,"?page=").concat(o),j=l>=1,b=o<=i;return Object(c.jsx)("nav",{"aria-label":"...",children:Object(c.jsxs)("ul",{className:"pagination justify-content-end mb-0",children:[Object(c.jsx)("li",{className:"page-item ".concat(j?"":"disabled"),children:Object(c.jsxs)("a",{className:"page-link",href:d,tabIndex:-1,onClick:function(e){e.preventDefault(),j&&r(l)},children:[Object(c.jsx)("i",{className:"fas fa-angle-left"}),Object(c.jsx)("span",{className:"sr-only",children:"Previous"})]})}),function(){for(var e=[],n=function(n){var s;e.push(Object(c.jsx)("li",{className:"page-item ".concat(n===a?"active":""),children:Object(c.jsxs)("a",{className:"page-link",href:(s=n,"".concat(t,"?page=").concat(s)),tabIndex:-1,onClick:function(e){e.preventDefault(),r(n)},children:[n," ",n===a?Object(c.jsx)("span",{className:"sr-only",children:"(current)"}):null]})},n))},s=1;s<=i;s++)n(s);return e}(),Object(c.jsx)("li",{className:"page-item ".concat(b?"":"disabled"),children:Object(c.jsxs)("a",{className:"page-link",href:u,tabIndex:-1,onClick:function(e){e.preventDefault(),b&&r(o)},children:[Object(c.jsx)("i",{className:"fas fa-angle-right"}),Object(c.jsx)("span",{className:"sr-only",children:"Next"})]})})]})})}function ae(e){var t=e.title,a=(e.theme,e.columns),s=e.data,r=e.onViewClick,i=e.onEditClick,l=e.onDeleteConfirm,o=e.onRefreshClick,d=e.processing,u=e.onAddClick,b=e.withAction,m=e.pagination,h=e.border,p=e.dontShowView,f=e.dontShowEdit,x=e.dontShowDelete,v=e.disableAddButton,N=a||S(s),w=Object(j.g)(),k=new Y(O.a.kebabCase(t.toLowerCase()+"-table")),C=s.length,A=k.has("page")?k.get("page"):1,R=Object(n.useState)(k.has("perPage")?k.get("perPage"):10),P=Object(Q.a)(R,2),q=P[0],_=P[1];A>Math.ceil(C/q)&&k.has("page")&&k.set("page",1);var E=Object(n.useState)(A<=Math.ceil(C/q)?A:1),M=Object(Q.a)(E,2),B=M[0],U=M[1],F=k.listen("page",(function(e){return U(e)})),L=Object(n.useState)(q),T=Object(Q.a)(L,2),J=T[0],I=T[1],V=Object(n.useState)(!1),W=Object(Q.a)(V,2),H=W[0],z=W[1],X=k.listen("perPage",(function(e){B>Math.ceil(C/e)&&k.set("page",1),_(e)}));Object(n.useEffect)((function(){return function(){k.unlisten("page",F),k.unlisten("perPage",X)}}),[]);for(var G=(B-1)*q,K=[],Z=G;Z<G+q;Z++)"undefined"!==typeof s[Z]&&K.push(s[Z]);var ae=m?K:s;return Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-12",children:Object(c.jsxs)("div",{className:"card ".concat(h?"border":""," w-100"),children:[Object(c.jsxs)("div",{className:"card-header border-0",children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("h3",{className:"mb-0 align-self-center",children:t}),Object(c.jsxs)("div",{className:"ml-auto align-self-center d-flex",children:[!b||void 0!==v&&!1!==v?null:Object(c.jsx)("i",{className:"fas fa-plus clickable d-block align-self-center m-1 text-warning",onClick:function(){return u()}}),b?Object(c.jsx)("i",{className:"fas fa-redo-alt clickable d-block align-self-center m-1 text-info ".concat(d?"fa-spin":""),onClick:function(){return o()}}):null]})]}),m?Object(c.jsxs)("div",{className:"mt-4",children:[Object(c.jsx)("div",{className:"py-2",children:Object(c.jsxs)("button",{className:"btn btn-".concat(H?"danger":"primary"," btn-sm"),onClick:function(e){e.preventDefault(),z(!H)},children:[H?"Hide":"Show"," Options"]})}),H?Object(c.jsxs)("form",{className:"form-inline",onSubmit:function(e){e.preventDefault(),k.set("perPage",J>=1?J:10)},children:[Object(c.jsxs)("div",{className:"form-group p-1",children:[Object(c.jsx)("label",{htmlFor:"perPage",className:"mr-2",children:"Rows per Page:"}),Object(c.jsx)("input",{type:"number",name:"perPage",id:"perPage",placeholder:"Per Page",value:J,onChange:function(e){return I(Number(e.target.value))},className:"form-control form-control-sm"})]}),Object(c.jsx)("div",{className:"form-group p-1",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-warning btn-sm",children:"Change"})})]}):null]}):null]}),d?Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("div",{className:"text-center",children:Object(c.jsx)("i",{className:"fas fa-circle-notch fa-spin fa-2x"})})}):Object(c.jsx)("div",{className:"card-body",children:ae.length>0?Object(c.jsxs)("div",{className:"table-responsive",style:{overflowY:"hidden"},children:[Object(c.jsxs)("table",{className:"table table-sm",children:[Object(c.jsx)("thead",{className:"text-primary",children:Object(c.jsxs)("tr",{children:[N.map((function(e,t){return Object(c.jsx)("th",{className:"sort text-center","data-sort":e.toLowerCase(),scope:"col",children:e},t)})),b?Object(c.jsx)("th",{scope:"col",className:"text-center",children:"Actions"}):null]})}),Object(c.jsx)("tbody",{children:ae.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object.entries(e).map((function(e,t){var a,n=Object(Q.a)(e,2),s=n[0],r=n[1];return Object(c.jsx)("td",{className:"text-center",children:"updatedAt"===s||"createdAt"===s?(a=r,g()(a).fromNow()):r},t)})),b?Object(c.jsx)("td",{className:"text-center",children:Object(c.jsxs)("div",{className:"dropdown",children:[Object(c.jsx)("button",{className:"btn btn-sm btn-icon-only text-light","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(c.jsx)("i",{className:"fas fa-ellipsis-v"})}),Object(c.jsxs)("div",{className:"dropdown-menu dropdown-menu-right dropdown-menu-arrow",children:[y(void 0===p||!1===p,Object(c.jsxs)("button",{className:"dropdown-item",onClick:function(){return r(e)},children:[Object(c.jsx)("i",{className:"ni ni-active-40 text-info"}),"View"]})),y(void 0===f||!1===f,Object(c.jsxs)("button",{className:"dropdown-item",onClick:function(){return i(e)},children:[Object(c.jsx)("i",{className:"ni ni-ruler-pencil text-warning"}),"Edit"]})),y(void 0===x||!1===x,Object(c.jsxs)("button",{type:"button","data-toggle":"modal","data-target":"#deleteModal".concat(t),className:"dropdown-item",children:[Object(c.jsx)("i",{className:"ni ni-fat-delete text-danger"}),"Delete"]}))]})]})}):null]},t)}))}),ae.length>=10?Object(c.jsx)("thead",{className:"text-primary",children:Object(c.jsxs)("tr",{children:[N.map((function(e,t){return Object(c.jsx)("th",{className:"sort text-center","data-sort":e.toLowerCase(),scope:"col",children:e},t)})),b?Object(c.jsx)("th",{scope:"col",className:"text-center",children:"Actions"}):null]})}):null]}),b?ae.map((function(e,a){return Object(c.jsx)("div",{className:"modal fade",id:"deleteModal".concat(a),tabIndex:-1,role:"dialog","aria-labelledby":"deleteModalLabel".concat(a),"aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsxs)("h5",{className:"modal-title",id:"deleteModalLabel".concat(a),children:["Delete ",ee.a.singular(t)]}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsxs)("div",{className:"modal-body",children:["Are you sure you want to delete this ",ee.a.singular(D(t)),"?"]}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(t){t.preventDefault();var c=$("#deleteModal".concat(a));c.on("hidden.bs.modal",(function(){return l(e)})),c.modal("hide")},children:"Confirm"}),Object(c.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",children:"Cancel"})]})]})})},a)})):null]}):Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("h3",{className:"text-center",children:"No Data"})})}),m?Object(c.jsx)("div",{className:"card-footer py-4",children:ae.length>0&&Math.ceil(C/q)>1?Object(c.jsx)(te,{url:w.path,current:B,total:C,limit:q,onChange:function(e){k.set("page",e)}}):null}):null]})})})}function ce(){var e=Object(n.useState)(!1),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(""),i=Object(Q.a)(r,2),l=i[0],u=i[1],b=Object(j.f)(),m=W.get("user"),h=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,e.next=4,X.a.get("/requests");case 4:if(t=e.sent,a=t.data,(c=a.find((function(e){return e.request_id.includes(l)||e.request_id===l})))&&("Applicant"!==m.role||c.user_id===m.id)){e.next=9;break}return e.abrupt("return",f.a.info("Request ID is invalid.","Notice"));case 9:b.push("/dashboard/requests/".concat(c.id)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.toJSON()),f.a.error("Unable to verify request ID.","Oops!");case 16:return e.prev=16,s(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"card shadow",children:Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)("form",{className:"form-inline",onSubmit:function(e){e.preventDefault(),h()},children:[Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"text",placeholder:"Request ID",className:"form-control form-control-sm ".concat(y(a,"disabled")),disabled:a,value:l,onChange:function(e){u(e.target.value)}})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-warning ".concat(y(a,"disabled")),disabled:a,children:a?"Processing":"Track Request"})})]})})})}function ne(){var e=Object(n.useState)([]),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(Q.a)(r,2),l=i[0],u=i[1],b=Object(j.g)(),m=Object(j.f)(),p=function(e){return"".concat(b.path).concat(e)},x=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,X.a.get("/requests");case 4:t=e.sent,a=t.data,s(A(a,["file","file_id","user_id","document_type_id"])),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),f.a.error("Unable to fetch requests.");case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,X.a.delete("/requests?id=".concat(t));case 4:return f.a.success("Request deleted successfully."),e.next=7,x();case 7:e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),C(e.t0),u(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),v=W.get("user"),N=function(e){return function(e){switch(e.status){case"Received":return"Admin"===v.role;case"Processing":return"Processing"===v.role;case"Waiting Payment":return"Cashier"===v.role;case"Paid":return"Evaluation"===v.role;case"Evaluated":return"Signing"===v.role;case"Signed":return"Releasing"===v.role;default:return!1}}(e)?e.acknowledged?Object(c.jsx)("button",{className:"btn btn-warning btn-sm disabled",disabled:!0,children:"Done"}):Object(c.jsx)("button",{className:"btn btn-info btn-sm",onClick:function(){var t=Object(d.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),a.currentTarget.setAttribute("disabled","true"),a.currentTarget.classList.add("disabled"),a.currentTarget.textContent="Acknowledging...",t.prev=4,t.next=7,X.a.put("/requests?id=".concat(e.id),{acknowledged:!0});case 7:return f.a.info("Request acknowledged.","Notice"),t.next=10,x();case 10:t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),console.log(t.t0.toJSON()),f.a.error("Unable to acknowledge request.");case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}(),children:"Acknowledge"}):e.acknowledged?Object(c.jsx)("span",{className:"badge badge-green",children:"Yes"}):Object(c.jsx)("span",{className:"badge badge-red",children:"No"})};return Object(n.useEffect)((function(){x()}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ce,{}),Object(c.jsx)(ae,{title:"Requests",columns:S(a),data:function(e){switch(v.role){case"Admin":return e;case"Processing":return e.filter((function(e){return"Processing"===e.status}));case"Cashier":return e.filter((function(e){return"Waiting Payment"===e.status}));case"Evaluation":return e.filter((function(e){return"Paid"===e.status}));case"Signing":return e;case"Releasing":return e.filter((function(e){return"Signed"===e.status||"Releasing"===e.status}));case"Applicant":return e.filter((function(e){return e.user_id===v.id}))}}(a).map((function(e){return Object(h.a)(Object(h.a)({},e),{},{created_at:g()(e.created_at).fromNow(),updated_at:g()(e.updated_at).fromNow(),user:e.user.name,documentType:e.documentType.name,approved:e.approved?Object(c.jsx)("span",{className:"badge badge-green",children:"Yes"}):Object(c.jsx)("span",{className:"badge badge-red",children:"No"}),expired:e.expired?Object(c.jsx)("span",{className:"badge badge-red",children:"Yes"}):Object(c.jsx)("span",{className:"badge badge-green",children:"No"}),status:Object(c.jsx)("span",{className:"badge badge-danger",children:e.status}),acknowledged:N(e)})})),processing:l,onAddClick:function(){return m.push(p("add"))},onViewClick:function(e){var t=e.id;m.push(p("".concat(t)))},onEditClick:function(e){var t=e.id;m.push(p("".concat(t,"/edit")))},onDeleteConfirm:function(e){var t=e.id;O(t)},onRefreshClick:x,withAction:!0,pagination:!0,dontShowView:"Applicant"===v.role,dontShowDelete:"Applicant"===v.role,disableAddButton:"Applicant"!==v.role})]})}function se(){var e=Object(n.useState)(null),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(j.f)(),i=Object(n.useState)(!1),l=Object(Q.a)(i,2),b=l[0],m=l[1],p=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/requests/show?id=".concat(t));case 3:a=e.sent,c=a.data,s(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),C(e.t0),r.goBack();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),x=!1,O=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!x){e.next=2;break}return e.abrupt("return");case 2:return x=!0,e.prev=3,e.next=6,X.a.delete("/requests?id=".concat(null===a||void 0===a?void 0:a.id));case 6:f.a.success("Request deleted successfully."),r.goBack(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),C(e.t0);case 13:return e.prev=13,x=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),v=Object(j.g)().params;Object(n.useEffect)((function(){p(v.id)}),[]);var N=W.get("user"),w=function(e){switch(e){case"Admin":return"Forward to Processing";case"Processing":return"Forward for payment to Cashier";case"Cashier":return"Mark as paid and forward to Evaluation";case"Evaluation":return"Forward to Signing";case"Signing":return"Mark as ready for releasing and forward to Releasing";case"Releasing":return"Notify client for document release";default:return""}}(N.role),k=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),t=function(e){switch(e){case"Admin":return"Processing";case"Processing":return"Waiting Payment";case"Cashier":return"Paid";case"Evaluation":return"Evaluated";case"Signing":return"Signed";case"Releasing":return"Releasing";default:return""}}(N.role),e.prev=2,e.next=5,X.a.put("/requests",Object(h.a)(Object(h.a)({},a),{},{status:t}));case 5:f.a.info("Request has been updated and forwarded.","Notice"),r.goBack(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0.toJSON()),f.a.error("Something went wrong, please try again later.","Unable to forward");case 13:return e.prev=13,m(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("h3",{className:"mb-0",children:"View Request"})}),Object(c.jsxs)("div",{className:"col-12 d-flex",children:[Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center",onClick:function(e){e.preventDefault(),r.goBack()},children:"Back"}),"Applicant"!==N.role?Object(c.jsx)(u.b,{to:"".concat(window.location.pathname,"/edit"),className:"btn btn-warning btn-sm align-self-center ml-auto",children:"Edit"}):null,"Applicant"!==N.role?Object(c.jsx)("a",{href:"".concat(window.location.pathname,"/delete"),className:"btn btn-danger btn-sm align-self-center ml-1",onClick:function(e){e.preventDefault(),$("#deleteRequestModal").modal("show")},children:"Delete"}):null]}),Object(c.jsx)("div",{className:"col-12",children:a?Object(c.jsxs)("div",{className:"card shadow rounded",children:[Object(c.jsx)("div",{className:"card-header",children:"Applicant"!==N.role&&function(){switch(N.role){case"Admin":return"Received"===(null===a||void 0===a?void 0:a.status);case"Processing":return"Processing"===(null===a||void 0===a?void 0:a.status);case"Cashier":return"Waiting Payment"===(null===a||void 0===a?void 0:a.status);case"Evaluation":return"Paid"===(null===a||void 0===a?void 0:a.status);case"Signing":return"Evaluated"===(null===a||void 0===a?void 0:a.status);case"Releasing":return"Signed"===(null===a||void 0===a?void 0:a.status)}}()?Object(c.jsxs)("button",{className:"btn btn-info btn-sm ".concat(y(b||!a.acknowledged,"disabled")),onClick:function(e){e.preventDefault(),k()},disabled:b||!a.acknowledged,children:[Object(c.jsx)("i",{className:"fas fa-bell"})," ",a.acknowledged?w:"You must acknowledge the request first"]}):null}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("p",{className:"card-title",children:["Requester's Name: ",a.user.name]}),Object(c.jsxs)("p",{className:"card-text",children:["Document Type: ",a.documentType.name]}),Object(c.jsxs)("p",{className:"card-text",children:["Expired: ",a.expired?"Yes":"No"]}),Object(c.jsxs)("p",{className:"card-text",children:["Acknowledged: ",a.acknowledged?"Yes":"No"]}),Object(c.jsxs)("p",{className:"card-text mb-0",children:["Status: ",a.status]}),Object(c.jsx)("ul",{className:"list-unstyled",children:function(e){var t=e.level;return e.statuses.map((function(e,a){return Object(c.jsxs)("li",{children:[0!==t?t>=a+1?Object(c.jsx)("i",{className:"bi bi-check-circle-fill"}):Object(c.jsx)("i",{className:"bi bi-circle"}):Object(c.jsx)("i",{className:"bi bi-x-circle-fill"})," ",e]},a)}))}(function(e){var t=function(e){switch(e){case"Received":return 1;case"Processing":return 2;case"Waiting Payment":return 3;case"Paid":return 4;case"Evaluated":return 5;case"Signed":return 6;case"Releasing":return 7;case"Released":return 8;case"Rejected":return 0}}(e);return{statuses:G,level:t}}(a.status))}),Object(c.jsxs)("div",{className:"card w-100 mx-1 my-4 shadow rounded",children:[Object(c.jsx)("div",{className:"card-header",children:Object(c.jsx)("h4",{className:"card-title",children:"History"})}),Object(c.jsx)("div",{className:"card-body table-responsive",style:{overflowY:"hidden"},children:Object(c.jsxs)("table",{className:"table table-sm text-center",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"User"}),Object(c.jsx)("th",{children:"Action"}),Object(c.jsx)("th",{children:"Date"})]})}),Object(c.jsxs)("tbody",{children:[0===a.logs.length?Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{}),Object(c.jsx)("td",{children:"No Data"}),Object(c.jsx)("td",{})]}):null,a.logs.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.user.name}),Object(c.jsx)("td",{children:e.action}),Object(c.jsx)("td",{children:g()(e.updated_at).fromNow()})]},t)}))]})]})})]})]})]}):Object(c.jsx)("div",{className:"d-flex h-100 w-100",children:Object(c.jsx)("div",{className:"align-self-center mx-auto",children:Object(c.jsx)("i",{className:"fas fa-circle-notch fa-spin fa-2x"})})})})]}),Object(c.jsx)("div",{className:"modal fade",id:"deleteRequestModal",tabIndex:-1,role:"dialog","aria-labelledby":"deleteRequestModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsx)("h5",{className:"modal-title",id:"deleteRequestModalLabel",children:"Delete Request"}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsx)("div",{className:"modal-body",children:"Are you sure you want to delete this request?"}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(e){e.preventDefault(),$("#deleteRequestModal").modal("hide"),O()},children:"Confirm"}),Object(c.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",children:"Cancel"})]})]})})})]})}function re(){var e=Object(j.g)(),t=function(t){return"".concat(e.path).concat(t)};return Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:t("/"),exact:!0,component:ne}),Object(c.jsx)(j.a,{path:t("/add"),component:K}),Object(c.jsx)(j.a,{path:t("/:id"),exact:!0,component:se}),Object(c.jsx)(j.a,{path:t("/:id/edit"),component:K})]})}function ie(e){var t=e.cms,a=e.onChange,s=Object(n.useState)(t.value),r=Object(Q.a)(s,2),i=r[0],l=r[1],o=Object(n.useState)("View"),d=Object(Q.a)(o,2),u=d[0],j=d[1],b=Object(n.useState)(!1),m=Object(Q.a)(b,2),h=m[0],p=m[1],x=t.key.includes("picture"),O=Object(n.createRef)(),v=new FileReader;return v.onload=function(e){e.target&&e.target.result&&l(String(e.target.result))},Object(c.jsxs)("div",{className:"col-12 rounded shadow p-3 mb-4",children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:t.key,className:"font-weight-bold",children:t.key}),Object(c.jsxs)("small",{className:"text-muted form-text mb-4 mt-0",children:["Last Updated: ",g()(t.updated_at).fromNow()]}),"View"===u?Object(c.jsxs)("p",{children:["Value:"," ",x?Object(c.jsx)("img",{style:{borderRadius:"50%",maxWidth:"40px",maxHeight:"40px"},className:"shadow",src:i,alt:t.key}):Object(c.jsx)("b",{children:i})]}):null,"Edit"===u?x?Object(c.jsxs)("div",{children:[Object(c.jsx)("button",{className:"btn btn-info btn-sm ".concat(y(h,"disabled")),disabled:h,onClick:function(e){e.preventDefault(),!h&&O.current&&O.current.click()},children:h?"Uploaded":"Upload"}),Object(c.jsx)("input",{type:"file",ref:O,className:"d-none",onChange:function(e){e.target.files&&e.target.files.length>0&&!h&&(v.readAsDataURL(e.target.files[0]),p(!0))}})]}):Object(c.jsx)("input",{type:"text",className:"form-control form-control-sm",value:i,placeholder:"Value",onChange:function(e){l(e.target.value)}}):null]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("button",{className:"btn btn-success btn-sm d-inline-block mx-1",onClick:function(e){e.preventDefault(),"Edit"===u?(a(i,(function(){f.a.info("".concat(t.key," has been updated."),"Notice"),p(!1)})),j("View")):j("Edit")},children:"Edit"===u?"Save":"Edit"}),"Edit"===u?Object(c.jsx)("button",{className:"btn btn-danger btn-sm d-inline-block mx-1",onClick:function(e){e.preventDefault(),j("View")},children:"Cancel"}):null]})]})}function le(e){var t=e.faq,a=e.onChange,s=e.defaultMode,r=Object(n.useState)(s||"View"),i=Object(Q.a)(r,2),l=i[0],o=i[1],d=Object(n.useState)(t.question),u=Object(Q.a)(d,2),j=u[0],b=u[1],m=Object(n.useState)(t.answer),h=Object(Q.a)(m,2),p=h[0],x=h[1];return Object(c.jsxs)("div",{className:"col-12",children:["View"===l?Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsxs)("label",{htmlFor:"question",children:["Question: ",Object(c.jsx)("b",{children:t.question})]}),Object(c.jsxs)("p",{children:["Answer: ",Object(c.jsx)("b",{children:t.answer})]})]}):null,"Edit"===l?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"text",name:"question",placeholder:"Question",className:"form-control form-control-sm",value:j,onChange:function(e){b(e.target.value)}})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"text",name:"answer",placeholder:"Answer",className:"form-control form-control-sm",value:p,onChange:function(e){x(e.target.value)}})})]}):null,Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("button",{className:"btn btn-success btn-sm d-inline-block mx-1",onClick:function(e){e.preventDefault(),"Edit"===l?(a({question:j,answer:p},(function(){f.a.info("FAQs has been updated.","Notice")})),o("View")):o("Edit")},children:"Edit"===l?"Save":"Edit"}),"Edit"===l?Object(c.jsx)("button",{className:"btn btn-danger btn-sm d-inline-block mx-1",onClick:function(e){e.preventDefault(),o("View"),b(t.question),x(t.answer)},children:"Cancel"}):null]})]})}function oe(){var e,t=Object(n.useState)([]),a=Object(Q.a)(t,2),s=a[0],r=a[1],i=Object(j.f)(),l=JSON.parse(function(e,t){var a=s.find((function(t){return t.key===e}));return a?a.value:t}("faqs",JSON.stringify([]))),u=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/cms");case 3:t=e.sent,a=t.data,r(Object(b.a)(a)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.toJSON()),f.a.error("Unable to fetch CMS entities.","Oops!"),i.goBack();case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.id){e.next=5;break}return e.next=3,X.a.put("/cms",t);case 3:e.next=7;break;case 5:return e.next=7,X.a.post("/cms",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(o.a.mark((function e(t,a){var c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.splice(a,1,t),c=s.find((function(e){return"faqs"===e.key})),n=JSON.stringify(l),!c){e.next=11;break}return c.value=n,s.splice(s.findIndex((function(e){return"faqs"===e.key})),1,c),r(Object(b.a)(s)),e.next=9,m(c);case 9:e.next=15;break;case 11:return s.push({key:"faqs",value:n}),r(Object(b.a)(s)),e.next=15,m({key:"faqs",value:n});case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){u()}),[]),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row",children:[s.filter((function(e){return"faqs"!==e.key})).map((function(e,t){return Object(c.jsx)(ie,{cms:e,onChange:function(){var t=Object(d.a)(o.a.mark((function t(a,c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.value=a,t.next=4,m(e);case 4:c(),u(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.toJSON()),f.a.error("Unable to update CMS entity.","Oops!");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}()},t)})),Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsx)("h3",{className:"mb-0",children:"FAQs"}),s.find((function(e){return"faqs"===e.key}))&&s.find((function(e){return"faqs"===e.key})).updated_at?Object(c.jsxs)("small",{className:"text-muted mt-0 form-text mb-3",children:["Last Updated: ",g()(null===(e=s.find((function(e){return"faqs"===e.key})))||void 0===e?void 0:e.updated_at).fromNow()]}):null,Object(c.jsx)("button",{className:"btn btn-success btn-sm",onClick:function(e){e.preventDefault();var t=s.find((function(e){return"faqs"===e.key}));if(t){var a=JSON.parse(t.value);a.push({question:"",answer:"",new:!0}),t.value=JSON.stringify(a);var c=s.findIndex((function(e){return"faqs"===e.key}));s.splice(c,1,t),r(Object(b.a)(s))}else{s.push({key:"faqs",value:JSON.stringify([{question:"",answer:"",new:!0}])}),r(Object(b.a)(s))}},children:"Add FAQ"}),Object(c.jsx)("hr",{})]}),l.map((function(e,t){return Object(c.jsx)(le,{faq:e,onChange:function(){var e=Object(d.a)(o.a.mark((function e(a,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h(a,t);case 3:c(),u(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.toJSON()),f.a.error("Unable to update FAQs.","Oops!");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),defaultMode:e.new?"Edit":"View"},t)}))]})})}function de(){var e=Object(n.useState)([]),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(Q.a)(r,2),l=i[0],u=i[1],b=Object(j.g)(),m=Object(j.f)(),p=function(e){return"".concat(b.path).concat(e)},x=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,X.a.get("/contacts");case 4:t=e.sent,a=t.data,s(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),f.a.error("Unable to fetch contacts.");case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,X.a.delete("/contacts?id=".concat(t));case 4:return f.a.success("Contact deleted successfully."),e.next=7,x();case 7:e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),C(e.t0),u(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x()}),[]),Object(c.jsx)(ae,{title:"Contacts",data:a.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{created_at:g()(e.created_at).fromNow(),updated_at:g()(e.updated_at).fromNow(),message:Object(c.jsxs)("p",{className:"text-muted m-0 p-0",children:[e.message.substr(0,15),"..."]})})})),processing:l,onAddClick:function(){return m.push(p("add"))},onViewClick:function(e){var t=e.id;m.push(p("".concat(t)))},onEditClick:function(){},onDeleteConfirm:function(e){var t=e.id;O(t)},onRefreshClick:x,withAction:!0,pagination:!0,dontShowEdit:!0,disableAddButton:!0})}function ue(){var e=Object(n.useState)(null),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(j.f)(),i=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/contacts/show?id=".concat(t));case 3:a=e.sent,c=a.data,s(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),C(e.t0),r.goBack();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),l=!1,u=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=2;break}return e.abrupt("return");case 2:return l=!0,e.prev=3,e.next=6,X.a.delete("/contacts?id=".concat(null===a||void 0===a?void 0:a.id));case 6:f.a.success("Contact deleted successfully."),r.goBack(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),C(e.t0);case 13:return e.prev=13,l=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),b=Object(j.g)().params;return Object(n.useEffect)((function(){i(b.id)}),[]),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("h3",{className:"mb-0",children:"View Contact"})}),Object(c.jsxs)("div",{className:"col-12 d-flex",children:[Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center",onClick:function(e){e.preventDefault(),r.goBack()},children:"Back"}),Object(c.jsx)("a",{href:"".concat(window.location.pathname,"/delete"),className:"btn btn-danger btn-sm align-self-center ml-1",onClick:function(e){e.preventDefault(),$("#deleteContactModal").modal("show")},children:"Delete"})]}),Object(c.jsx)("div",{className:"col-12",children:a?Object(c.jsx)("div",{className:"card shadow rounded",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h6",{children:"Name"}),Object(c.jsx)("p",{children:a.name}),Object(c.jsx)("h6",{children:"Email"}),Object(c.jsx)("p",{children:a.email}),Object(c.jsx)("h6",{children:"Message"}),Object(c.jsx)("p",{children:a.message})]})}):Object(c.jsx)("div",{className:"d-flex h-100 w-100",children:Object(c.jsx)("div",{className:"align-self-center mx-auto",children:Object(c.jsx)("i",{className:"fas fa-circle-notch fa-spin fa-2x"})})})})]}),Object(c.jsx)("div",{className:"modal fade",id:"deleteContactModal",tabIndex:-1,role:"dialog","aria-labelledby":"deleteContactModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsx)("h5",{className:"modal-title",id:"deleteContactModalLabel",children:"Delete Contact"}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsxs)("div",{className:"modal-body",children:["Are you sure you want to delete ",(null===a||void 0===a?void 0:a.name)||"this contact","?"]}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(e){e.preventDefault(),$("#deleteContactModal").modal("hide"),u()},children:"Confirm"}),Object(c.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",children:"Cancel"})]})]})})})]})}function je(){var e=Object(j.g)(),t=function(t){return"".concat(e.path).concat(t)};return Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:t("/"),exact:!0,component:de}),Object(c.jsx)(j.a,{path:t("/:id"),exact:!0,component:ue})]})}function be(){var e=Object(n.useState)(!1),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)("Add"),i=Object(Q.a)(r,2),l=i[0],u=i[1],b=Object(n.useState)({id:-1,name:""}),m=Object(Q.a)(b,2),p=m[0],x=m[1],O=Object(j.f)(),v=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:return s(!0),e.prev=3,e.next=6,"Add"===l?X.a.post("/document-types",p):X.a.put("/document-types",p);case 6:f.a.success("Document Type saved successfully."),x({name:"",id:-1}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),C(e.t0);case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u("Edit"),e.prev=1,e.next=4,X.a.get("/document-types/show?id=".concat(t));case 4:a=e.sent,c=a.data,x(c),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),C(e.t0),O.goBack();case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),N=Object(j.g)(),w=N.params,k=N.path;return Object(n.useEffect)((function(){k.includes("edit")&&g(w.id)}),[]),Object(c.jsxs)("form",{className:"container",onSubmit:function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,v();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsxs)("h3",{className:"align-self-center mb-0",children:[l," Document Type"]}),Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center ml-auto",onClick:function(e){e.preventDefault(),O.goBack()},children:"Back"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"Name",className:"form-control form-control-sm ".concat(y(a,"disabled")),disabled:a,value:p.name,onChange:function(e){var t=e.target,a=t.id,c=t.value;x(Object(h.a)(Object(h.a)({},p),{},Object(H.a)({},a,c)))}})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm ".concat(y(a,"disabled")),disabled:a,children:a?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Save"})})]})}function me(){var e=Object(n.useState)([]),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(Q.a)(r,2),l=i[0],u=i[1],b=Object(j.g)(),m=Object(j.f)(),p=function(e){return"".concat(b.path).concat(e)},x=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,X.a.get("/document-types");case 4:t=e.sent,a=t.data,s(a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),f.a.error("Unable to fetch Document Types.");case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,X.a.delete("/document-types?id=".concat(t));case 4:return f.a.success("Document Type deleted successfully."),e.next=7,x();case 7:e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),f.a.error("Unable to delete Document Type."),u(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x()}),[]),Object(c.jsx)(ae,{title:"Document Types",columns:S(a).map((function(e){return["updated at","created at"].includes(e.toLowerCase())?k(e.split(" ")[0]):e})),data:a.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{created_at:g()(e.created_at).fromNow(),updated_at:g()(e.updated_at).fromNow()})})),processing:l,onAddClick:function(){return m.push(p("add"))},onViewClick:function(e){var t=e.id;m.push(p("".concat(t)))},onEditClick:function(e){var t=e.id;m.push(p("".concat(t,"/edit")))},onDeleteConfirm:function(e){var t=e.id;O(t)},onRefreshClick:x,withAction:!0,pagination:!0})}function he(){var e=Object(n.useState)(null),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(j.f)(),i=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/document-types/show?id=".concat(t));case 3:a=e.sent,c=a.data,s(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),C(e.t0),r.goBack();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),l=Object(j.g)().params;return Object(n.useEffect)((function(){i(l.id)}),[]),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("h3",{className:"mb-0",children:"View Document Type"})}),Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("button",{className:"btn btn-info btn-sm",onClick:function(e){e.preventDefault(),r.goBack()},children:"Back"})}),Object(c.jsx)("div",{className:"col-12",children:a?Object(c.jsx)("div",{className:"card shadow rounded",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("h6",{children:"Name"}),Object(c.jsx)("p",{children:a.name})]})}):Object(c.jsx)("div",{className:"d-flex h-100 w-100",children:Object(c.jsx)("div",{className:"align-self-center mx-auto",children:Object(c.jsx)("i",{className:"fas fa-circle-notch fa-spin fa-2x"})})})})]})})}function pe(){var e=Object(j.g)(),t=function(t){return"".concat(e.path).concat(t)};return Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:t("/"),exact:!0,component:me}),Object(c.jsx)(j.a,{path:t("/add"),component:be}),Object(c.jsx)(j.a,{path:t("/:id"),exact:!0,component:he}),Object(c.jsx)(j.a,{path:t("/:id/edit"),component:be})]})}function fe(){var e=Object(n.useState)(!1),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)({id:-1,name:"",file:null}),i=Object(Q.a)(r,2),l=i[0],u=i[1],b=Object(j.f)(),m=new FileReader;m.onload=function(e){e.target&&e.target.result&&(l.file=String(e.target.result),u(Object(h.a)({},l)))};var p=Object(n.createRef)(),x=Object(n.createRef)(),O=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:return s(!0),e.prev=3,e.next=6,X.a.post("/downloadables",l);case 6:f.a.success("Downloadable saved successfully."),u({name:"",file:null}),x.current&&x.current.reset(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),C(e.t0);case 14:return e.prev=14,s(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{className:"container",ref:x,onSubmit:function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("h3",{className:"align-self-center mb-0",children:"Create Downloadable"}),Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center ml-auto",onClick:function(e){e.preventDefault(),b.goBack()},children:"Back"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("button",{className:"btn btn-info btn-sm ".concat(y(a||null!==l.file,"disabled")),disabled:a||null!==l.file,onClick:function(e){e.preventDefault(),null===l.file&&p.current.click()},children:null===l.file?"Upload File":"File Uploaded"}),Object(c.jsx)("input",{type:"file",ref:p,className:"form-control form-control-sm ".concat(y(a,"disabled")," d-none"),disabled:a,onChange:function(e){if(e.target.files&&e.target.files.length>0){var t=e.target.files[0];m.readAsDataURL(t),l.name=t.name,u(Object(h.a)({},l))}}})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm ".concat(y(a,"disabled")),disabled:a,children:a?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Save"})})]})}function xe(){var e=Object(n.useState)([]),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(Q.a)(r,2),l=i[0],u=i[1],b=Object(j.g)(),m=Object(j.f)(),p=function(e){return"".concat(b.path).concat(e)},x=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,X.a.get("/downloadables");case 4:t=e.sent,a=t.data,s(A(a,["file_id"])),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),f.a.error("Unable to fetch Downloadables.");case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,X.a.delete("/downloadables?id=".concat(t));case 4:return f.a.success("Downloadable deleted successfully."),e.next=7,x();case 7:e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),f.a.error("Unable to delete Downloadable."),u(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x()}),[]),Object(c.jsx)(ae,{title:"Downloadables",columns:S(a).map((function(e){return["updated at","created at"].includes(e.toLowerCase())?k(e.split(" ")[0]):e})),data:a.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{file:Object(c.jsx)("a",{href:"".concat(e.file.url,"&download=true"),className:"btn btn-success btn-sm",children:"Download"}),created_at:g()(e.created_at).fromNow(),updated_at:g()(e.updated_at).fromNow()})})),processing:l,onAddClick:function(){return m.push(p("add"))},onViewClick:function(e){var t=e.id;m.push(p("".concat(t)))},onEditClick:function(e){var t=e.id;m.push(p("".concat(t,"/edit")))},onDeleteConfirm:function(e){var t=e.id;O(t)},onRefreshClick:x,withAction:!0,pagination:!0,dontShowEdit:!0,dontShowView:!0})}function Oe(){var e=Object(j.g)(),t=function(t){return"".concat(e.path).concat(t)};return Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:t("/"),exact:!0,component:xe}),Object(c.jsx)(j.a,{path:t("/add"),component:fe})]})}function ve(){var e=Object(n.useState)([]),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/logs");case 3:t=e.sent,a=t.data,s(Object(b.a)(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.toJSON()),C(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r()}),[]),Object(c.jsxs)("div",{className:"card w-100",children:[Object(c.jsxs)("div",{className:"card-header",children:[Object(c.jsx)("h3",{className:"card-title",children:"History Logs"}),0===a.length?Object(c.jsx)("p",{className:"card-text",children:"No Data"}):null]}),Object(c.jsx)("div",{className:"card-body table-responsive",style:{overflowY:"hidden"},children:Object(c.jsxs)("table",{className:"table table-sm text-center",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"User"}),Object(c.jsx)("th",{children:"Action"}),Object(c.jsx)("th",{children:"Request Type"}),Object(c.jsx)("th",{children:"Requester's Name"}),Object(c.jsx)("th",{children:"Date"})]})}),Object(c.jsx)("tbody",{children:Object(b.a)(a).reverse().map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.user.name}),Object(c.jsx)("td",{children:e.action}),Object(c.jsx)("td",{children:e.loggable.documentType.name}),Object(c.jsx)("td",{children:e.user.name}),Object(c.jsx)("td",{children:g()(e.updated_at).format("MMMM DD, YYYY hh:mm A")})]},t)}))})]})})]})}function ge(){var e=Object(n.useState)({users:0,logs:0,approved_requests:0,pending_requests:0,last_log:null}),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(j.g)(),i=function(e){var t=r.path.split("");return"/"===t[t.length-1]&&t.splice(t.length-1,1),"".concat(t.join("")).concat(e)},l=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/statistics");case 3:t=e.sent,a=t.data,s(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.toJSON());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){l()}),[]),Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-6",children:Object(c.jsxs)("div",{className:"card card-stats",children:[Object(c.jsx)("div",{className:"card-body ",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-5 col-md-4",children:Object(c.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(c.jsx)("i",{className:"nc-icon nc-globe text-warning"})})}),Object(c.jsx)("div",{className:"col-7 col-md-8",children:Object(c.jsxs)("div",{className:"numbers",children:[Object(c.jsx)("p",{className:"card-category",children:"Pending Requests"}),Object(c.jsx)("p",{className:"card-title",children:a.pending_requests}),Object(c.jsx)("p",{})]})})]})}),Object(c.jsxs)("div",{className:"card-footer",children:[Object(c.jsx)("hr",{}),Object(c.jsxs)(u.b,{to:i(U),className:"stats",children:[Object(c.jsx)("i",{className:"fa fa-edit"}),"View"]})]})]})}),Object(c.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-6",children:Object(c.jsxs)("div",{className:"card card-stats",children:[Object(c.jsx)("div",{className:"card-body ",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-5 col-md-4",children:Object(c.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(c.jsx)("i",{className:"nc-icon nc-money-coins text-success"})})}),Object(c.jsx)("div",{className:"col-7 col-md-8",children:Object(c.jsxs)("div",{className:"numbers",children:[Object(c.jsx)("p",{className:"card-category",children:"Approved Requests"}),Object(c.jsx)("p",{className:"card-title",children:a.approved_requests}),Object(c.jsx)("p",{})]})})]})}),Object(c.jsxs)("div",{className:"card-footer ",children:[Object(c.jsx)("hr",{}),Object(c.jsxs)(u.b,{to:i(U),className:"stats",children:[Object(c.jsx)("i",{className:"fa fa-calendar-o"}),"View"]})]})]})}),Object(c.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-6",children:Object(c.jsxs)("div",{className:"card card-stats",children:[Object(c.jsx)("div",{className:"card-body ",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-5 col-md-4",children:Object(c.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(c.jsx)("i",{className:"nc-icon nc-vector text-danger"})})}),Object(c.jsx)("div",{className:"col-7 col-md-8",children:Object(c.jsxs)("div",{className:"numbers",children:[Object(c.jsx)("p",{className:"card-category",children:"Total Logs"}),Object(c.jsx)("p",{className:"card-title",children:a.logs}),Object(c.jsx)("p",{})]})})]})}),Object(c.jsxs)("div",{className:"card-footer ",children:[Object(c.jsx)("hr",{}),Object(c.jsxs)("div",{className:"stats",children:[Object(c.jsx)("i",{className:"fa fa-clock-o"}),g()(a.last_log?a.last_log.updated_at:new Date).fromNow()]})]})]})}),Object(c.jsx)("div",{className:"col-lg-3 col-md-6 col-sm-6",children:Object(c.jsxs)("div",{className:"card card-stats",children:[Object(c.jsx)("div",{className:"card-body ",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-5 col-md-4",children:Object(c.jsx)("div",{className:"icon-big text-center icon-warning",children:Object(c.jsx)("i",{className:"nc-icon nc-favourite-28 text-primary"})})}),Object(c.jsx)("div",{className:"col-7 col-md-8",children:Object(c.jsxs)("div",{className:"numbers",children:[Object(c.jsx)("p",{className:"card-category",children:"Users"}),Object(c.jsx)("p",{className:"card-title",children:a.users}),Object(c.jsx)("p",{})]})})]})}),Object(c.jsxs)("div",{className:"card-footer ",children:[Object(c.jsx)("hr",{}),Object(c.jsxs)(u.b,{to:i(B),className:"stats",children:[Object(c.jsx)("i",{className:"fa fa-refresh"}),"View"]})]})]})})]}),Object(c.jsx)(ve,{})]})}function Ne(){var e=Object(n.useState)(!1),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)("Add"),i=Object(Q.a)(r,2),l=i[0],u=i[1],b=Object(n.useState)({id:-1,name:"",email:"",password:"",role:"Applicant",phone:"63"}),m=Object(Q.a)(b,2),p=m[0],x=m[1],O=Object(j.f)(),v=function(e){var t=e.target,a=t.id,c=t.value;x(Object(h.a)(Object(h.a)({},p),{},Object(H.a)({},a,c)))},g=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:return s(!0),e.prev=3,e.next=6,"Add"===l?X.a.post("/users",p):X.a.put("/users",p);case 6:f.a.success("User saved successfully."),"Add"===l&&x({name:"",email:"",password:"",role:p.role,id:-1,phone:"63"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),C(e.t0);case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u("Edit"),e.prev=1,e.next=4,X.a.get("/users/show?id=".concat(t));case 4:a=e.sent,(c=a.data).password="",x(c),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),C(e.t0),O.goBack();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),w=Object(j.g)(),k=w.params,S=w.path;return Object(n.useEffect)((function(){S.includes("edit")&&N(k.id)}),[]),Object(c.jsxs)("form",{className:"container",onSubmit:function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsxs)("h3",{className:"align-self-center mb-0",children:[l," User"]}),Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center ml-auto",onClick:function(e){e.preventDefault(),O.goBack()},children:"Back"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"Name",className:"form-control form-control-sm ".concat(y(a,"disabled")),disabled:a,value:p.name,onChange:v})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email",className:"form-control form-control-sm ".concat(y(a,"disabled")),disabled:a,value:p.email,onChange:v})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(c.jsx)("input",{type:"text",name:"phone",id:"phone",placeholder:"Phone",className:"form-control form-control-sm ".concat(y(a,"disabled")),disabled:a,value:p.phone,onChange:v})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"form-control form-control-sm ".concat(y(a,"disabled")),disabled:a,value:p.password,onChange:v})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"role",children:"Role"}),Object(c.jsx)("select",{name:"role",id:"role",className:"form-control form-control-sm",value:p.role,onChange:v,children:["Admin","Processing","Cashier","Evaluation","Signing","Releasing","Applicant"].map((function(e,t){return Object(c.jsx)("option",{value:e,children:e},t)}))})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm ".concat(y(a,"disabled")),disabled:a,children:a?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Save"})})]})}function we(){var e=Object(n.useState)([]),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(Q.a)(r,2),l=i[0],b=i[1],m=Object(j.g)(),p=Object(j.f)(),x=function(e){return"".concat(m.path).concat(e)},O=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,X.a.get("/users");case 4:t=e.sent,a=t.data,s(A(a,["profile_picture_id"])),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),f.a.error("Unable to fetch users.");case 13:return e.prev=13,b(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,X.a.delete("/users?id=".concat(t));case 4:return f.a.success("User deleted successfully."),e.next=7,O();case 7:e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),C(e.t0),b(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){O()}),[]);return Object(c.jsx)(ae,{title:"Users",columns:S(a).map((function(e){return["updated at","created at"].includes(e.toLowerCase())?k(e.split(" ")[0]):"profile picture"===e.toLowerCase()?"":e})),data:a.map((function(e){var t,a;return Object(h.a)(Object(h.a)({},e),{},{created_at:g()(e.created_at).fromNow(),updated_at:g()(e.updated_at).fromNow(),role:Object(c.jsx)("span",{className:"badge badge-".concat((a=e.role,"Admin"===a?"red":"Applicant"===a?"warning":"green")),children:e.role}),profilePicture:Object(c.jsx)(u.b,{to:x("".concat(e.id)),children:Object(c.jsx)("img",{src:(null===(t=e.profilePicture)||void 0===t?void 0:t.url)||"https://via.placeholder.com/40",className:"rounded-circle shadow-sm border img-fluid d-none d-xl-block",style:{height:"40px",width:"40px"},alt:"Profile"})})})})),processing:l,onAddClick:function(){return p.push(x("add"))},onViewClick:function(e){var t=e.id;p.push(x("".concat(t)))},onEditClick:function(e){var t=e.id;p.push(x("".concat(t,"/edit")))},onDeleteConfirm:function(e){var t=e.id;v(t)},onRefreshClick:O,withAction:!0,pagination:!0})}function ye(){var e,t=Object(n.useState)(null),a=Object(Q.a)(t,2),s=a[0],r=a[1],i=Object(j.f)(),l=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/users/show?id=".concat(t));case 3:a=e.sent,c=a.data,r(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),C(e.t0),i.goBack();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),b=!1,m=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=2;break}return e.abrupt("return");case 2:return b=!0,e.prev=3,e.next=6,X.a.delete("/users?id=".concat(null===s||void 0===s?void 0:s.id));case 6:f.a.success("User deleted successfully."),i.goBack(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),C(e.t0);case 13:return e.prev=13,b=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),h=Object(j.g)().params;Object(n.useEffect)((function(){l(h.id)}),[]);var p=(null===s||void 0===s||null===(e=s.profilePicture)||void 0===e?void 0:e.url)||"https://via.placeholder.com/200";return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("h3",{className:"mb-0",children:"View User"})}),Object(c.jsxs)("div",{className:"col-12 d-flex",children:[Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center",onClick:function(e){e.preventDefault(),i.goBack()},children:"Back"}),Object(c.jsx)(u.b,{to:"".concat(window.location.pathname,"/edit"),className:"btn btn-warning btn-sm align-self-center ml-auto",children:"Edit"}),Object(c.jsx)("a",{href:"".concat(window.location.pathname,"/delete"),className:"btn btn-danger btn-sm align-self-center ml-1",onClick:function(e){e.preventDefault(),$("#deleteUserModal").modal("show")},children:"Delete"})]}),Object(c.jsx)("div",{className:"col-12",children:s?Object(c.jsx)("div",{className:"card shadow rounded",children:Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("img",{src:p,alt:"Profile",className:"img-fluid rounded-circle mb-3",style:{height:"50px",width:"50px"}}),Object(c.jsx)("h6",{children:"Name"}),Object(c.jsx)("p",{children:s.name}),Object(c.jsx)("h6",{children:"Email"}),Object(c.jsx)("p",{children:s.email}),Object(c.jsx)("h6",{children:"Phone"}),Object(c.jsx)("p",{children:s.phone}),Object(c.jsx)("h6",{children:"Role"}),Object(c.jsx)("p",{children:s.role})]})}):Object(c.jsx)("div",{className:"d-flex h-100 w-100",children:Object(c.jsx)("div",{className:"align-self-center mx-auto",children:Object(c.jsx)("i",{className:"fas fa-circle-notch fa-spin fa-2x"})})})})]}),Object(c.jsx)("div",{className:"modal fade",id:"deleteUserModal",tabIndex:-1,role:"dialog","aria-labelledby":"deleteUserModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsx)("h5",{className:"modal-title",id:"deleteUserModalLabel",children:"Delete User"}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsxs)("div",{className:"modal-body",children:["Are you sure you want to delete ",(null===s||void 0===s?void 0:s.name)||"this user","?"]}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(e){e.preventDefault(),$("#deleteUserModal").modal("hide"),m()},children:"Confirm"}),Object(c.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",children:"Cancel"})]})]})})})]})}function ke(){var e=Object(j.g)(),t=function(t){return"".concat(e.path).concat(t)};return Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:t("/"),exact:!0,component:we}),Object(c.jsx)(j.a,{path:t("/add"),component:Ne}),Object(c.jsx)(j.a,{path:t("/:id"),exact:!0,component:ye}),Object(c.jsx)(j.a,{path:t("/:id/edit"),component:Ne})]})}function Ce(){var e=Object(j.g)(),t=function(t){return"".concat(e.path).concat(t)};return Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:t("/"),exact:!0,component:ge}),Object(c.jsx)(j.a,{path:t(B),component:ke}),Object(c.jsx)(j.a,{path:t(M),component:pe}),Object(c.jsx)(j.a,{path:t(U),component:re}),Object(c.jsx)(j.a,{path:t(L),component:Oe}),Object(c.jsx)(j.a,{path:t(T),component:oe}),Object(c.jsx)(j.a,{path:t(J),component:je})]})}function Se(){var e=Object(j.g)(),t=function(t){return"".concat(e.path).concat(t)},a=[{url:E,icon:"nc-icon nc-bank",title:"Dashboard"},{url:t(M),icon:"nc-icon nc-book-bookmark",title:"Document Types"},{url:t(U),icon:"nc-icon nc-tag-content",title:"Requests"},{url:t(B),icon:"nc-icon nc-single-02",title:"Users"},{url:t(L),icon:"nc-icon nc-app",title:"Downloadables"},{url:t(T),icon:"nc-icon nc-layout-11",title:"Content Management"},{url:t(J),icon:"nc-icon nc-single-copy-04",title:"Contacts"}];return Object(c.jsx)("div",{className:"sidebar-wrapper",style:{overflowX:"hidden"},children:Object(c.jsx)("ul",{className:"nav",children:a.map((function(e,t){return Object(c.jsx)("li",{className:y(e.url===window.location.pathname,"active"),children:Object(c.jsxs)(u.b,{to:e.url,children:[Object(c.jsx)("i",{className:e.icon}),Object(c.jsx)("p",{children:e.title})]})},t)}))})})}function De(){var e=Object(j.g)(),t=function(t){return"".concat(e.path).concat(t)};return Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:t("/"),exact:!0,component:ge}),Object(c.jsx)(j.a,{path:t(U),component:re})]})}function Ae(){var e,t=Object(j.g)(),a=[{url:E,icon:"nc-icon nc-bank",title:"Dashboard"},{url:(e=U,"".concat(t.path).concat(e)),icon:"nc-icon nc-tag-content",title:"Requests"}];return Object(c.jsx)("div",{className:"sidebar-wrapper",style:{overflowX:"hidden"},children:Object(c.jsx)("ul",{className:"nav",children:a.map((function(e,t){return Object(c.jsx)("li",{className:y(e.url===window.location.pathname,"active"),children:Object(c.jsxs)(u.b,{to:e.url,children:[Object(c.jsx)("i",{className:e.icon}),Object(c.jsx)("p",{children:e.title})]})},t)}))})})}function Re(){var e,t=Object(n.useState)(!1),a=Object(Q.a)(t,2),s=a[0],r=a[1],i=Object(n.useState)(W.get("user")),l=Object(Q.a)(i,2),j=l[0],b=l[1],m=Object(n.useState)((null===(e=j.profilePicture)||void 0===e?void 0:e.url)||"https://via.placeholder.com/200"),p=Object(Q.a)(m,2),x=p[0],O=p[1],v=j,g=Object(n.createRef)(),N=new FileReader,w=!1;N.onload=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.target||!t.target.result){e.next=22;break}if(!w){e.next=3;break}return e.abrupt("return");case 3:return w=!0,e.prev=4,e.next=7,X.a.put("/self/profile",{file:String(t.target.result)});case 7:c=e.sent,n=c.data,O((null===(a=n.profilePicture)||void 0===a?void 0:a.url)||"https://via.placeholder.com/200"),W.set("user",n),f.a.info("Profile picture saved.","Info"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.log(e.t0),C(e.t0);case 18:return e.prev=18,$("#file-upload")[0].reset(),w=!1,e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[4,14,18,22]])})));return function(t){return e.apply(this,arguments)}}();var k=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,e.next=4,X.a.put("/self",j);case 4:t=e.sent,W.set("user",t.data),f.a.info("Profile updated successfully.","Info"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),C(e.t0);case 13:return e.prev=13,r(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){$(".main-panel").removeClass("h-100");var e=W.listen("user",(function(e){b(Object(h.a)({},j))}));return function(){W.unlisten("user",e)}}),[]);var S=function(e){var t=e.target,a=t.id,c=t.value;b(Object(h.a)(Object(h.a)({},j),{},Object(H.a)({},a,c)))};return Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsxs)("div",{className:"card card-user w-100",children:[Object(c.jsx)("div",{className:"image",children:Object(c.jsx)("img",{src:"/assets/img/damir-bosnjak.jpg",alt:"..."})}),Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)("div",{className:"author",children:[Object(c.jsx)("a",{href:window.location.pathname,title:"Change Profile Picture",onClick:function(e){var t;e.preventDefault(),null===(t=g.current)||void 0===t||t.click()},children:Object(c.jsx)("img",{className:"avatar border-gray shadow-sm",src:x,alt:"..."})}),Object(c.jsx)(u.b,{to:window.location.pathname,children:Object(c.jsx)("h5",{className:"title",children:v.name})}),Object(c.jsxs)("p",{className:"description",children:["@",v.name.split(" ").join("").toLowerCase()]})]})}),Object(c.jsxs)("div",{className:"card-footer",children:[Object(c.jsx)("hr",{}),Object(c.jsx)("div",{className:"button-container",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-lg-3 col-md-6 col-6 ml-auto",children:Object(c.jsxs)("h5",{children:["12",Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:"Files"})]})}),Object(c.jsx)("div",{className:"col-lg-4 col-md-6 col-6 ml-auto mr-auto",children:Object(c.jsxs)("h5",{children:["2",Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:"Requests"})]})}),Object(c.jsx)("div",{className:"col-lg-3 mr-auto",children:Object(c.jsxs)("h5",{children:["5",Object(c.jsx)("br",{}),Object(c.jsx)("small",{children:"Logins"})]})})]})})]})]})}),Object(c.jsx)("div",{className:"col-md-8",children:Object(c.jsxs)("div",{className:"card card-user",children:[Object(c.jsx)("div",{className:"card-header",children:Object(c.jsx)("h5",{className:"card-title",children:"Edit Profile"})}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("form",{id:"file-upload",onSubmit:function(e){return e.preventDefault()},children:Object(c.jsx)("input",{type:"file",ref:g,className:"d-none",onChange:function(e){e.target.files&&e.target.files.length>0&&N.readAsDataURL(e.target.files[0])},accept:"image/*"})}),Object(c.jsxs)("form",{onSubmit:function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,k();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-12",children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"Name",className:"form-control form-control-sm ".concat(y(s,"disabled")),disabled:s,value:j.name,onChange:S})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"Email",className:"form-control form-control-sm ".concat(y(s,"disabled")),disabled:s,value:j.email,onChange:S})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(c.jsx)("input",{type:"text",name:"phone",id:"phone",placeholder:"Phone",className:"form-control form-control-sm ".concat(y(s,"disabled")),disabled:s,value:j.phone,onChange:S})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"form-control form-control-sm ".concat(y(s,"disabled")),disabled:s,value:j.password,onChange:S})]})]})}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"update ml-auto mr-auto",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary btn-round text-center ".concat(y(s,"disabled")),style:{width:"160px"},disabled:s,children:s?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Update Profile"})})})]})]})]})})]})}function Pe(){return Object(c.jsx)("footer",{className:"footer d-none",style:{position:"absolute",bottom:0,width:"-webkit-fill-available"},children:Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("nav",{className:"footer-nav",children:Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"/",target:"_blank",onClick:function(e){e.preventDefault()},children:"Blog"})}),Object(c.jsx)("li",{children:Object(c.jsx)("a",{href:"/",target:"_blank",onClick:function(e){e.preventDefault()},children:"Licenses"})})]})}),Object(c.jsx)("div",{className:"credits ml-auto",children:Object(c.jsxs)("span",{className:"copyright",children:["\xa9 2020, made with ",Object(c.jsx)("i",{className:"fa fa-heart heart"})," by JMM"]})})]})})})}function qe(){var e,t=Object(j.g)(),a=t.path.split("/"),n=D(a[a.length-1]),s=Object(j.f)(),r=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.post("/auth/logout");case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.log(e.t0);case 8:return e.prev=8,W.clear(),s.push(q),f.a.info("Logged out successfully.","Info"),e.finish(8);case 13:case"end":return e.stop()}}),e,null,[[0,5,8,13]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("nav",{className:"navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent",children:Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsxs)("div",{className:"navbar-wrapper",children:[Object(c.jsx)("div",{className:"navbar-toggle",children:Object(c.jsxs)("button",{type:"button",className:"navbar-toggler",children:[Object(c.jsx)("span",{className:"navbar-toggler-bar bar1"}),Object(c.jsx)("span",{className:"navbar-toggler-bar bar2"}),Object(c.jsx)("span",{className:"navbar-toggler-bar bar3"})]})}),Object(c.jsx)("a",{className:"navbar-brand",href:"/",onClick:function(e){return e.preventDefault()},children:n})]}),Object(c.jsxs)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navigation","aria-controls":"navigation-index","aria-expanded":"false","aria-label":"Toggle navigation",children:[Object(c.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"}),Object(c.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"}),Object(c.jsx)("span",{className:"navbar-toggler-bar navbar-kebab"})]}),Object(c.jsx)("div",{className:"collapse navbar-collapse justify-content-end",id:"navigation",children:Object(c.jsx)("ul",{className:"navbar-nav",children:Object(c.jsxs)("li",{className:"nav-item btn-rotate dropdown",children:[Object(c.jsxs)("a",{className:"nav-link dropdown-toggle",href:"http://example.com",id:"navbarDropdownMenuLink","data-toggle":"dropdown","aria-expanded":"false",children:[Object(c.jsx)("i",{className:"nc-icon nc-circle-10"}),Object(c.jsx)("p",{children:Object(c.jsx)("span",{className:"d-lg-none d-md-block",children:"Account"})})]}),Object(c.jsxs)("div",{className:"dropdown-menu dropdown-menu-right p-0","aria-labelledby":"navbarDropdownMenuLink",children:[Object(c.jsxs)(u.b,{to:(e=F,"".concat(t.path).concat(e)),className:"dropdown-item d-flex",children:[Object(c.jsx)("i",{className:"nc-icon nc-single-02 align-self-center mr-1"}),Object(c.jsx)("span",{className:"align-self-center",children:"Profile"})]}),Object(c.jsxs)("a",{className:"dropdown-item d-flex",href:"/logout",onClick:function(e){e.preventDefault(),r()},children:[Object(c.jsx)("i",{className:"nc-icon nc-key-25 align-self-center mr-1"}),Object(c.jsx)("span",{className:"align-self-center",children:"Logout"})]})]})]})})})]})})}function _e(){var e=Object(n.useState)(!0),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)({document_type_id:-1,approved:!1,status:"Received",user_id:W.get("user"),file_id:null}),i=Object(Q.a)(r,2),l=i[0],u=i[1],b=Object(n.useState)([]),m=Object(Q.a)(b,2),p=m[0],x=m[1],O=Object(j.f)(),v=function(){var e=Object(d.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/document-types");case 3:if(0!==(t=e.sent).data.length){e.next=7;break}return f.a.info("There are no available documents that you can request right now. Please try again later.","Notice"),e.abrupt("return",O.goBack());case 7:x(t.data),u(Object(h.a)(Object(h.a)({},l),{},{document_type_id:t.data[0].id})),s(!1),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0.toJSON()),f.a.error("Unable to connect to server. Please try again later."),O.goBack();case 17:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){v()}),[]);var g=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=2;break}return e.abrupt("return");case 2:return s(!0),e.prev=3,e.next=6,X.a.post("/requests",l);case 6:f.a.success("Request created successfully."),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),C(e.t0);case 12:return e.prev=12,s(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[3,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("form",{className:"container",onSubmit:function(){var e=Object(d.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,g();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(c.jsxs)("div",{className:"d-flex",children:[Object(c.jsx)("h3",{className:"align-self-center mb-0",children:"Create Request"}),Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center ml-auto",onClick:function(e){e.preventDefault(),O.goBack()},children:"Back"})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"document_type_id",children:"Document Type"}),Object(c.jsx)("select",{name:"document_type_id",id:"document_type_id",className:"form-control form-control-sm",onChange:function(e){var t=e.target,a=t.id,c=t.value;u(Object(h.a)(Object(h.a)({},l),{},Object(H.a)({},a,c)))},value:l.document_type_id,children:p.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.name},t)}))})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm ".concat(y(a,"disabled")),disabled:a,children:a?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Save"})})]})}function Ee(){var e=Object(n.useState)([]),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(Q.a)(r,2),l=i[0],u=i[1],b=Object(j.g)(),m=Object(j.f)(),p=function(e){return"".concat(b.path).concat(e)},x=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,X.a.get("/self/requests");case 4:t=e.sent,a=t.data,s(A(a,["document_type_id","file_id","user_id","file"])),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.toJSON()),f.a.error("Unable to fetch requests.");case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,9,13,16]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){x()}),[]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(ce,{}),Object(c.jsx)(ae,{title:"Requests",data:a.map((function(e){return Object(h.a)(Object(h.a)({},e),{},{documentType:e.documentType.name,approved:e.approved?"Yes":"No",expired:e.expired?Object(c.jsx)("span",{className:"badge badge-red",children:"Yes"}):Object(c.jsx)("span",{className:"badge badge-green",children:"No"}),created_at:g()(e.created_at).fromNow(),updated_at:g()(e.updated_at).fromNow(),acknowledged:e.acknowledged?Object(c.jsx)("span",{className:"badge badge-green",children:"Yes"}):Object(c.jsx)("span",{className:"badge badge-red",children:"No"})})})),processing:l,onAddClick:function(){return m.push(p("add"))},onViewClick:function(e){var t=e.id;m.push(p("".concat(t)))},onEditClick:function(){},onDeleteConfirm:function(){},onRefreshClick:x,withAction:!0,pagination:!0,dontShowEdit:!0,dontShowDelete:!0})]})}function Me(){var e=Object(n.useState)(null),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(j.f)(),i=function(){var e=Object(d.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/requests/show?id=".concat(t));case 3:a=e.sent,c=a.data,s(c),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),C(e.t0),r.goBack();case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),l=!1,b=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=2;break}return e.abrupt("return");case 2:return l=!0,e.prev=3,e.next=6,X.a.delete("/requests?id=".concat(null===a||void 0===a?void 0:a.id));case 6:f.a.success("Request deleted successfully."),r.goBack(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),C(e.t0);case 13:return e.prev=13,l=!1,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[3,10,13,16]])})));return function(){return e.apply(this,arguments)}}(),m=Object(j.g)().params;Object(n.useEffect)((function(){i(m.id)}),[]);var h=W.get("user");return Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-12",children:Object(c.jsx)("h3",{className:"mb-0",children:"View Request"})}),Object(c.jsxs)("div",{className:"col-12 d-flex",children:[Object(c.jsx)("button",{className:"btn btn-info btn-sm align-self-center",onClick:function(e){e.preventDefault(),r.goBack()},children:"Back"}),"Applicant"!==h.role?Object(c.jsx)(u.b,{to:"".concat(window.location.pathname,"/edit"),className:"btn btn-warning btn-sm align-self-center ml-auto",children:"Edit"}):null,"Applicant"!==h.role?Object(c.jsx)("a",{href:"".concat(window.location.pathname,"/delete"),className:"btn btn-danger btn-sm align-self-center ml-1",onClick:function(e){e.preventDefault(),$("#deleteRequestModal").modal("show")},children:"Delete"}):null]}),Object(c.jsx)("div",{className:"col-12",children:a?Object(c.jsxs)("div",{className:"card shadow rounded",children:[Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("p",{className:"card-title",children:["Requester's Name: ",a.user.name]}),Object(c.jsxs)("p",{className:"card-title",children:["Date: ",g()(a.updated_at).format("MMMM DD, YYYY hh:mm A")]}),Object(c.jsxs)("p",{className:"card-text",children:["Document Type: ",a.documentType.name]}),Object(c.jsxs)("p",{className:"card-text mb-0",children:["Status: ",a.status]}),Object(c.jsx)("ul",{className:"list-unstyled",children:function(e){var t=e.level;return e.statuses.map((function(e,a){return Object(c.jsxs)("li",{children:[0!==t?t>=a+1?Object(c.jsx)("i",{className:"bi bi-check-circle-fill"}):Object(c.jsx)("i",{className:"bi bi-circle"}):Object(c.jsx)("i",{className:"bi bi-x-circle-fill"})," ",e]},a)}))}(function(e){var t=function(e){switch(e){case"Received":return 1;case"Processing":return 2;case"Waiting Payment":return 3;case"Paid":return 4;case"Evaluated":return 5;case"Signed":return 6;case"Releasing":return 7;case"Released":return 8;case"Rejected":return 0}}(e);return{statuses:G,level:t}}(a.status))}),Object(c.jsxs)("div",{className:"card w-100 mx-1 my-4 shadow rounded",children:[Object(c.jsx)("div",{className:"card-header",children:Object(c.jsx)("h4",{className:"card-title",children:"History"})}),Object(c.jsx)("div",{className:"card-body table-responsive",style:{overflowY:"hidden"},children:Object(c.jsxs)("table",{className:"table table-sm text-center",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"User"}),Object(c.jsx)("th",{children:"Action"}),Object(c.jsx)("th",{children:"Date"})]})}),Object(c.jsxs)("tbody",{children:[0===a.logs.length?Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{}),Object(c.jsx)("td",{children:"No Data"}),Object(c.jsx)("td",{})]}):null,a.logs.map((function(e,t){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.user.name}),Object(c.jsx)("td",{children:e.action}),Object(c.jsx)("td",{children:g()(e.updated_at).format("MMMM DD, YYYY hh:mm A")})]},t)}))]})]})})]})]}),a.approved?a.expired?Object(c.jsx)("div",{className:"card-footer pb-5",children:Object(c.jsx)("span",{className:"btn btn-danger btn-sm font-weight-bold",children:"This request has expired. Please request this document again."})}):Object(c.jsx)("div",{className:"card-footer",children:a.file?Object(c.jsx)("a",{href:"".concat(a.file.url,"&download=true"),className:"btn btn-success btn-sm",target:"_blank",rel:"noreferrer",children:"Download Document"}):Object(c.jsx)("span",{children:"The request is approved but there is no attached document yet."})}):null]}):Object(c.jsx)("div",{className:"d-flex h-100 w-100",children:Object(c.jsx)("div",{className:"align-self-center mx-auto",children:Object(c.jsx)("i",{className:"fas fa-circle-notch fa-spin fa-2x"})})})})]}),Object(c.jsx)("div",{className:"modal fade",id:"deleteRequestModal",tabIndex:-1,role:"dialog","aria-labelledby":"deleteRequestModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:Object(c.jsxs)("div",{className:"modal-content",children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsx)("h5",{className:"modal-title",id:"deleteRequestModalLabel",children:"Delete Request"}),Object(c.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsx)("div",{className:"modal-body",children:"Are you sure you want to delete this request?"}),Object(c.jsxs)("div",{className:"modal-footer",children:[Object(c.jsx)("button",{type:"button",className:"btn btn-danger btn-sm",onClick:function(e){e.preventDefault(),$("#deleteRequestModal").modal("hide"),b()},children:"Confirm"}),Object(c.jsx)("button",{type:"button",className:"btn btn-secondary btn-sm","data-dismiss":"modal",children:"Cancel"})]})]})})})]})}function Be(){var e=Object(j.g)(),t=function(t){return"".concat(e.path).concat(t)};return Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:t("/"),exact:!0,component:Ee}),Object(c.jsx)(j.a,{path:t("/add"),component:_e}),Object(c.jsx)(j.a,{path:t("/:id"),component:Me})]})}function Ue(){var e,t=Object(j.g)();return Object(c.jsx)(j.c,{children:Object(c.jsx)(j.a,{path:(e=U,"".concat(t.path).concat(e)),component:Be})})}function Fe(){var e,t=Object(j.g)(),a=[{url:E,icon:"nc-icon nc-bank",title:"Dashboard"},{url:(e=U,"".concat(t.path).concat(e)),icon:"nc-icon nc-tag-content",title:"Requests"}];return Object(c.jsx)("div",{className:"sidebar-wrapper",style:{overflowX:"hidden"},children:Object(c.jsx)("ul",{className:"nav",children:a.map((function(e,t){return Object(c.jsx)("li",{className:y(e.url===window.location.pathname,"active"),children:Object(c.jsxs)(u.b,{to:e.url,children:[Object(c.jsx)("i",{className:e.icon}),Object(c.jsx)("p",{children:e.title})]})},t)}))})})}function Le(){var e=Object(j.f)(),t=Object(j.g)();if(!W.has("logged")&&!W.get("logged")||void 0===W.get("user"))return e.push(q),null;var a,n=W.get("user");return Object(c.jsxs)("div",{className:"wrapper",children:[Object(c.jsxs)("div",{className:"sidebar","data-color":"white","data-active-color":"danger",children:[Object(c.jsxs)("div",{className:"logo",children:[Object(c.jsx)(u.b,{to:E,className:"simple-text logo-mini",children:Object(c.jsx)("img",{src:"/assets/manifest-icon-512.png",alt:"Logo",className:"rounded-circle"})}),Object(c.jsx)(u.b,{to:E,className:"simple-text logo-normal",children:"PBBDTM"})]}),"Admin"===n.role?Object(c.jsx)(Se,{}):null,R(n.role,["Processing","Cashier","Evaluation","Signing","Releasing"])?Object(c.jsx)(Ae,{}):null,"Applicant"===n.role?Object(c.jsx)(Fe,{}):null]}),Object(c.jsxs)("div",{className:"main-panel h-100",children:[Object(c.jsx)(qe,{}),Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)(j.a,{path:(a=F,"".concat(t.path).concat(a)),exact:!0,component:Re}),"Admin"===n.role?Object(c.jsx)(Ce,{}):null,R(n.role,["Processing","Cashier","Evaluation","Signing","Releasing"])?Object(c.jsx)(De,{}):null,"Applicant"===n.role?Object(c.jsx)(Ue,{}):null]}),Object(c.jsx)(Pe,{})]})]})}function Te(e){var t=function(t,a){var c=e.cms.find((function(e){return e.key===t}));return c?c.value:a};return Object(c.jsx)("div",{className:"section section-dark text-center",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("h2",{className:"title",children:t("about-us-title","Let's talk about us")}),Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsxs)("div",{className:"card card-profile card-plain",children:[Object(c.jsx)("div",{className:"card-avatar",children:Object(c.jsx)("a",{href:"#avatar",children:Object(c.jsx)("img",{src:t("about-us-profile-1-picture","/assets/img/faces/clem-onojeghuo-3.jpg"),alt:"..."})})}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("a",{href:"#paper-kit",children:Object(c.jsxs)("div",{className:"author",children:[Object(c.jsx)("h4",{className:"card-title",children:t("about-us-profile-1-name","Henry Ford")}),Object(c.jsx)("h6",{className:"card-category",children:t("about-us-profile-1-position","Product Manager")})]})}),Object(c.jsx)("p",{className:"card-description text-center",children:t("about-us-profile-1-description","Teamwork is so important that it is virtually impossible for you to reach the heights of your capabilities or make the money that you want without becoming very good at it.")})]})]})}),Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsxs)("div",{className:"card card-profile card-plain",children:[Object(c.jsx)("div",{className:"card-avatar",children:Object(c.jsx)("a",{href:"#avatar",children:Object(c.jsx)("img",{src:t("about-us-profile-2-picture","/assets/img/faces/joe-gardner-2.jpg"),alt:"..."})})}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("a",{href:"#paper-kit",children:Object(c.jsxs)("div",{className:"author",children:[Object(c.jsx)("h4",{className:"card-title",children:t("about-us-profile-2-name","Sophie West")}),Object(c.jsx)("h6",{className:"card-category",children:t("about-us-profile-2-position","Designer")})]})}),Object(c.jsx)("p",{className:"card-description text-center",children:t("about-us-profile-2-description","A group becomes a team when each member is sure enough of himself and his contribution to praise the skill of the others. No one can whistle a symphony. It takes an orchestra to play it.")})]})]})}),Object(c.jsx)("div",{className:"col-md-4",children:Object(c.jsxs)("div",{className:"card card-profile card-plain",children:[Object(c.jsx)("div",{className:"card-avatar",children:Object(c.jsx)("a",{href:"#avatar",children:Object(c.jsx)("img",{src:t("about-us-profile-3-picture","/assets/img/faces/erik-lucatero-2.jpg"),alt:"..."})})}),Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsx)("a",{href:"#paper-kit",children:Object(c.jsxs)("div",{className:"author",children:[Object(c.jsx)("h4",{className:"card-title",children:t("about-us-profile-3-name","Robert Orben")}),Object(c.jsx)("h6",{className:"card-category",children:t("about-us-profile-3-position","Developer")})]})}),Object(c.jsx)("p",{className:"card-description text-center",children:t("about-us-profile-3-description","The strength of the team is each individual member. The strength of each member is the team. If you can laugh together, you can work together, silence isn\u2019t golden, it\u2019s deadly.")})]})]})})]})]})})}function Je(){var e=Object(n.useState)({name:"",email:"",message:""}),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(Q.a)(r,2),l=i[0],u=i[1],j=function(){var e=Object(d.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,X.a.post("/contacts",a);case 4:s({name:"",email:"",message:""}),f.a.info("Message has been sent.","Notice"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0.toJSON()),f.a.error("Unable to send message","Oops!");case 12:return e.prev=12,u(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"section landing-section",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-8 ml-auto mr-auto",children:[Object(c.jsx)("h2",{className:"text-center",children:"Keep in touch?"}),Object(c.jsxs)("form",{className:"contact-form",onSubmit:function(e){e.preventDefault(),j()},children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-6",children:[Object(c.jsx)("label",{children:"Name"}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("div",{className:"input-group-prepend",children:Object(c.jsx)("span",{className:"input-group-text",children:Object(c.jsx)("i",{className:"nc-icon nc-single-02"})})}),Object(c.jsx)("input",{type:"text",className:"form-control ".concat(y(l,"disabled")),disabled:l,onChange:function(e){s(Object(h.a)(Object(h.a)({},a),{},{name:e.target.value}))},placeholder:"Name"})]})]}),Object(c.jsxs)("div",{className:"col-md-6",children:[Object(c.jsx)("label",{children:"Email"}),Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("div",{className:"input-group-prepend",children:Object(c.jsx)("span",{className:"input-group-text",children:Object(c.jsx)("i",{className:"nc-icon nc-email-85"})})}),Object(c.jsx)("input",{type:"email",className:"form-control ".concat(y(l,"disabled")),disabled:l,onChange:function(e){s(Object(h.a)(Object(h.a)({},a),{},{email:e.target.value}))},placeholder:"Email"})]})]})]}),Object(c.jsx)("label",{children:"Message"}),Object(c.jsx)("textarea",{className:"form-control ".concat(y(l,"disabled")),disabled:l,onChange:function(e){s(Object(h.a)(Object(h.a)({},a),{},{message:e.target.value}))},rows:4,placeholder:"Tell us your thoughts and feelings..."}),Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-4 ml-auto mr-auto",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-danger btn-lg btn-fill ".concat(y(l,"disabled")),disabled:l,children:l?"Sending":"Send Message"})})})]})]})})})})}function Ie(e){var t=function(t,a){var c=e.cms.find((function(e){return e.key===t}));return c?c.value:a};return Object(c.jsx)("div",{className:"section text-center",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-8 ml-auto mr-auto",children:[Object(c.jsx)("h2",{className:"title",children:t("description-title","Let's talk product")}),Object(c.jsx)("h5",{className:"description text-dark",children:t("description-paragraph","This is the paragraph where you can write more details about your product. Keep you user engaged by providing meaningful information. Remember that by this time, the user is curious, otherwise he wouldn't scroll to get here. Add a button if you want the user to see more.")})]})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{className:"row text-dark",children:[Object(c.jsx)("div",{className:"col-md-3",children:Object(c.jsxs)("div",{className:"info",children:[Object(c.jsx)("div",{className:"icon icon-danger",children:Object(c.jsx)("i",{className:"nc-icon nc-album-2"})}),Object(c.jsxs)("div",{className:"description",children:[Object(c.jsx)("h4",{className:"info-title",children:t("description-card-1-title","Beautiful Gallery")}),Object(c.jsx)("p",{className:"description",children:t("description-card-1-description","Spend your time generating new ideas. You don't have to think of implementing.")})]})]})}),Object(c.jsx)("div",{className:"col-md-3",children:Object(c.jsxs)("div",{className:"info",children:[Object(c.jsx)("div",{className:"icon icon-danger",children:Object(c.jsx)("i",{className:"nc-icon nc-bulb-63"})}),Object(c.jsxs)("div",{className:"description",children:[Object(c.jsx)("h4",{className:"info-title",children:t("description-card-2-title","New Ideas")}),Object(c.jsx)("p",{children:t("decsription-card-2-description","Larger, yet dramatically thinner. More powerful, but remarkably power efficient.")})]})]})}),Object(c.jsx)("div",{className:"col-md-3",children:Object(c.jsxs)("div",{className:"info",children:[Object(c.jsx)("div",{className:"icon icon-danger",children:Object(c.jsx)("i",{className:"nc-icon nc-chart-bar-32"})}),Object(c.jsxs)("div",{className:"description",children:[Object(c.jsx)("h4",{className:"info-title",children:t("description-card-3-title","Statistics")}),Object(c.jsx)("p",{children:t("description-card-3-description","Choose from a veriety of many colors resembling sugar paper pastels.")})]})]})}),Object(c.jsx)("div",{className:"col-md-3",children:Object(c.jsxs)("div",{className:"info",children:[Object(c.jsx)("div",{className:"icon icon-danger",children:Object(c.jsx)("i",{className:"nc-icon nc-sun-fog-29"})}),Object(c.jsxs)("div",{className:"description",children:[Object(c.jsx)("h4",{className:"info-title",children:t("description-card-4-title","Delightful design")}),Object(c.jsxs)("p",{children:[t("description-card-4-description","Find unique and handmade delightful designs related items directly from our sellers"),"."]})]})]})})]})]})})}function Ve(){var e=Object(n.useState)([]),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/downloadables");case 3:t=e.sent,a=t.data,s(Object(b.a)(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.toJSON());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r()}),[]),a.length>0?Object(c.jsx)("div",{className:"section landing-section",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-8 mx-auto text-center",children:[Object(c.jsx)("h3",{className:"mb-3",children:"Downloadables"}),Object(c.jsx)("ul",{className:"list-group",children:a.map((function(e,t){return Object(c.jsx)("li",{className:"list-group-item",children:Object(c.jsx)("a",{className:"btn btn-link",href:e.file.url,children:e.name})},t)}))})]})})})}):null}function Ye(e){var t=JSON.parse(function(t,a){var c=e.cms.find((function(e){return e.key===t}));return c?c.value:a}("faqs",JSON.stringify([]))),a=[[]];return t.forEach((function(e){var t=a[a.length-1];t.length<2?(t.push(e),a.splice(a.length-1,1,t)):a.push([e])})),Object(c.jsx)("div",{className:"section landing-section",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-8 mx-auto justify-content-center",children:a.map((function(e,t){return Object(c.jsx)("div",{className:"card-group",children:e.map((function(e,t){return Object(c.jsxs)("div",{className:"card m-1 border-0 shadow rounded",children:[Object(c.jsx)("div",{className:"card-header d-flex",children:Object(c.jsx)("p",{className:"card-title mb-0 align-self-center",style:{color:"#000"},children:e.question})}),Object(c.jsx)("div",{className:"card-body",children:Object(c.jsx)("p",{className:"card-text",children:e.answer})})]},t)}))},t)}))})})})})}function $e(e){var t=function(t,a){var c=e.cms.find((function(e){return e.key===t}));return c?c.value:a};return Object(c.jsxs)("div",{className:"page-header",style:{backgroundImage:"url(/assets/img/daniel-olahh.jpg)",backgroundPosition:"50%",backgroundSize:"cover",minHeight:"100vh",maxHeight:"999px",overflow:"hidden",position:"relative",width:"100%",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:[Object(c.jsx)("div",{className:"filter"}),Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"text-center",style:{color:"#fff",zIndex:3,position:"relative"},children:[Object(c.jsx)("h1",{children:t("header-title","Welcome to PBBDTM")}),Object(c.jsx)("h3",{children:t("header-description","PUP Bansud Branch Document Tracking and Monitoring")}),Object(c.jsx)("br",{}),Object(c.jsxs)(u.b,{to:_,className:"btn btn-outline-neutral btn-round",children:[Object(c.jsx)("i",{className:"fa fa-play"})," Get Started"]})]})})]})}function We(){W.get("user");return Object(c.jsx)("nav",{className:"navbar navbar-expand-lg fixed-top navbar-transparent border-0","color-on-scroll":"300",children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsxs)("div",{className:"navbar-translate",children:[Object(c.jsx)("a",{className:"navbar-brand",href:"/",rel:"tooltip",title:"PBBDTM","data-placement":"bottom",target:"_blank",children:"PBBDTM"}),Object(c.jsxs)("button",{className:"navbar-toggler navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navigation","aria-controls":"navigation-index","aria-expanded":"false","aria-label":"Toggle navigation",children:[Object(c.jsx)("span",{className:"navbar-toggler-bar bar1"}),Object(c.jsx)("span",{className:"navbar-toggler-bar bar2"}),Object(c.jsx)("span",{className:"navbar-toggler-bar bar3"})]})]}),Object(c.jsx)("div",{className:"collapse navbar-collapse justify-content-end",id:"navigation",children:Object(c.jsx)("ul",{className:"navbar-nav",children:W.get("logged")&&W.get("user")?Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)(u.b,{to:E,className:"nav-link",children:[Object(c.jsx)("i",{className:"nc-icon nc-bank"}),"Dashboard"]})}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)(u.b,{to:q,className:"nav-link",children:[Object(c.jsx)("i",{className:"nc-icon nc-layout-11"}),"Login"]})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)(u.b,{to:_,className:"nav-link",children:[Object(c.jsx)("i",{className:"nc-icon nc-book-bookmark"}),"Register"]})})]})})})]})})}function He(){var e=Object(n.useState)([]),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/cms");case 3:t=e.sent,a=t.data,s(Object(b.a)(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.toJSON());case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r(),$("body").css("background-color","#fff");var e=$("#dashboard-styles").attr("href");return $("#dashboard-styles").remove(),$("head").append('<link rel="stylesheet" href="https://demos.creative-tim.com/paper-kit-2/assets/css/paper-kit.min.css?v=2.2.0" id="landing-styles" />'),$("head").append('<script src="https://demos.creative-tim.com/paper-kit-2/assets/js/paper-kit.min.js?v=2.2.0" id="landing-script"><\/script>'),function(){$("body").css("background-color","#f4f3ef"),$("#landing-styles").remove(),$("#landing-script").remove(),$("head").append('<link rel="stylesheet" href="'.concat(e,'" />'))}}),[]),Object(c.jsxs)("div",{className:"pb-5",children:[Object(c.jsx)(We,{}),Object(c.jsx)($e,{cms:a}),Object(c.jsx)(Ie,{cms:a}),Object(c.jsx)(Te,{cms:a}),Object(c.jsx)(Je,{}),Object(c.jsx)(Ve,{}),Object(c.jsx)(Ye,{cms:a})]})}g.a.extend(w.a),g.a.extend(w.a),g.a.extend(w.a),g.a.extend(w.a);var Qe=a(21),ze=a.n(Qe);function Xe(){var e=Object(n.useState)({email:"",password:""}),t=Object(Q.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(Q.a)(r,2),l=i[0],b=i[1],m=Object(j.f)();W.has("logged")&&W.get("logged")&&m.push(E);var p=function(){var e=Object(d.a)(o.a.mark((function e(){var t,c,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,X.a.post("/auth/login",a);case 4:t=e.sent,c=t.data,n=c.user,s=c.token,W.set("logged",!0),W.set("user",n),W.set("token",s),m.push(E),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),C(e.t0),console.log(e.t0);case 16:return e.prev=16,b(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"w-100 h-100vh d-flex ".concat(ze.a.body),children:Object(c.jsx)("div",{className:"align-self-center mx-auto",children:Object(c.jsxs)("div",{className:"card shadow ".concat(ze.a.card),children:[Object(c.jsxs)("div",{className:"card-header text-center",children:[Object(c.jsx)("img",{src:"/assets/manifest-icon-512.png",alt:"Logo",className:"img-fluid hw-max-75 rounded-circle clickable",onClick:function(e){e.preventDefault(),m.push(P)}}),Object(c.jsx)("h2",{className:"card-title",children:Object(c.jsx)(u.b,{to:P,style:{textDecoration:"none"},children:"PBBDTM"})}),Object(c.jsx)("p",{className:"card-text",children:"\ud83c\udf40 Welcome back, please fill in your credentials."})]}),Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p()},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"email@dtms.com",className:"form-control form-control-sm ".concat(y(l,"disabled")),disabled:l,value:a.email,onChange:function(e){a.email=e.target.value,s(Object(h.a)({},a))}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"form-control form-control-sm ".concat(y(l,"disabled")),disabled:l,value:a.password,onChange:function(e){a.password=e.target.value,s(Object(h.a)({},a))}})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-sm btn-secondary ".concat(y(l,"disabled")),disabled:l,children:l?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Login"})}),Object(c.jsxs)("div",{className:"form-group",children:["Don't have an account?"," ",Object(c.jsx)(u.b,{to:_,className:"d-inline",children:"Register"})]})]})})]})})})}function Ge(){var e,t,a=Object(n.useState)({name:"",email:"",phone:"63",password:""}),s=Object(Q.a)(a,2),r=s[0],i=s[1],l=Object(n.useState)(!1),b=Object(Q.a)(l,2),m=b[0],p=b[1],f=(e=i,t=function(e){return Object(h.a)({},e)},function(a){return e(t(a))}),x=Object(j.f)();W.has("logged")&&W.get("logged")&&x.push(E);var O=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a,c,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,X.a.post("/auth/register",r);case 4:t=e.sent,a=t.data,c=a.user,n=a.token,W.set("logged",!0),W.set("user",c),W.set("token",n),x.push(E),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(1),C(e.t0),console.log(e.t0);case 16:return e.prev=16,p(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,12,16,19]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"w-100 h-100vh d-flex ".concat(ze.a.body),children:Object(c.jsx)("div",{className:"align-self-center mx-auto",children:Object(c.jsxs)("div",{className:"card shadow ".concat(ze.a.card),children:[Object(c.jsxs)("div",{className:"card-header text-center",children:[Object(c.jsx)("img",{src:"/assets/manifest-icon-512.png",alt:"Logo",className:"img-fluid hw-max-75 rounded-circle clickable",onClick:function(e){e.preventDefault(),x.push(P)}}),Object(c.jsx)("h2",{className:"card-title",children:Object(c.jsx)(u.b,{to:P,style:{textDecoration:"none"},children:"PBBDTM"})}),Object(c.jsx)("p",{className:"card-text",children:"\ud83c\udf40 New here? Please fill in the required information."})]}),Object(c.jsx)("div",{className:"card-body",children:Object(c.jsxs)("form",{onSubmit:function(e){e.preventDefault(),O()},children:[Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"name",children:"Name"}),Object(c.jsx)("input",{type:"text",name:"name",id:"name",placeholder:"John Smith",className:"form-control form-control-sm ".concat(y(m,"disabled")),disabled:m,value:r.name,onChange:function(e){r.name=e.target.value,f(r)}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"email",children:"Email"}),Object(c.jsx)("input",{type:"text",name:"email",id:"email",placeholder:"email@dtms.com",className:"form-control form-control-sm ".concat(y(m,"disabled")),disabled:m,value:r.email,onChange:function(e){r.email=e.target.value,f(r)}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"phone",children:"Phone"}),Object(c.jsx)("input",{type:"text",name:"phone",id:"phone",placeholder:"639123456789",className:"form-control form-control-sm ".concat(y(m,"disabled")),disabled:m,value:r.phone,onChange:function(e){r.phone=e.target.value,f(r)}})]}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("label",{htmlFor:"password",children:"Password"}),Object(c.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"Password",className:"form-control form-control-sm ".concat(y(m,"disabled")),disabled:m,value:r.password,onChange:function(e){r.password=e.target.value,f(r)}})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("button",{type:"submit",className:"btn btn-sm btn-secondary ".concat(y(m,"disabled")),disabled:m,children:m?Object(c.jsx)("div",{className:"spin",children:Object(c.jsx)("i",{className:"bi bi-arrow-clockwise"})}):"Register"})}),Object(c.jsxs)("div",{className:"form-group",children:["Already have an account?"," ",Object(c.jsx)(u.b,{to:q,className:"d-inline",children:"Login"})]})]})})]})})})}a(41);function Ke(){var e=function(){var e=Object(d.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,X.a.get("/self");case 3:t=e.sent,a=t.data,W.set("logged",!0),W.set("user",a),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0.toJSON()),W.remove("user").set("logged",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){e()}),[]),Object(c.jsx)(u.a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:P,exact:!0,component:He}),Object(c.jsx)(j.a,{path:q,component:Xe}),Object(c.jsx)(j.a,{path:_,component:Ge}),Object(c.jsx)(j.a,{path:E,component:Le})]})})}var Ze=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,81)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};a(79);Error.prototype.toJSON=function(){var e={},t=this;return Object.getOwnPropertyNames(t).forEach((function(a){e[a]=t[a]}),t),"stack"in e&&(e.stack=e.stack.split(/\r?\n/).map((function(e){return e.trim()})).filter((function(e,t){return 0!==t}))),e},String.prototype.parseNumbers=function(){var e=this.split(".");if(e.length>1){var t=(e[0].match(/\d/g)||[]).join(""),a=(e[1].match(/\d/g)||[]).join("");return Number("".concat(t,".").concat(a))||0}var c=this.match(/\d/g);return c&&Number(c.join(""))||0},X.a.defaults.baseURL="https://pbbdtm.herokuapp.com/api",X.a.defaults.headers.common.Accept="application/json",W.has("token")&&(X.a.defaults.headers.common.Authorization="Bearer ".concat(W.get("token"))),W.listen("token",(function(e){X.a.defaults.headers.common.Authorization="Bearer ".concat(e)})),i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(Ke,{})}),document.getElementById("root")),Ze()}},[[80,1,2]]]);
//# sourceMappingURL=main.875d293c.chunk.js.map