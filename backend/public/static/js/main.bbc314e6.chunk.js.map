{"version":3,"sources":["helpers.ts","routes.ts","state.ts","components/Shared/Pagination.tsx","components/Shared/Table.tsx","components/TrackRequest.tsx","components/Shared/Requests/Requests.tsx","components/Shared/Requests/Archived.tsx","constants.ts","components/Shared/Requests/Form.tsx","components/Shared/Requests/Inactive.tsx","components/Shared/Requests/List.tsx","components/Shared/Quill.tsx","components/Shared/Requests/View.tsx","components/Shared/Requests/index.tsx","components/Admin/CMS/Entry.tsx","components/Admin/CMS/FAQ.tsx","components/Admin/CMS/index.tsx","components/Admin/Contacts/List.tsx","components/Admin/Contacts/View.tsx","components/Admin/Contacts/index.tsx","components/Admin/DocumentTypes/Form.tsx","components/Admin/DocumentTypes/List.tsx","components/Admin/DocumentTypes/View.tsx","components/Admin/DocumentTypes/index.tsx","components/Admin/Downloadables/Form.tsx","components/Admin/Downloadables/List.tsx","components/Admin/Downloadables/index.tsx","components/Logs.tsx","components/Admin/Stats.tsx","components/Admin/Users/Form.tsx","components/Admin/Users/List.tsx","components/Admin/Users/View.tsx","components/Admin/Users/index.tsx","components/Admin/index.tsx","components/Admin/Sidebar.tsx","components/Cashier/index.tsx","components/Cashier/Sidebar.tsx","components/Profile.tsx","components/Shared/Footer.tsx","components/Shared/Header.tsx","components/Student/Request/Form.tsx","components/Student/Request/List.tsx","components/Student/Request/View.tsx","components/Student/Request/index.tsx","components/Student/index.tsx","components/Student/Sidebar.tsx","components/Dashboard.tsx","components/Landing/AboutUs.tsx","components/Landing/Carousel.tsx","components/Landing/ContactUs.tsx","components/Landing/Description.tsx","components/Landing/FAQ/Item.tsx","components/Landing/FAQs.tsx","components/Landing/Header.tsx","components/Landing/Nav.tsx","components/Landing/index.tsx","components/Login.tsx","components/Register.tsx","components/Landing/Track.tsx","App.tsx","reportWebVitals.ts","shims.ts","index.tsx","styles/Login.module.css"],"names":["outIf","condition","output","defaultValue","ucfirst","string","array","split","toUpperCase","join","ucwords","map","word","handleError","error","response","data","message","status","toastr","Object","values","errors","forEach","createTableColumns","length","keys","key","sentencify","words","_","snakeCase","exceptMany","item","copy","except","orEqual","includes","dayjs","extend","relativeTime","Intl","NumberFormat","style","currency","routes","ROOT","ARCHIVED","INACTIVE","State","storage","listeners","this","window","localStorage","getAll","setAll","getItem","parsed","JSON","parse","setItem","stringify","value","dispatch","has","callback","push","index","splice","Pagination","url","current","total","limit","onChange","realTotal","Math","ceil","previousPage","nextPage","previousPageURL","nextPageURL","hasPreviousPage","hasNextPage","aria-label","className","href","tabIndex","onClick","e","preventDefault","links","count","page","Table","title","columns","theme","onViewClick","onEditClick","onDeleteConfirm","onRefreshClick","processing","onAddClick","withAction","pagination","border","dontShowView","dontShowEdit","dontShowDelete","disableAddButton","headColumns","match","useRouteMatch","state","kebabCase","toLowerCase","get","useState","interval","setInterval","set","setCurrent","pageKey","listen","formInterval","setFormInterval","options","setOptions","intervalKey","perPage","useEffect","unlisten","offset","paginatedData","displayData","undefined","onSubmit","htmlFor","type","name","id","placeholder","Number","target","overflowY","column","data-sort","scope","entries","date","entry","fromNow","data-toggle","aria-haspopup","aria-expanded","data-target","role","aria-labelledby","aria-hidden","pluralize","singular","data-dismiss","modal","$","on","path","TrackRequest","props","setProcessing","setID","history","useHistory","user","submit","a","axios","request","find","request_id","user_id","info","console","log","toJSON","disabled","trim","Requests","requests","setRequests","readOnly","fetchRequests","filter","expired","approved","deleteRequest","delete","success","renderAcknowledged","isAcknowledgable","acknowledged","currentTarget","setAttribute","classList","add","textContent","dates","Array","from","acknowledged_dates","Date","put","fragments","for","filterToRole","created_at","format","updated_at","documentType","evaluation","Archived","statuses","Form","document_type_id","file_id","setData","file","setFile","fileRef","createRef","params","fetchRequest","goBack","payload","FormData","append","post","statusables","getUserStatusables","click","files","ref","Inactive","List","Quill","View","setRequest","updating","setUpdating","currentStatus","setCurrentStatus","smsMessage","setSmsMessage","emailMessage","setEmailMessage","requestID","getNextStatus","location","origin","markTask","task","done","deleting","next","forward","assignedRole","req","sms_message","email_message","Error","exportToPDF","card","String","innerHTML","remove","iframe","css","contentWindow","document","open","write","Promise","all","timeout","html","close","focus","setTimeout","print","findDate","to","pathname","isForwardable","student_id_number","logs","level","tasks","makeStatuses","action","cols","rows","exact","component","Entry","cms","setValue","mode","setMode","uploaded","setUploaded","isFile","reader","FileReader","onload","event","result","flex","src","alt","borderTopLeftRadius","borderTopRightRadius","readAsDataURL","FAQ","faq","defaultMode","question","setQuestion","answer","setAnswer","CMS","setCMS","faqs","c","fetchCMS","saveCMS","saveFAQ","entity","findIndex","new","position","overflow","width","paddingTop","inset","height","contacts","setContacts","fetchContacts","deleteContact","contact","substr","setContact","fetchContact","contactID","email","Contacts","setFiles","requirements","expiry_days","handleChange","File","fetchDocumentType","documentTypeID","requirement","rel","confirm","documentTypes","setDocumentTypes","fetchDocumentTypes","deleteDocumentType","setDocumentType","DocumentTypes","category","form","reset","downloadables","setDownloadables","fetchDownloadables","deleteDownloadable","downloadable","Downloadables","Logs","setLogs","fetchLogs","reverse","loggable","Stats","users","approved_requests","pending_requests","last_log","stats","setStats","fetchStats","password","phone","fetchUser","userID","setUsers","fetchUsers","deleteUser","profilePicture","setUser","profileURL","Users","Admin","AdminSidebar","icon","overflowX","link","Cashier","CashierSidebar","Profile","setProfileURL","changingProfile","removeClass","accept","Footer","bottom","Header","expiring","setExpiring","logout","clear","fetchExpiring","handle","clearInterval","aria-controls","copies","reason","refs","setRefs","types","setTypes","fetchTypes","createTask","feedback","setFeedback","sendFeedback","Applicant","ApplicantSidebar","Dashboard","data-color","data-active-color","AboutUs","Carousel","random","toString","substring","data-ride","data-slide","ContactUs","Description","Item","show","setShow","FAQs","chunks","last","color","isPreview","URLSearchParams","search","backgroundImage","backgroundPosition","backgroundSize","minHeight","maxHeight","zIndex","display","alignItems","justifyContent","Nav","logged","categories","color-on-scroll","data-placement","Landing","loaded","setLoaded","attr","Login","token","styles","body","textDecoration","Register","callable","password_confirmation","_setData","test","year","getUTCFullYear","mask","Track","App","verifyUser","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","prototype","_this","getOwnPropertyNames","stack","i","parseNumbers","parts","whole","decimals","defaults","baseURL","process","headers","common","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.bbc314e6.chunk.js","sourcesContent":["import toastr from 'toastr';\r\nimport _ from 'lodash';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport function outIf<T>(condition: boolean, output: T, defaultValue = ''): T {\r\n\treturn condition ? output : ((defaultValue as unknown) as T);\r\n}\r\n\r\nexport function ucfirst(string: string) {\r\n\tconst array = string.split('');\r\n\tarray[0] = array[0].toUpperCase();\r\n\treturn array.join('');\r\n}\r\n\r\nexport function ucwords(string: string) {\r\n\treturn string\r\n\t\t.split(' ')\r\n\t\t.map((word) => (word === 'Id' ? 'ID' : ucfirst(word)))\r\n\t\t.join(' ');\r\n}\r\n\r\nexport function handleError(error: any) {\r\n\tif (error.response) {\r\n\t\tconst response = error.response;\r\n\t\tif (response.data.message && response.status !== 422) {\r\n\t\t\ttoastr.error(response.data.message);\r\n\t\t} else if (response.status === 422) {\r\n\t\t\tObject.values(response.data.errors).forEach((errors: any) => errors.forEach((error: any) => toastr.error(error)));\r\n\t\t} else if (error.message) {\r\n\t\t\ttoastr.error(error.message);\r\n\t\t} else {\r\n\t\t\ttoastr.error('Something went wrong, please try again later.', 'Oops!');\r\n\t\t}\r\n\t} else if (error.message) {\r\n\t\ttoastr.error(error.message);\r\n\t}\r\n}\r\n\r\nexport function groupBy<T, K extends keyof T>(data: Array<T>, key: K) {\r\n\tconst temp: { [key: string]: Array<T> } = {};\r\n\r\n\tdata.forEach((item) => {\r\n\t\tconst property: any = item[key];\r\n\t\tif (!(property in temp)) {\r\n\t\t\ttemp[property] = [];\r\n\t\t}\r\n\t\ttemp[property].push(item);\r\n\t});\r\n\treturn Object.keys(temp).map((key) => temp[key]);\r\n}\r\n\r\nexport function createTableColumns(data: Array<any>) {\r\n\tif (data.length === 0) {\r\n\t\treturn [];\r\n\t}\r\n\r\n\treturn Object.keys(data[0]).map((key) => {\r\n\t\tswitch (key) {\r\n\t\t\tcase 'id':\r\n\t\t\t\treturn 'ID';\r\n\t\t\tcase 'createdAt':\r\n\t\t\t\treturn 'Date Requested';\r\n\t\t\tcase 'updatedAt':\r\n\t\t\t\treturn 'Date Modified';\r\n\t\t\tcase 'created_at':\r\n\t\t\t\treturn 'Date Requested';\r\n\t\t\tcase 'updated_at':\r\n\t\t\t\treturn 'Date Modified';\r\n\t\t\tdefault:\r\n\t\t\t\treturn sentencify(key);\r\n\t\t}\r\n\t});\r\n}\r\n\r\nexport function sentencify(words: string) {\r\n\treturn ucwords(_.snakeCase(words).split('_').join(' '));\r\n}\r\n\r\nexport function parseDate(date: string) {\r\n\treturn dayjs(date).fromNow();\r\n}\r\n\r\nexport function makeMask<T extends Function>(callable: T, callback: Function) {\r\n\treturn (((data: any) => {\r\n\t\treturn callable(callback(data));\r\n\t}) as unknown) as T;\r\n}\r\n\r\nexport function except<T, K extends keyof T>(data: T, keys: Array<K>) {\r\n\tconst copy = { ...data };\r\n\tfor (const key of keys) {\r\n\t\tif (key in copy) {\r\n\t\t\tdelete copy[key];\r\n\t\t}\r\n\t}\r\n\treturn copy;\r\n}\r\n\r\nexport function exceptMany<T, K extends keyof T>(data: Array<T>, keys: Array<K>) {\r\n\treturn [...data].map((item) => except(item, keys));\r\n}\r\n\r\nexport function orEqual<T>(data: T, keys: Array<T>) {\r\n\treturn keys.includes(data);\r\n}\r\n\r\nexport function only<T, K extends keyof T>(data: T, keys: Array<K>) {\r\n\tconst result = {} as T;\r\n\t(result as any)['id'] = (data as any)['id'];\r\n\tfor (const key of keys) {\r\n\t\tresult[key] = data[key];\r\n\t}\r\n\treturn result;\r\n}\r\n\r\nexport function onlyMany<T, K extends keyof T>(data: Array<T>, keys: Array<K>) {\r\n\treturn [...data].map((item) => only(item, keys));\r\n}\r\n\r\nconst formatter = new Intl.NumberFormat('en-PH', {\r\n\tstyle: 'currency',\r\n\tcurrency: 'PHP',\r\n});\r\n\r\nexport function formatCurrency(value: number) {\r\n\treturn formatter.format(value).replace(/\\D00(?=\\D*$)/, '');\r\n}\r\n","export const routes = {\r\n\tROOT: '/',\r\n\tLOGIN: '/login',\r\n\tREGISTER: '/register',\r\n\tDASHBOARD: '/dashboard',\r\n\tDOCUMENT_TYPES: '/document-types',\r\n\tUSERS: '/users',\r\n\tREQUESTS: {\r\n\t\tROOT: '/requests',\r\n\t\tARCHIVED: '/archived',\r\n\t\tINACTIVE: '/inactive',\r\n\t},\r\n\tPROFILE: '/profile',\r\n\tDOWNLOADABLES: '/downloadables',\r\n\tCMS: '/content-management',\r\n\tCONTACTS: '/contacts',\r\n\tTRACK_REQUEST: '/track-request',\r\n};\r\n","export type StorageItem = {\r\n\t[key: string]: any;\r\n};\r\n\r\nexport type ChangeEvent<T> = (value: T, thisArg?: State) => void;\r\n\r\nexport type Listeners = {\r\n\t[key: string]: Array<ChangeEvent<any>>;\r\n};\r\n\r\nexport class State {\r\n\tstorage: Storage;\r\n\tkey = 'pbbdtm-state-key';\r\n\tlisteners: Listeners = {};\r\n\r\n\tconstructor(key?: string) {\r\n\t\tthis.storage = window.localStorage;\r\n\t\tif (key) {\r\n\t\t\tthis.key = key;\r\n\t\t}\r\n\t\tconst data = this.getAll();\r\n\t\tthis.setAll(data);\r\n\t}\r\n\r\n\tclear() {\r\n\t\treturn this.setAll({});\r\n\t}\r\n\r\n\tgetAll(): StorageItem {\r\n\t\ttry {\r\n\t\t\tconst data = this.storage.getItem(this.key);\r\n\t\t\tif (!data) {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\tconst parsed = JSON.parse(data);\r\n\t\t\tif (typeof parsed !== 'object') {\r\n\t\t\t\treturn {};\r\n\t\t\t}\r\n\t\t\treturn parsed;\r\n\t\t} catch (error) {\r\n\t\t\treturn {};\r\n\t\t}\r\n\t}\r\n\r\n\tsetAll(data: StorageItem) {\r\n\t\tthis.storage.setItem(this.key, JSON.stringify(data));\r\n\t\treturn this;\r\n\t}\r\n\r\n\thas(key: string) {\r\n\t\treturn key in this.getAll();\r\n\t}\r\n\r\n\tget<T = any>(key: string): T {\r\n\t\treturn this.getAll()[key];\r\n\t}\r\n\r\n\tset(key: string, value: any) {\r\n\t\tconst data = this.getAll();\r\n\t\tdata[key] = value;\r\n\t\tthis.dispatch(key, value);\r\n\t\treturn this.setAll(data);\r\n\t}\r\n\r\n\tremove(key: string) {\r\n\t\tif (this.has(key)) {\r\n\t\t\tconst data = this.getAll();\r\n\t\t\tdelete data[key];\r\n\t\t\tthis.setAll(data);\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tdispatch<T>(key: string, value: T) {\r\n\t\tif (key in this.listeners) {\r\n\t\t\tthis.listeners[key].forEach((callback) => callback(value, this));\r\n\t\t}\r\n\t\treturn this;\r\n\t}\r\n\r\n\tlisten<T>(key: string, callback: ChangeEvent<T>) {\r\n\t\tif (!(key in this.listeners)) {\r\n\t\t\tthis.listeners[key] = [];\r\n\t\t}\r\n\t\treturn this.listeners[key].push(callback) - 1;\r\n\t}\r\n\r\n\tunlisten(key: string, index: number) {\r\n\t\tif (!(key in this.listeners)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.listeners[key].splice(index, 1);\r\n\t}\r\n}\r\n\r\nexport default new State();\r\n","import React from 'react';\r\n\r\ntype Props = {\r\n\turl: string;\r\n\tcurrent: number;\r\n\ttotal: number;\r\n\tlimit: number;\r\n\tonChange: (page: number) => void;\r\n};\r\n\r\nexport function Pagination({ url, current, total, limit, onChange }: Props) {\r\n\tconst realTotal = Math.ceil(total / limit);\r\n\tconst previousPage = current - 1;\r\n\tconst nextPage = current + 1;\r\n\tconst previousPageURL = `${url}?page=${previousPage}`;\r\n\tconst nextPageURL = `${url}?page=${nextPage}`;\r\n\tconst hasPreviousPage = previousPage >= 1;\r\n\tconst hasNextPage = nextPage <= realTotal;\r\n\r\n\tconst makeUrl = (page: number) => {\r\n\t\treturn `${url}?page=${page}`;\r\n\t};\r\n\r\n\tconst links = () => {\r\n\t\tconst links: Array<JSX.Element> = [];\r\n\t\tfor (let count = 1; count <= realTotal; count++) {\r\n\t\t\tlinks.push(\r\n\t\t\t\t<li key={count} className={`page-item ${count === current ? 'active' : ''}`}>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName='page-link'\r\n\t\t\t\t\t\thref={makeUrl(count)}\r\n\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tonChange(count);\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{count} {count === current ? <span className='sr-only'>(current)</span> : null}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn links;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<nav aria-label='...'>\r\n\t\t\t<ul className='pagination justify-content-end mb-0'>\r\n\t\t\t\t<li className={`page-item ${!hasPreviousPage ? 'disabled' : ''}`}>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName='page-link'\r\n\t\t\t\t\t\thref={previousPageURL}\r\n\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\t\thasPreviousPage ? onChange(previousPage) : null;\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<i className='fas fa-angle-left'></i>\r\n\t\t\t\t\t\t<span className='sr-only'>Previous</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t\t{links()}\r\n\t\t\t\t<li className={`page-item ${!hasNextPage ? 'disabled' : ''}`}>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\tclassName='page-link'\r\n\t\t\t\t\t\thref={nextPageURL}\r\n\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t// eslint-disable-next-line\r\n\t\t\t\t\t\t\thasNextPage ? onChange(nextPage) : null;\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t<i className='fas fa-angle-right'></i>\r\n\t\t\t\t\t\t<span className='sr-only'>Next</span>\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport pluralize from 'pluralize';\r\nimport { useRouteMatch } from 'react-router-dom';\r\nimport { Pagination } from './Pagination';\r\nimport _ from 'lodash';\r\nimport { createTableColumns, outIf, parseDate, sentencify } from '../../helpers';\r\nimport { State } from '../../state';\r\n\r\ntype Props<T> = {\r\n\ttitle: string;\r\n\ttheme?: 'light' | 'dark';\r\n\tcolumns?: Array<string>;\r\n\tdata: Array<T>;\r\n\tonViewClick: (data: T) => void;\r\n\tonEditClick: (data: T) => void;\r\n\tonRefreshClick: () => void;\r\n\tonAddClick: () => void;\r\n\tonDeleteConfirm: (data: T) => void;\r\n\tprocessing: boolean;\r\n\twithAction: boolean;\r\n\tpagination: boolean;\r\n\tborder?: boolean;\r\n\tdontShowDelete?: boolean;\r\n\tdontShowEdit?: boolean;\r\n\tdontShowView?: boolean;\r\n\tdisableAddButton?: boolean;\r\n};\r\n\r\nexport function Table<T>({\r\n\ttitle,\r\n\ttheme,\r\n\tcolumns,\r\n\tdata,\r\n\tonViewClick,\r\n\tonEditClick,\r\n\tonDeleteConfirm,\r\n\tonRefreshClick,\r\n\tprocessing,\r\n\tonAddClick,\r\n\twithAction,\r\n\tpagination,\r\n\tborder,\r\n\tdontShowView,\r\n\tdontShowEdit,\r\n\tdontShowDelete,\r\n\tdisableAddButton,\r\n}: Props<T>) {\r\n\tconst headColumns = columns || createTableColumns(data);\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst state = new State(_.kebabCase(title.toLowerCase() + '-table'));\r\n\r\n\tconst total = data.length;\r\n\tconst page = state.has('page') ? state.get('page') : 1;\r\n\r\n\tconst [interval, setInterval] = useState(state.has('perPage') ? state.get<number>('perPage') : 10);\r\n\tif (page > Math.ceil(total / interval) && state.has('page')) {\r\n\t\tstate.set('page', 1);\r\n\t}\r\n\tconst [current, setCurrent] = useState(page <= Math.ceil(total / interval) ? page : 1);\r\n\tconst pageKey = state.listen<number>('page', (page) => setCurrent(page));\r\n\tconst [formInterval, setFormInterval] = useState(interval);\r\n\tconst [options, setOptions] = useState(false);\r\n\r\n\tconst intervalKey = state.listen<number>('perPage', (perPage) => {\r\n\t\tif (current > Math.ceil(total / perPage)) {\r\n\t\t\tstate.set('page', 1);\r\n\t\t}\r\n\t\tsetInterval(perPage);\r\n\t});\r\n\r\n\tuseEffect(\r\n\t\t() => () => {\r\n\t\t\tstate.unlisten('page', pageKey);\r\n\t\t\tstate.unlisten('perPage', intervalKey);\r\n\t\t},\r\n\t\t// eslint-disable-next-line\r\n\t\t[]\r\n\t);\r\n\r\n\tconst offset = (current - 1) * interval;\r\n\r\n\tconst paginatedData: Array<any> = [];\r\n\r\n\tfor (let count = offset; count < offset + interval; count++) {\r\n\t\tif (typeof data[count] !== 'undefined') {\r\n\t\t\tpaginatedData.push(data[count]);\r\n\t\t}\r\n\t}\r\n\r\n\tconst displayData = pagination ? paginatedData : data;\r\n\r\n\treturn (\r\n\t\t<div className='row'>\r\n\t\t\t<div className='col-12'>\r\n\t\t\t\t<div className={`card ${border ? 'border' : ''} w-100`}>\r\n\t\t\t\t\t<div className='card-header border-0'>\r\n\t\t\t\t\t\t<div className='d-flex'>\r\n\t\t\t\t\t\t\t<h3 className='mb-0 align-self-center'>{title}</h3>\r\n\t\t\t\t\t\t\t<div className='ml-auto align-self-center d-flex'>\r\n\t\t\t\t\t\t\t\t{withAction && (disableAddButton === undefined || disableAddButton === false) ? (\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tclassName={`fas fa-plus clickable d-block align-self-center m-1 text-warning`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onAddClick()}></i>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{withAction ? (\r\n\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\tclassName={`fas fa-redo-alt clickable d-block align-self-center m-1 text-info ${\r\n\t\t\t\t\t\t\t\t\t\t\tprocessing ? 'fa-spin' : ''\r\n\t\t\t\t\t\t\t\t\t\t}`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => onRefreshClick()}></i>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{pagination ? (\r\n\t\t\t\t\t\t\t<div className='mt-4'>\r\n\t\t\t\t\t\t\t\t<div className='py-2'>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-${!options ? 'primary' : 'danger'} btn-sm`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tsetOptions(!options);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t{!options ? 'Show' : 'Hide'} Options\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{options ? (\r\n\t\t\t\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\t\t\t\tclassName='form-inline'\r\n\t\t\t\t\t\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tstate.set('perPage', formInterval >= 1 ? formInterval : 10);\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='form-group p-1'>\r\n\t\t\t\t\t\t\t\t\t\t\t<label htmlFor='perPage' className='mr-2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tRows per Page:\r\n\t\t\t\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype='number'\r\n\t\t\t\t\t\t\t\t\t\t\t\tname='perPage'\r\n\t\t\t\t\t\t\t\t\t\t\t\tid='perPage'\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder='Per Page'\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={formInterval}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setFormInterval(Number(e.target.value))}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className='form-group p-1'>\r\n\t\t\t\t\t\t\t\t\t\t\t<button type='submit' className='btn btn-warning btn-sm'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tChange\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t<div className='text-center'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t{displayData.length > 0 ? (\r\n\t\t\t\t\t\t\t\t<div className='table-responsive' style={{ overflowY: 'hidden' }}>\r\n\t\t\t\t\t\t\t\t\t<table className={`table table-sm`}>\r\n\t\t\t\t\t\t\t\t\t\t<thead className='text-primary'>\r\n\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{headColumns.map((column, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='sort text-center'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-sort={column.toLowerCase()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope='col'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{column}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{withAction ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope='col' className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tActions\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t{displayData.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{Object.entries(item).map(([key, entry], index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td key={index} className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{key === 'updatedAt' || key === 'createdAt'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? parseDate(entry as string)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (entry as any)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{withAction ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='dropdown'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-sm btn-icon-only text-light'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-toggle='dropdown'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-haspopup='true'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-expanded='false'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='fas fa-ellipsis-v'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='dropdown-menu dropdown-menu-right dropdown-menu-arrow'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{outIf(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdontShowView === undefined || dontShowView === false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className='dropdown-item' onClick={() => onViewClick(item)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='ni ni-active-40 text-info'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{outIf(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdontShowEdit === undefined || dontShowEdit === false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className='dropdown-item' onClick={() => onEditClick(item)}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='ni ni-ruler-pencil text-warning'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{outIf(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdontShowDelete === undefined || dontShowDelete === false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-toggle='modal'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-target={`#deleteModal${index}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='dropdown-item'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='ni ni-fat-delete text-danger'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t{displayData.length >= 10 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<thead className='text-primary'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{headColumns.map((column, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='sort text-center'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-sort={column.toLowerCase()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope='col'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{column}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{withAction ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<th scope='col' className='text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tActions\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t{withAction\r\n\t\t\t\t\t\t\t\t\t\t? displayData.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='modal fade'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={`deleteModal${index}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trole='dialog'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-labelledby={`deleteModalLabel${index}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taria-hidden='true'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteModalLabel${index}`}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete {pluralize.singular(title)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='close'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-dismiss='modal'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label='Close'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='modal-body'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tAre you sure you want to delete this {pluralize.singular(sentencify(title))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst modal = $(`#deleteModal${index}`);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodal.on('hidden.bs.modal', () => onDeleteConfirm(item));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmodal.modal('hide');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-secondary btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata-dismiss='modal'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t\t\t\t\t: null}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t\t<h3 className='text-center'>No Data</h3>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t{pagination ? (\r\n\t\t\t\t\t\t<div className='card-footer py-4'>\r\n\t\t\t\t\t\t\t{displayData.length > 0 && Math.ceil(total / interval) > 1 ? (\r\n\t\t\t\t\t\t\t\t<Pagination\r\n\t\t\t\t\t\t\t\t\turl={match.path}\r\n\t\t\t\t\t\t\t\t\tcurrent={current}\r\n\t\t\t\t\t\t\t\t\ttotal={total}\r\n\t\t\t\t\t\t\t\t\tlimit={interval}\r\n\t\t\t\t\t\t\t\t\tonChange={(page) => {\r\n\t\t\t\t\t\t\t\t\t\tstate.set('page', page);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport { outIf } from '../helpers';\r\nimport toastr from 'toastr';\r\nimport { useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { Request } from '../contracts/Request';\r\nimport state from '../state';\r\nimport { User } from '../contracts/User';\r\nimport { routes } from '../routes';\r\n\r\ntype Props = {\r\n\tclassName?: string;\r\n};\r\n\r\nexport function TrackRequest(props: Props) {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [id, setID] = useState('');\r\n\tconst history = useHistory();\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\tconst submit = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<Request>>('/requests');\r\n\t\t\tconst request = data.find((request) => request.request_id.includes(id) || request.request_id === id);\r\n\t\t\tif (request && (!state.has('logged') || !state.get('logged') || state.get('user') === undefined)) {\r\n\t\t\t\treturn history.push(`${routes.TRACK_REQUEST}/${request.id}`);\r\n\t\t\t}\r\n\t\t\tif (!request || (user.role === 'Applicant' && request.user_id !== user.id)) {\r\n\t\t\t\treturn toastr.info('Request ID is invalid.', 'Notice');\r\n\t\t\t}\r\n\t\t\thistory.push(`/dashboard/requests/${request.id}`);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to verify request ID.', 'Oops!');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`card shadow ${props.className}`}>\r\n\t\t\t<div className='card-body'>\r\n\t\t\t\t<form\r\n\t\t\t\t\tclassName='form-inline'\r\n\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tplaceholder='Request ID'\r\n\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\tvalue={id}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetID(e.target.value.trim());\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<button type='submit' className={`btn btn-warning ${outIf(processing, 'disabled')}`} disabled={processing}>\r\n\t\t\t\t\t\t\t{processing ? 'Processing' : 'Track Request'}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { FC, useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { AcknowledgedDate, Request } from '../../../contracts/Request';\r\nimport { createTableColumns, exceptMany, handleError, ucfirst } from '../../../helpers';\r\nimport { Table } from '../Table';\r\nimport toastr from 'toastr';\r\nimport dayjs from 'dayjs';\r\nimport state from '../../../state';\r\nimport { User } from '../../../contracts/User';\r\nimport { TrackRequest } from '../../TrackRequest';\r\nimport axios from 'axios';\r\nimport { routes } from '../../../routes';\r\n\r\ntype Props = {};\r\n\r\nconst Requests: FC<Props> = () => {\r\n\tconst [requests, setRequests] = useState<Array<Request>>([]);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst match = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst path = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst readOnly = match.path.includes(routes.REQUESTS.INACTIVE) || match.path.includes(routes.REQUESTS.ARCHIVED);\r\n\r\n\tconst fetchRequests = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<Request>>('/requests');\r\n\t\t\tif (match.path.includes(routes.REQUESTS.INACTIVE)) {\r\n\t\t\t\treturn setRequests(\r\n\t\t\t\t\texceptMany(data, [\r\n\t\t\t\t\t\t'file',\r\n\t\t\t\t\t\t'file_id',\r\n\t\t\t\t\t\t'user_id',\r\n\t\t\t\t\t\t'document_type_id',\r\n\t\t\t\t\t\t'tasks',\r\n\t\t\t\t\t\t'status',\r\n\t\t\t\t\t\t'acknowledged',\r\n\t\t\t\t\t\t'expired',\r\n\t\t\t\t\t\t'files',\r\n\t\t\t\t\t\t'for',\r\n\t\t\t\t\t\t'evaluation',\r\n\t\t\t\t\t\t'acknowledged_dates',\r\n\t\t\t\t\t]).filter((request) => request.expired)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tif (match.path.includes(routes.REQUESTS.ARCHIVED)) {\r\n\t\t\t\treturn setRequests(\r\n\t\t\t\t\texceptMany(data, [\r\n\t\t\t\t\t\t'file',\r\n\t\t\t\t\t\t'file_id',\r\n\t\t\t\t\t\t'user_id',\r\n\t\t\t\t\t\t'document_type_id',\r\n\t\t\t\t\t\t'tasks',\r\n\t\t\t\t\t\t'status',\r\n\t\t\t\t\t\t'acknowledged',\r\n\t\t\t\t\t\t'expired',\r\n\t\t\t\t\t\t'files',\r\n\t\t\t\t\t\t'for',\r\n\t\t\t\t\t\t'evaluation',\r\n\t\t\t\t\t\t'acknowledged_dates',\r\n\t\t\t\t\t]).filter((request) => request.approved)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\tsetRequests(\r\n\t\t\t\texceptMany(data, ['file', 'file_id', 'user_id', 'document_type_id', 'tasks', 'files', 'for', 'acknowledged_dates'])\r\n\t\t\t);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch requests.');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteRequest = async (id: any) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/requests?id=${id}`);\r\n\t\t\ttoastr.success('Request deleted successfully.');\r\n\t\t\tawait fetchRequests();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\thandleError(error);\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\tconst filterToRole = (requests: Array<Request>) => {\r\n\t\tswitch (user.role) {\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn requests;\r\n\t\t\tcase 'Cashier':\r\n\t\t\t\treturn requests.filter((request) => request.status === 'Payment');\r\n\t\t\tcase 'Evaluation':\r\n\t\t\t\treturn requests.filter((request) => request.status === 'Evaluating');\r\n\t\t\tcase 'Director':\r\n\t\t\t\treturn requests.filter((request) => !request.for || request.for !== 'Registrar');\r\n\t\t\tcase 'Registrar':\r\n\t\t\t\treturn requests.filter((request) => !request.for || request.for !== 'Director');\r\n\t\t\tcase 'Releasing':\r\n\t\t\t\treturn requests.filter((request) => request.status === 'Signed' || request.status === 'Releasing');\r\n\t\t\tcase 'Applicant':\r\n\t\t\t\treturn requests.filter((request) => request.user_id === user.id);\r\n\t\t}\r\n\t};\r\n\r\n\tconst isAcknowledgable = (request: Request) => {\r\n\t\tswitch (request.status) {\r\n\t\t\tcase 'Received':\r\n\t\t\t\treturn user.role === 'Admin';\r\n\t\t\tcase 'Payment':\r\n\t\t\t\treturn user.role === 'Cashier';\r\n\t\t\tcase 'Evaluating':\r\n\t\t\t\treturn user.role === 'Evaluation';\r\n\t\t\tcase 'Evaluated':\r\n\t\t\t\treturn user.role === 'Registrar' || user.role === 'Director';\r\n\t\t\tcase 'Signed':\r\n\t\t\t\treturn user.role === 'Releasing';\r\n\t\t\tdefault:\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderAcknowledged = (request: Request) => {\r\n\t\tif (isAcknowledgable(request)) {\r\n\t\t\treturn request.acknowledged ? (\r\n\t\t\t\t<button className='btn btn-warning btn-sm disabled' disabled>\r\n\t\t\t\t\tDone\r\n\t\t\t\t</button>\r\n\t\t\t) : (\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\te.currentTarget.setAttribute('disabled', 'true');\r\n\t\t\t\t\t\te.currentTarget.classList.add('disabled');\r\n\t\t\t\t\t\te.currentTarget.textContent = 'Acknowledging...';\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tconst { data } = await axios.get(`/requests/show?id=${request.id}`);\r\n\t\t\t\t\t\t\tconst dates = Array.from<AcknowledgedDate>(JSON.parse(data.acknowledged_dates));\r\n\t\t\t\t\t\t\tdates.push({ date: new Date().toJSON(), status: data.status });\r\n\r\n\t\t\t\t\t\t\tif (user.role === 'Releasing') {\r\n\t\t\t\t\t\t\t\tdates.push({ date: new Date().toJSON(), status: 'Releasing' });\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tawait axios.put(`/requests?id=${data.id}`, {\r\n\t\t\t\t\t\t\t\tacknowledged: true,\r\n\t\t\t\t\t\t\t\tacknowledged_dates: JSON.stringify(dates),\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\ttoastr.info('Request acknowledged.', 'Notice');\r\n\t\t\t\t\t\t\tawait fetchRequests();\r\n\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\tconsole.log(error.toJSON(), request);\r\n\t\t\t\t\t\t\ttoastr.error('Unable to acknowledge request.');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tAcknowledge\r\n\t\t\t\t</button>\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn request.acknowledged ? <span className='badge badge-green'>Yes</span> : <span className='badge badge-red'>No</span>;\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchRequests();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TrackRequest />\r\n\t\t\t<Table\r\n\t\t\t\ttitle={(() => {\r\n\t\t\t\t\tif (!readOnly) {\r\n\t\t\t\t\t\treturn 'Requests';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst fragments = match.path.split('/');\r\n\t\t\t\t\treturn `${ucfirst(fragments[fragments.length - 1])} Requests`;\r\n\t\t\t\t})()}\r\n\t\t\t\tcolumns={createTableColumns(requests)}\r\n\t\t\t\tdata={filterToRole(requests)\r\n\t\t\t\t\t.map((request) => ({\r\n\t\t\t\t\t\t...request,\r\n\t\t\t\t\t\tcreated_at: dayjs(request.created_at).format('MMMM DD, YYYY hh:mm A'),\r\n\t\t\t\t\t\tupdated_at: dayjs(request.updated_at).format('MMMM DD, YYYY hh:mm A'),\r\n\t\t\t\t\t\tuser: request.user!.name,\r\n\t\t\t\t\t\tdocumentType: request.documentType!.name,\r\n\t\t\t\t\t\tapproved: request.approved ? (\r\n\t\t\t\t\t\t\t<span className='badge badge-green'>Yes</span>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<span className='badge badge-red'>No</span>\r\n\t\t\t\t\t\t),\r\n\t\t\t\t\t\tacknowledged:\r\n\t\t\t\t\t\t\t!match.path.includes(routes.REQUESTS.ARCHIVED) && !match.path.includes(routes.REQUESTS.INACTIVE)\r\n\t\t\t\t\t\t\t\t? renderAcknowledged(request)\r\n\t\t\t\t\t\t\t\t: '',\r\n\t\t\t\t\t\tevaluation: request.evaluation ? request.evaluation : '',\r\n\t\t\t\t\t}))\r\n\t\t\t\t\t.map((request) => {\r\n\t\t\t\t\t\tif (!match.path.includes(routes.REQUESTS.ARCHIVED) && !match.path.includes(routes.REQUESTS.INACTIVE)) {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t...request,\r\n\t\t\t\t\t\t\t\texpired: request.expired ? (\r\n\t\t\t\t\t\t\t\t\t<span className='badge badge-red'>Yes</span>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span className='badge badge-green'>No</span>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\tstatus: request.acknowledged ? (\r\n\t\t\t\t\t\t\t\t\t<span className='badge badge-green'>{request.status}</span>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<span className='badge badge-danger'>Pending</span>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn request;\r\n\t\t\t\t\t})}\r\n\t\t\t\tprocessing={processing}\r\n\t\t\t\tonAddClick={() => history.push(path('add'))}\r\n\t\t\t\tonViewClick={({ id }) => {\r\n\t\t\t\t\thistory.push(path(`${id}`));\r\n\t\t\t\t}}\r\n\t\t\t\tonEditClick={({ id }) => {\r\n\t\t\t\t\thistory.push(path(`${id}/edit`));\r\n\t\t\t\t}}\r\n\t\t\t\tonDeleteConfirm={({ id }) => {\r\n\t\t\t\t\tdeleteRequest(id);\r\n\t\t\t\t}}\r\n\t\t\t\tonRefreshClick={fetchRequests}\r\n\t\t\t\twithAction={!readOnly}\r\n\t\t\t\tpagination={true}\r\n\t\t\t\tdontShowView={user.role === 'Applicant' || readOnly}\r\n\t\t\t\tdontShowDelete={user.role === 'Applicant' || readOnly}\r\n\t\t\t\tdisableAddButton={user.role !== 'Applicant' || readOnly}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Requests;\r\n","import React, { FC } from 'react';\r\nimport Requests from './Requests';\r\n\r\ntype Props = {};\r\n\r\nconst Archived: FC<Props> = (props) => {\r\n\treturn <Requests />;\r\n};\r\n\r\nexport default Archived;\r\n","export const statuses = ['Received', 'Payment', 'Evaluating', 'Evaluated', 'Signed', 'Releasing', 'Released'] as Array<RequestStatus>;\r\n","import axios from 'axios';\r\nimport React, { ChangeEvent, createRef, useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { statuses } from '../../../constants';\r\nimport { Request } from '../../../contracts/Request';\r\nimport { User } from '../../../contracts/User';\r\nimport { handleError, outIf } from '../../../helpers';\r\nimport toastr from 'toastr';\r\nimport state from '../../../state';\r\n\r\nexport function Form() {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst user = state.get<User>('user');\r\n\tconst [data, setData] = useState<any>({\r\n\t\tdocument_type_id: -1,\r\n\t\tapproved: false,\r\n\t\tstatus: 'Received',\r\n\t\tuser_id: user.id,\r\n\t\tfile_id: null,\r\n\t\tuser: {\r\n\t\t\tname: user.role === 'Applicant' ? user.name : 'N\\\\A',\r\n\t\t},\r\n\t\tdocumentType: {\r\n\t\t\tname: 'N\\\\A',\r\n\t\t},\r\n\t\tacknowledged_dates: JSON.stringify([]),\r\n\t});\r\n\tconst [file, setFile] = useState<File | null>(null);\r\n\r\n\tconst fileRef = createRef<HTMLInputElement>();\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n\t\tconst { id, value } = e.target;\r\n\t\tsetData({\r\n\t\t\t...data,\r\n\t\t\t[id]: value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst { params, path } = useRouteMatch<{ id: string }>();\r\n\r\n\tconst fetchRequest = async () => {\r\n\t\tconst id = params.id;\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get(`/requests/show?id=${id}`);\r\n\t\t\tsetData({\r\n\t\t\t\t...response.data,\r\n\t\t\t\tfile: null,\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch request.');\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (path.includes('edit')) {\r\n\t\t\tfetchRequest();\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst submit = async () => {\r\n\t\tif (processing) return;\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst payload = new FormData();\r\n\t\t\tpayload.append('_method', 'PUT');\r\n\r\n\t\t\tif (file) {\r\n\t\t\t\tdata.file = file;\r\n\t\t\t}\r\n\r\n\t\t\tfor (const key of ['documentType', 'logs', 'files', 'tasks', 'user', 'evaluation', 'expired']) {\r\n\t\t\t\tdelete data[key];\r\n\t\t\t}\r\n\r\n\t\t\tfor (const key in data) {\r\n\t\t\t\tconst value = data[key];\r\n\t\t\t\tpayload.append(key, value);\r\n\t\t\t}\r\n\r\n\t\t\tawait axios.post<Request>('/requests', payload);\r\n\t\t\ttoastr.success('Request updated successfully.');\r\n\t\t\tsetFile(null);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst getUserStatusables = (): Array<RequestStatus> => {\r\n\t\tswitch (user.role) {\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn ['Received', 'Payment', 'Evaluating', 'Evaluated', 'Signed', 'Releasing', 'Released'];\r\n\t\t\tcase 'Registrar':\r\n\t\t\t\treturn ['Received', 'Payment', 'Evaluating', 'Evaluated', 'Signed', 'Releasing', 'Released'];\r\n\t\t\tcase 'Director':\r\n\t\t\t\treturn ['Received', 'Payment', 'Evaluating', 'Evaluated', 'Signed', 'Releasing', 'Released'];\r\n\t\t\tcase 'Cashier':\r\n\t\t\t\treturn ['Payment', 'Evaluating'];\r\n\t\t\tcase 'Evaluation':\r\n\t\t\t\treturn ['Signed', 'Released'];\r\n\t\t\tcase 'Releasing':\r\n\t\t\t\treturn ['Releasing', 'Released'];\r\n\t\t\tdefault:\r\n\t\t\t\treturn [];\r\n\t\t}\r\n\t};\r\n\r\n\tconst statusables = getUserStatusables();\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='container'\r\n\t\t\tonSubmit={async (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tawait submit();\r\n\t\t\t}}>\r\n\t\t\t<div className='d-flex'>\r\n\t\t\t\t<h3 className='align-self-center mb-0'>Update Request</h3>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tBack\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='document_type_id'>Document Type</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='document_type_id'\r\n\t\t\t\t\tid='document_type_id'\r\n\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\tdisabled={user.role !== 'Applicant'}>\r\n\t\t\t\t\t<option value={data.documentType?.name}>{data.documentType?.name}</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='user_id'>User</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='user_id'\r\n\t\t\t\t\tid='user_id'\r\n\t\t\t\t\tplaceholder='User'\r\n\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\tdisabled={user.role !== 'Applicant'}>\r\n\t\t\t\t\t<option value={data.user?.name}>{data.user?.name}</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='status'>Status</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='status'\r\n\t\t\t\t\tid='status'\r\n\t\t\t\t\tplaceholder='Status'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tvalue={data.status}>\r\n\t\t\t\t\t<option value=''> -- Select -- </option>\r\n\t\t\t\t\t{statuses\r\n\t\t\t\t\t\t.filter((status) => statusables.includes(status))\r\n\t\t\t\t\t\t.map((status, index) => (\r\n\t\t\t\t\t\t\t<option value={status} key={index}>\r\n\t\t\t\t\t\t\t\t{status}\r\n\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='approved'>Approved</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='approved'\r\n\t\t\t\t\tid='approved'\r\n\t\t\t\t\tplaceholder='Approved'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing || (user.role !== 'Admin' && user.role !== 'Releasing')}\r\n\t\t\t\t\tvalue={data.approved ? 'Yes' : 'No'}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tif (user.role === 'Admin' || user.role === 'Releasing') {\r\n\t\t\t\t\t\t\tif (e.target.value === 'Yes') {\r\n\t\t\t\t\t\t\t\tsetData({\r\n\t\t\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\t\t\tapproved: true,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tsetData({\r\n\t\t\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\t\t\tapproved: false,\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t<option value='Yes'>Yes</option>\r\n\t\t\t\t\t<option value='No'>No</option>\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t{data.approved ? (\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName={`btn btn-warning btn-sm ${outIf(processing || file !== null, 'disabled')}`}\r\n\t\t\t\t\t\tdisabled={processing || (user.role !== 'Admin' && user.role !== 'Releasing') || file !== null}\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tfileRef.current?.click();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{file !== null ? 'File Uploaded' : 'Upload File (if applicable)'}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\tid='file'\r\n\t\t\t\t\t\tname='file'\r\n\t\t\t\t\t\tplaceholder='File'\r\n\t\t\t\t\t\tclassName={`form-control form-control-sm d-none`}\r\n\t\t\t\t\t\tdisabled={processing || (user.role !== 'Admin' && user.role !== 'Releasing') || file !== null}\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tif ((user.role === 'Admin' || user.role === 'Releasing') && e.target.files && e.target.files.length > 0) {\r\n\t\t\t\t\t\t\t\tsetFile(e.target.files[0]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\r\n\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Save'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import React, { FC } from 'react';\r\nimport Requests from './Requests';\r\n\r\ntype Props = {};\r\n\r\nconst Inactive: FC<Props> = (props) => {\r\n\treturn <Requests />;\r\n};\r\n\r\nexport default Inactive;\r\n","import React from 'react';\r\nimport Requests from './Requests';\r\n\r\nexport function List() {\r\n\treturn <Requests />;\r\n}\r\n","import React, { FC } from 'react';\r\nimport 'react-quill/dist/quill.snow.css';\r\nimport ReactQuill from 'react-quill';\r\n\r\ntype Props = {\r\n\tonChange?: (content: string) => void;\r\n\tvalue: string;\r\n};\r\n\r\nconst Quill: FC<Props> = ({ onChange, value }) => {\r\n\treturn <ReactQuill onChange={onChange} value={value} />;\r\n};\r\n\r\nexport default Quill;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { AcknowledgedDate, Request } from '../../../contracts/Request';\r\nimport { handleError, outIf } from '../../../helpers';\r\nimport toastr from 'toastr';\r\nimport { statuses } from '../../../constants';\r\nimport state from '../../../state';\r\nimport { User } from '../../../contracts/User';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport { Task } from '../../../contracts/Task';\r\nimport Quill from '../Quill';\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport function View() {\r\n\tconst [request, setRequest] = useState<Request | null>(null);\r\n\tconst history = useHistory();\r\n\tconst [updating, setUpdating] = useState(false);\r\n\tconst [currentStatus, setCurrentStatus] = useState('Registrar');\r\n\tconst [smsMessage, setSmsMessage] = useState('');\r\n\tconst [emailMessage, setEmailMessage] = useState('<p>Hello World</p>');\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\tconst fetchRequest = async (requestID: string) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Request>(`/requests/show?id=${requestID}`);\r\n\t\t\tsetRequest(data);\r\n\t\t\tsetSmsMessage(\r\n\t\t\t\t`Your Request (ID: ${data.request_id}) has been updated to ${getNextStatus(user.role)}. ${\r\n\t\t\t\t\twindow.location.origin\r\n\t\t\t\t}/dashboard/requests/${data.id}`\r\n\t\t\t);\r\n\t\t\tsetEmailMessage(`\r\n                <div>\r\n                    <p>Hi ${data.user?.name}!</p>\r\n                    <p>Your request (ID: ${data.request_id}) is updated to: <b>${getNextStatus(user.role)}</b></p>\r\n                    <p>Last Updater: ${user.name}</p>\r\n                    <p>Date Updated: ${dayjs().format('MMMM DD, YYYY')}</p>\r\n                </div>\r\n            `);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst markTask = async (task: Task, done: boolean) => {\r\n\t\ttry {\r\n\t\t\tawait axios.put('/requests/tasks', {\r\n\t\t\t\t...task,\r\n\t\t\t\tdone,\r\n\t\t\t\tname: user.name,\r\n\t\t\t});\r\n\t\t\ttoastr.info('Task updated.', 'Notice');\r\n\t\t\tfetchRequest(`${request?.id}`);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to update task.', 'Oops!');\r\n\t\t}\r\n\t};\r\n\r\n\tlet deleting = false;\r\n\r\n\tconst deleteRequest = async () => {\r\n\t\tif (deleting) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdeleting = true;\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/requests?id=${request?.id}`);\r\n\t\t\ttoastr.success('Request deleted successfully.');\r\n\t\t\thistory.goBack();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tdeleting = false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst makeStatuses = (status: RequestStatus) => {\r\n\t\tconst level = ((status) => {\r\n\t\t\tswitch (status) {\r\n\t\t\t\tcase 'Received':\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase 'Payment':\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tcase 'Evaluating':\r\n\t\t\t\t\treturn 3;\r\n\t\t\t\tcase 'Evaluated':\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase 'Signed':\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase 'Releasing':\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase 'Released':\r\n\t\t\t\t\treturn 5;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t})(status);\r\n\r\n\t\treturn {\r\n\t\t\tstatuses: statuses.filter((status) => !['Released', 'Evaluated'].includes(status)),\r\n\t\t\tlevel,\r\n\t\t};\r\n\t};\r\n\r\n\tconst { params } = useRouteMatch<{ id: string }>();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchRequest(params.id);\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst next = ((role) => {\r\n\t\tswitch (role) {\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn 'Forward for payment to Cashier';\r\n\t\t\tcase 'Cashier':\r\n\t\t\t\treturn 'Mark as paid and forward to Evaluation';\r\n\t\t\tcase 'Evaluation':\r\n\t\t\t\treturn 'Forward to Signing';\r\n\t\t\tcase 'Director':\r\n\t\t\t\treturn 'Mark as ready for releasing and forward to Releasing';\r\n\t\t\tcase 'Registrar':\r\n\t\t\t\treturn 'Mark as ready for releasing and forward to Releasing';\r\n\t\t\tcase 'Releasing':\r\n\t\t\t\treturn 'Notify client for document release';\r\n\t\t\tdefault:\r\n\t\t\t\treturn '';\r\n\t\t}\r\n\t})(user.role);\r\n\r\n\tconst forward = async (assignedRole?: string) => {\r\n\t\tsetUpdating(true);\r\n\t\tconst data: any = {};\r\n\t\ttry {\r\n\t\t\tconst status: RequestStatus = ((role) => {\r\n\t\t\t\tif (assignedRole) {\r\n\t\t\t\t\tdata.for = assignedRole;\r\n\t\t\t\t}\r\n\t\t\t\treturn getNextStatus(role);\r\n\t\t\t})(user.role);\r\n\r\n\t\t\tif (['Registrar', 'Director'].includes(user.role)) {\r\n\t\t\t\tconst { data: req } = await axios.get(`/requests/show?id=${request?.id}`);\r\n\t\t\t\tconst dates = Array.from<AcknowledgedDate>(JSON.parse(req.acknowledged_dates));\r\n\r\n\t\t\t\tdates.push({ date: new Date().toJSON(), status: 'Signed' });\r\n\r\n\t\t\t\tdata.acknowledged_dates = JSON.stringify(dates);\r\n\t\t\t}\r\n\r\n\t\t\tawait axios.put(`/requests?id=${request?.id}`, {\r\n\t\t\t\t...data,\r\n\t\t\t\tstatus,\r\n\t\t\t\tacknowledged: ['Releasing', 'Released'].includes(status),\r\n\t\t\t\tsms_message: smsMessage,\r\n\t\t\t\temail_message: emailMessage,\r\n\t\t\t});\r\n\t\t\ttoastr.info('Request has been updated and forwarded.', 'Notice');\r\n\t\t\thistory.goBack();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Something went wrong, please try again later.', 'Unable to forward');\r\n\t\t} finally {\r\n\t\t\tsetUpdating(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst getNextStatus = (role: Roles) => {\r\n\t\tswitch (role) {\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn 'Payment';\r\n\t\t\tcase 'Cashier':\r\n\t\t\t\treturn 'Evaluating';\r\n\t\t\tcase 'Evaluation':\r\n\t\t\t\treturn 'Evaluated';\r\n\t\t\tcase 'Director':\r\n\t\t\t\treturn 'Signed';\r\n\t\t\tcase 'Registrar':\r\n\t\t\t\treturn 'Signed';\r\n\t\t\tcase 'Releasing':\r\n\t\t\t\treturn 'Releasing';\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error(`Invalid role. ${role}`);\r\n\t\t}\r\n\t};\r\n\r\n\tconst isForwardable = () => {\r\n\t\tswitch (user.role) {\r\n\t\t\tcase 'Admin':\r\n\t\t\t\treturn request?.status === 'Received';\r\n\t\t\tcase 'Cashier':\r\n\t\t\t\treturn request?.status === 'Payment';\r\n\t\t\tcase 'Evaluation':\r\n\t\t\t\treturn request?.status === 'Evaluating';\r\n\t\t\tcase 'Director':\r\n\t\t\t\treturn request?.status === 'Evaluated';\r\n\t\t\tcase 'Registrar':\r\n\t\t\t\treturn request?.status === 'Evaluated';\r\n\t\t\tcase 'Releasing':\r\n\t\t\t\treturn request?.status === 'Signed';\r\n\t\t}\r\n\t};\r\n\r\n\tconst origin = window.location.origin;\r\n\tconst exportToPDF = async () => {\r\n\t\ttoastr.info('Printing. Please wait.');\r\n\t\tconst card = $(String($('#request-card')[0].innerHTML));\r\n\r\n\t\tcard.find('button').remove();\r\n\t\tcard.find('.bi-plus-circle').remove();\r\n\t\tcard.find('i[title=\"Mark as Not Done\"]').remove();\r\n\t\tcard.find('i[title=\"Mark as Done\"]').remove();\r\n\t\tcard.find('i[title=\"Edit\"]').remove();\r\n\t\tcard.find('i[title=\"Delete\"]').remove();\r\n\r\n\t\tconst iframe = $('#iframe')[0] as HTMLIFrameElement;\r\n\t\tconst css = [\r\n\t\t\t'https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css',\r\n\t\t\t'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css',\r\n\t\t\t'https://fonts.googleapis.com/css?family=Montserrat:400,700,200',\r\n\t\t\torigin + '/assets/css/bootstrap.min.css',\r\n\t\t\torigin + '/assets/css/paper-dashboard.css',\r\n\t\t\torigin + '/assets/demo/demo.css',\r\n\t\t];\r\n\t\tconst window = iframe.contentWindow;\r\n\r\n\t\twindow?.document.open();\r\n\r\n\t\tif (window && window.document) {\r\n\t\t\twindow.document.write('<head>');\r\n\r\n\t\t\tconst parsed = await Promise.all(\r\n\t\t\t\tcss.map(async (url) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst { data } = await axios.get<string>(url, { timeout: 5000 });\r\n\t\t\t\t\t\treturn `<style>${data}</style>`;\r\n\t\t\t\t\t} catch (_) {\r\n\t\t\t\t\t\treturn `<link href=\"${url}\" rel=\"stylesheet\" />`;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\tparsed.forEach((css) => {\r\n\t\t\t\twindow.document.write(css);\r\n\t\t\t});\r\n\t\t\twindow.document.write('</head>');\r\n\r\n\t\t\twindow.document.write('<body>');\r\n\t\t\twindow.document.write(card.html());\r\n\t\t\twindow.document.write('</body>');\r\n\t\t\twindow.document.close();\r\n\t\t\twindow.focus();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\twindow.print();\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t};\r\n\r\n\tconst taskBelongsToUser = (type: string) => {\r\n\t\tif (['Payment', 'Paid'].includes(type)) {\r\n\t\t\treturn user.role === 'Cashier';\r\n\t\t} else if (['Received'].includes(type)) {\r\n\t\t\treturn user.role === 'Admin';\r\n\t\t} else if (['Evaluated'].includes(type)) {\r\n\t\t\treturn user.role === 'Evaluation';\r\n\t\t} else if (['Signed'].includes(type)) {\r\n\t\t\treturn user.role === 'Director' || user.role === 'Registrar';\r\n\t\t} else if (['Releasing', 'Released'].includes(type)) {\r\n\t\t\treturn user.role === 'Releasing';\r\n\t\t} else {\r\n\t\t\treturn type === user.role;\r\n\t\t}\r\n\t};\r\n\r\n\tconst findDate = (status: string) => {\r\n\t\tconst dates = Array.from<AcknowledgedDate>(JSON.parse(request?.acknowledged_dates || '[]'));\r\n\t\treturn dates.find((date) => date.status === status);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h3 className='mb-0'>View Request</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12 d-flex'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{user.role !== 'Applicant' ? (\r\n\t\t\t\t\t\t<Link to={`${window.location.pathname}/edit`} className='btn btn-warning btn-sm align-self-center ml-auto'>\r\n\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{user.role !== 'Applicant' ? (\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref={`${window.location.pathname}/delete`}\r\n\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm align-self-center ml-1'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t$('#deleteRequestModal').modal('show');\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12' id='request-card'>\r\n\t\t\t\t\t{request ? (\r\n\t\t\t\t\t\t<div className='card shadow rounded'>\r\n\t\t\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t\t\t{!['Applicant', 'Evaluation'].includes(user.role) && isForwardable() ? (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-info btn-sm ${outIf(updating || !request.acknowledged, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t$('#forwardRequestModal').modal('toggle');\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={updating || !request.acknowledged}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-bell'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{request.acknowledged ? next : 'You must acknowledge the request first'}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t{user.role === 'Evaluation' ? (\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-info btn-sm ${outIf(updating || !request.acknowledged, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t$('#forwardRequestModal').modal('toggle');\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={updating || !request.acknowledged}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='fas fa-bell'></i>{' '}\r\n\t\t\t\t\t\t\t\t\t\t{request.acknowledged ? 'Forward' : 'You must acknowledge the request first'}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-success btn-sm`}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\texportToPDF();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-print'></i> Export to PDF\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<p className='card-title'>Requester's Name: {request.user!.name}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>Document Type: {request.documentType!.name}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>Expired: {request.expired ? 'Yes' : 'No'}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>Acknowledged: {request.acknowledged ? 'Yes' : 'No'}</p>\r\n\t\t\t\t\t\t\t\t{request.user?.student_id_number ? (\r\n\t\t\t\t\t\t\t\t\t<p className='card-text'>Student ID Number: {request.user.student_id_number}</p>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t<p className='card-text'>Evaluation: {request.evaluation}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>\r\n\t\t\t\t\t\t\t\t\tLast Updated By:{' '}\r\n\t\t\t\t\t\t\t\t\t{request.logs &&\r\n\t\t\t\t\t\t\t\t\trequest.logs.length > 0 &&\r\n\t\t\t\t\t\t\t\t\trequest.logs[request.logs.length - 1].user.role !== 'Applicant'\r\n\t\t\t\t\t\t\t\t\t\t? `${request.logs[request.logs.length - 1].user.name} - ${dayjs(request.updated_at).format(\r\n\t\t\t\t\t\t\t\t\t\t\t\t'MMMM DD, YYYY hh:mm A'\r\n\t\t\t\t\t\t\t\t\t\t  )}`\r\n\t\t\t\t\t\t\t\t\t\t: 'N/A'}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>Status: {request.status}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-title'>Files:</p>\r\n\t\t\t\t\t\t\t\t<div className='container-fluid'>\r\n\t\t\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t\t\t{request.files?.map((file, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='col-12 col-md-4 col-lg-3 col-xl-2' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<a href={`${file.file?.url}&download=true`}>{file.file?.name}</a>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<ul className='list-group'>\r\n\t\t\t\t\t\t\t\t\t{(({ level, statuses }) => {\r\n\t\t\t\t\t\t\t\t\t\treturn statuses.map((status, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<li className='list-group-item' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className='d-flex align-items-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{level !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfindDate(status) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle-fill mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : level >= index + 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-circle mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-x-circle-fill mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{status}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{findDate(status)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? `- ${dayjs(findDate(status)?.date).format('MMMM DD, YYYY hh:mm A')}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.tasks && request.tasks.length > 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className='list-group mt-2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{request.tasks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter((task) => task.for === status)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((task, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='list-group-item' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='d-flex align-items-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.done ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle-fill mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-circle mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{task.title}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{taskBelongsToUser(status) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className='ml-auto'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.done ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='bi bi-check-circle-fill mx-1 clickable'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='Mark as Not Done'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => markTask(task, false)}></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='bi bi-check-circle mx-1 clickable'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle='Mark as Done'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => markTask(task, true)}></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t));\r\n\t\t\t\t\t\t\t\t\t})(makeStatuses(request.status))}\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<div className='card w-100 mx-1 my-4 shadow rounded'>\r\n\t\t\t\t\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>History</h4>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='card-body table-responsive' style={{ overflowY: 'hidden' }}>\r\n\t\t\t\t\t\t\t\t\t\t<table className='table table-sm text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>User</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Action</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.logs!.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>No Data</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.logs!.map((log, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{log.user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{log.action}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{dayjs(log.updated_at).format('MMMM DD, YYYY hh:mm A')}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\r\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName='modal fade'\r\n\t\t\t\tid={`deleteRequestModal`}\r\n\t\t\t\ttabIndex={-1}\r\n\t\t\t\trole='dialog'\r\n\t\t\t\taria-labelledby={`deleteRequestModalLabel`}\r\n\t\t\t\taria-hidden='true'>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteRequestModalLabel`}>\r\n\t\t\t\t\t\t\t\tDelete Request\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'>Are you sure you want to delete this request?</div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t$('#deleteRequestModal').modal('hide');\r\n\t\t\t\t\t\t\t\t\tdeleteRequest();\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName='modal fade'\r\n\t\t\t\tid={`forwardRequestModal`}\r\n\t\t\t\ttabIndex={-1}\r\n\t\t\t\trole='dialog'\r\n\t\t\t\taria-labelledby={`forwardRequestModalLabel`}\r\n\t\t\t\taria-hidden='true'>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`forwardRequestModalLabel`}>\r\n\t\t\t\t\t\t\t\tForward Request\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'>\r\n\t\t\t\t\t\t\t{user.role === 'Evaluation' ? (\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetCurrentStatus(e.target.value);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t{['Registrar', 'Director'].map((status, index) => (\r\n\t\t\t\t\t\t\t\t\t\t<option value={status} key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t{status}\r\n\t\t\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t<label>SMS Message</label>\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tcols={20}\r\n\t\t\t\t\t\t\t\trows={5}\r\n\t\t\t\t\t\t\t\tclassName='form-control mb-3'\r\n\t\t\t\t\t\t\t\tonChange={(e) => setSmsMessage(e.target.value)}\r\n\t\t\t\t\t\t\t\tvalue={smsMessage}></textarea>\r\n\t\t\t\t\t\t\t<label>Email Message</label>\r\n\t\t\t\t\t\t\t<Quill onChange={(data) => setEmailMessage(data)} value={emailMessage} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t$('#forwardRequestModal').modal('hide');\r\n\t\t\t\t\t\t\t\t\tforward(currentStatus);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tForward\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<iframe title='Print Page' id='iframe' className='d-none'></iframe>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { routes } from '../../../routes';\r\nimport Archived from './Archived';\r\nimport { Form } from './Form';\r\nimport Inactive from './Inactive';\r\nimport { List } from './List';\r\nimport { View } from './View';\r\n\r\nexport function Requests() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={List} />\r\n\t\t\t<Route path={url(routes.REQUESTS.INACTIVE)} component={Inactive} />\r\n\t\t\t<Route path={url(routes.REQUESTS.ARCHIVED)} component={Archived} />\r\n\t\t\t<Route path={url('/add')} component={Form} />\r\n\t\t\t<Route path={url('/:id')} exact component={View} />\r\n\t\t\t<Route path={url('/:id/edit')} component={Form} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React, { createRef, useState } from 'react';\r\nimport { CMS } from '../../../contracts/CMS';\r\nimport toastr from 'toastr';\r\nimport { outIf } from '../../../helpers';\r\nimport dayjs from 'dayjs';\r\n\r\ntype Props = {\r\n\tcms: CMS;\r\n\tonChange: (value: string, success: () => void) => void;\r\n};\r\n\r\nexport function Entry({ cms, onChange }: Props) {\r\n\tconst [value, setValue] = useState(cms.value);\r\n\tconst [mode, setMode] = useState<'Edit' | 'View'>('View');\r\n\tconst [uploaded, setUploaded] = useState(false);\r\n\r\n\tconst isFile = cms.key.includes('picture');\r\n\r\n\tconst fileRef = createRef<HTMLInputElement>();\r\n\r\n\tconst reader = new FileReader();\r\n\r\n\treader.onload = (event) => {\r\n\t\tif (event.target && event.target.result) {\r\n\t\t\tsetValue(String(event.target.result));\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='col-12 col-md-4 col-lg-3 border-0 p-3 mb-4 d-flex'>\r\n\t\t\t<div className='card' style={{ flex: 1 }}>\r\n\t\t\t\t{isFile ? (\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tclassName='card-img-top'\r\n\t\t\t\t\t\tsrc={value}\r\n\t\t\t\t\t\talt={cms.key}\r\n\t\t\t\t\t\tstyle={{ borderTopLeftRadius: '12px', borderTopRightRadius: '12px' }}\r\n\t\t\t\t\t/>\r\n\t\t\t\t) : null}\r\n\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<h6 className='card-title'>{cms.key}</h6>\r\n\t\t\t\t\t\t<small className='text-muted form-text mb-4 mt-0'>Last Updated: {dayjs(cms.updated_at).fromNow()}</small>\r\n\t\t\t\t\t\t{mode === 'View' ? <p>{isFile ? null : <b>{value}</b>}</p> : null}\r\n\t\t\t\t\t\t{mode === 'Edit' ? (\r\n\t\t\t\t\t\t\tisFile ? (\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-info btn-sm ${outIf(uploaded, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={uploaded}\r\n\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\tif (!uploaded && fileRef.current) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfileRef.current.click();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t{uploaded ? 'Uploaded' : 'Upload'}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t\t\t\t\t\tclassName='d-none'\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0 && !uploaded) {\r\n\t\t\t\t\t\t\t\t\t\t\t\treader.readAsDataURL(e.target.files[0]);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetUploaded(true);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\t\tplaceholder='Value'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tsetValue(e.target.value);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='card-footer'>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn btn-success btn-sm d-inline-block mx-1'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tif (mode === 'Edit') {\r\n\t\t\t\t\t\t\t\t\tonChange(value, () => {\r\n\t\t\t\t\t\t\t\t\t\ttoastr.info(`${cms.key} has been updated.`, 'Notice');\r\n\t\t\t\t\t\t\t\t\t\tsetUploaded(false);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tsetMode('View');\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetMode('Edit');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t{mode === 'Edit' ? 'Save' : 'Edit'}\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t{mode === 'Edit' ? (\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm d-inline-block mx-1'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tsetMode('View');\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { useState } from 'react';\r\nimport toastr from 'toastr';\r\n\r\ntype Props = {\r\n\tfaq: FAQ;\r\n\tonChange: (value: FAQ, success: () => void) => void;\r\n\tdefaultMode?: 'View' | 'Edit';\r\n};\r\n\r\nexport function FAQ({ faq, onChange, defaultMode }: Props) {\r\n\tconst [mode, setMode] = useState(defaultMode || 'View');\r\n\tconst [question, setQuestion] = useState(faq.question);\r\n\tconst [answer, setAnswer] = useState(faq.answer);\r\n\r\n\treturn (\r\n\t\t<div className='col-12'>\r\n\t\t\t{mode === 'View' ? (\r\n\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t<label htmlFor='question'>\r\n\t\t\t\t\t\tQuestion: <b>{faq.question}</b>\r\n\t\t\t\t\t</label>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\tAnswer: <b>{faq.answer}</b>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t\t{mode === 'Edit' ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tname='question'\r\n\t\t\t\t\t\t\tplaceholder='Question'\r\n\t\t\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\t\t\tvalue={question}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetQuestion(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\tname='answer'\r\n\t\t\t\t\t\t\tplaceholder='Answer'\r\n\t\t\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\t\t\tvalue={answer}\r\n\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\tsetAnswer(e.target.value);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-success btn-sm d-inline-block mx-1'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tif (mode === 'Edit') {\r\n\t\t\t\t\t\t\tonChange({ question, answer }, () => {\r\n\t\t\t\t\t\t\t\ttoastr.info('FAQs has been updated.', 'Notice');\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetMode('View');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tsetMode('Edit');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t{mode === 'Edit' ? 'Save' : 'Edit'}\r\n\t\t\t\t</button>\r\n\t\t\t\t{mode === 'Edit' ? (\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-danger btn-sm d-inline-block mx-1'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tsetMode('View');\r\n\t\t\t\t\t\t\tsetQuestion(faq.question);\r\n\t\t\t\t\t\t\tsetAnswer(faq.answer);\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tCancel\r\n\t\t\t\t\t</button>\r\n\t\t\t\t) : null}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { CMS as CMSContract } from '../../../contracts/CMS';\r\nimport toastr from 'toastr';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Entry } from './Entry';\r\nimport { FAQ } from './FAQ';\r\nimport dayjs from 'dayjs';\r\n\r\nexport function CMS() {\r\n\tconst [cms, setCMS] = useState<Array<CMSContract>>([]);\r\n\tconst [mode, setMode] = useState<'Manage' | 'Preview'>('Manage');\r\n\tconst history = useHistory();\r\n\tconst find = (key: string, defaultValue: string) => {\r\n\t\tconst c = cms.find((cms) => cms.key === key);\r\n\t\tif (c) {\r\n\t\t\treturn c.value;\r\n\t\t}\r\n\t\treturn defaultValue;\r\n\t};\r\n\tconst faqs = JSON.parse(find('faqs', JSON.stringify([]))) as Array<FAQ>;\r\n\r\n\tconst fetchCMS = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<CMSContract>>('/cms');\r\n\t\t\tsetCMS([...data]);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch CMS entities.', 'Oops!');\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst saveCMS = async (cms: CMSContract) => {\r\n\t\tif (cms.id) {\r\n\t\t\tawait axios.put('/cms', cms);\r\n\t\t} else {\r\n\t\t\tawait axios.post('/cms', cms);\r\n\t\t}\r\n\t};\r\n\r\n\tconst saveFAQ = async (faq: FAQ, index: number) => {\r\n\t\tfaqs.splice(index, 1, faq);\r\n\r\n\t\tconst entity = cms.find((cms) => cms.key === 'faqs');\r\n\r\n\t\tconst data = JSON.stringify(faqs);\r\n\r\n\t\tif (entity) {\r\n\t\t\tentity.value = data;\r\n\t\t\tcms.splice(\r\n\t\t\t\tcms.findIndex((cms) => cms.key === 'faqs'),\r\n\t\t\t\t1,\r\n\t\t\t\tentity\r\n\t\t\t);\r\n\t\t\tsetCMS([...cms]);\r\n\t\t\tawait saveCMS(entity);\r\n\t\t} else {\r\n\t\t\tcms.push({ key: 'faqs', value: data });\r\n\t\t\tsetCMS([...cms]);\r\n\t\t\tawait saveCMS({\r\n\t\t\t\tkey: 'faqs',\r\n\t\t\t\tvalue: data,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchCMS();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={`${mode === 'Preview' ? 'container-fluid' : 'container'}`}>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\tsetMode(mode === 'Preview' ? 'Manage' : 'Preview');\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t{mode === 'Preview' ? 'Manage' : 'Preview'}\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{mode === 'Manage' ? (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t{cms\r\n\t\t\t\t\t\t\t.filter((cms) => cms.key !== 'faqs')\r\n\t\t\t\t\t\t\t.map((cms, index) => (\r\n\t\t\t\t\t\t\t\t<Entry\r\n\t\t\t\t\t\t\t\t\tcms={cms}\r\n\t\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\t\tonChange={async (value, success) => {\r\n\t\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\t\tcms.value = value;\r\n\t\t\t\t\t\t\t\t\t\t\tawait saveCMS(cms);\r\n\t\t\t\t\t\t\t\t\t\t\tsuccess();\r\n\t\t\t\t\t\t\t\t\t\t\tfetchCMS();\r\n\t\t\t\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(error.toJSON());\r\n\t\t\t\t\t\t\t\t\t\t\ttoastr.error('Unable to update CMS entity.', 'Oops!');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t\t\t<h3 className='mb-0'>FAQs</h3>\r\n\t\t\t\t\t\t\t{cms.find((cms) => cms.key === 'faqs') && cms.find((cms) => cms.key === 'faqs')!.updated_at ? (\r\n\t\t\t\t\t\t\t\t<small className='text-muted mt-0 form-text mb-3'>\r\n\t\t\t\t\t\t\t\t\tLast Updated: {dayjs(cms.find((cms) => cms.key === 'faqs')?.updated_at).fromNow()}\r\n\t\t\t\t\t\t\t\t</small>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-success btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t\t\t\t\t\tconst entity = cms.find((cms) => cms.key === 'faqs');\r\n\r\n\t\t\t\t\t\t\t\t\tif (entity) {\r\n\t\t\t\t\t\t\t\t\t\tconst value = JSON.parse(entity.value) as Array<FAQ>;\r\n\r\n\t\t\t\t\t\t\t\t\t\tvalue.push({ question: '', answer: '', new: true });\r\n\r\n\t\t\t\t\t\t\t\t\t\tentity.value = JSON.stringify(value);\r\n\r\n\t\t\t\t\t\t\t\t\t\tconst index = cms.findIndex((cms) => cms.key === 'faqs');\r\n\r\n\t\t\t\t\t\t\t\t\t\tcms.splice(index, 1, entity);\r\n\t\t\t\t\t\t\t\t\t\tsetCMS([...cms]);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tconst value = [{ question: '', answer: '', new: true }] as Array<FAQ>;\r\n\r\n\t\t\t\t\t\t\t\t\t\tcms.push({ key: 'faqs', value: JSON.stringify(value) });\r\n\r\n\t\t\t\t\t\t\t\t\t\tsetCMS([...cms]);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tAdd FAQ\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{faqs.map((faq, index) => (\r\n\t\t\t\t\t\t\t<FAQ\r\n\t\t\t\t\t\t\t\tfaq={faq}\r\n\t\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\t\tonChange={async (faq, success) => {\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tawait saveFAQ(faq, index);\r\n\t\t\t\t\t\t\t\t\t\tsuccess();\r\n\t\t\t\t\t\t\t\t\t\tfetchCMS();\r\n\t\t\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\t\t\tconsole.log(error.toJSON());\r\n\t\t\t\t\t\t\t\t\t\ttoastr.error('Unable to update FAQs.', 'Oops!');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tdefaultMode={faq.new ? 'Edit' : 'View'}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t\t<div style={{ position: 'relative', overflow: 'hidden', width: '100%', paddingTop: '56.25%' }}>\r\n\t\t\t\t\t\t\t<iframe\r\n\t\t\t\t\t\t\t\ttitle='CMS Preview'\r\n\t\t\t\t\t\t\t\tsrc={`${window.location.origin}?preview=true`}\r\n\t\t\t\t\t\t\t\tstyle={{ position: 'absolute', inset: 0, width: '100%', height: '100%' }}></iframe>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { Contact } from '../../../contracts/Contact';\r\nimport { handleError } from '../../../helpers';\r\nimport { Table } from '../../Shared/Table';\r\nimport toastr from 'toastr';\r\nimport dayjs from 'dayjs';\r\n\r\nexport function List() {\r\n\tconst [contacts, setContacts] = useState<Array<Contact>>([]);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst match = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst path = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst fetchContacts = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<Contact>>('/contacts');\r\n\t\t\tsetContacts(data);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch contacts.');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteContact = async (id: any) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/contacts?id=${id}`);\r\n\t\t\ttoastr.success('Contact deleted successfully.');\r\n\t\t\tawait fetchContacts();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\thandleError(error);\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchContacts();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\ttitle='Contacts'\r\n\t\t\tdata={contacts.map((contact) => ({\r\n\t\t\t\t...contact,\r\n\t\t\t\tcreated_at: dayjs(contact.created_at).fromNow(),\r\n\t\t\t\tupdated_at: dayjs(contact.updated_at).fromNow(),\r\n\t\t\t\tmessage: <p className='text-muted m-0 p-0'>{contact.message.substr(0, 15)}...</p>,\r\n\t\t\t}))}\r\n\t\t\tprocessing={processing}\r\n\t\t\tonAddClick={() => history.push(path('add'))}\r\n\t\t\tonViewClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}`));\r\n\t\t\t}}\r\n\t\t\tonEditClick={() => {\r\n\t\t\t\t//\r\n\t\t\t}}\r\n\t\t\tonDeleteConfirm={({ id }) => {\r\n\t\t\t\tdeleteContact(id);\r\n\t\t\t}}\r\n\t\t\tonRefreshClick={fetchContacts}\r\n\t\t\twithAction={true}\r\n\t\t\tpagination={true}\r\n\t\t\tdontShowEdit={true}\r\n\t\t\tdisableAddButton={true}\r\n\t\t/>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { Contact } from '../../../contracts/Contact';\r\nimport { handleError } from '../../../helpers';\r\nimport toastr from 'toastr';\r\n\r\nexport function View() {\r\n\tconst [contact, setContact] = useState<Contact | null>(null);\r\n\tconst history = useHistory();\r\n\r\n\tconst fetchContact = async (contactID: string) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Contact>(`/contacts/show?id=${contactID}`);\r\n\t\t\tsetContact(data);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tlet deleting = false;\r\n\r\n\tconst deleteContact = async () => {\r\n\t\tif (deleting) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdeleting = true;\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/contacts?id=${contact?.id}`);\r\n\t\t\ttoastr.success('Contact deleted successfully.');\r\n\t\t\thistory.goBack();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tdeleting = false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst { params } = useRouteMatch<{ id: string }>();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchContact(params.id);\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h3 className='mb-0'>View Contact</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12 d-flex'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref={`${window.location.pathname}/delete`}\r\n\t\t\t\t\t\tclassName='btn btn-danger btn-sm align-self-center ml-1'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t$('#deleteContactModal').modal('show');\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t{contact ? (\r\n\t\t\t\t\t\t<div className='card shadow rounded'>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<h6>Name</h6>\r\n\t\t\t\t\t\t\t\t<p>{contact.name}</p>\r\n\t\t\t\t\t\t\t\t<h6>Email</h6>\r\n\t\t\t\t\t\t\t\t<p>{contact.email}</p>\r\n\t\t\t\t\t\t\t\t<h6>Message</h6>\r\n\t\t\t\t\t\t\t\t<p>{contact.message}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\r\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName='modal fade'\r\n\t\t\t\tid={`deleteContactModal`}\r\n\t\t\t\ttabIndex={-1}\r\n\t\t\t\trole='dialog'\r\n\t\t\t\taria-labelledby={`deleteContactModalLabel`}\r\n\t\t\t\taria-hidden='true'>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteContactModalLabel`}>\r\n\t\t\t\t\t\t\t\tDelete Contact\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'>Are you sure you want to delete {contact?.name || 'this contact'}?</div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t$('#deleteContactModal').modal('hide');\r\n\t\t\t\t\t\t\t\t\tdeleteContact();\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { List } from './List';\r\nimport { View } from './View';\r\n\r\nexport function Contacts() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={List} />\r\n\t\t\t<Route path={url('/:id')} exact component={View} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { ChangeEvent, createRef, RefObject, useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { DocumentType } from '../../../contracts/DocumentType';\r\nimport { handleError, outIf } from '../../../helpers';\r\nimport toastr from 'toastr';\r\n\r\nexport function Form() {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useState('Add');\r\n\tconst [files, setFiles] = useState<Array<{ file: File | null; ref: RefObject<HTMLInputElement> }>>([]);\r\n\tconst [data, setData] = useState<DocumentType>({\r\n\t\tid: -1,\r\n\t\tname: '',\r\n\t\trequirements: [],\r\n\t\texpiry_days: 15,\r\n\t});\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n\t\tconst { id, value } = e.target;\r\n\t\tsetData({\r\n\t\t\t...data,\r\n\t\t\t[id]: value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst reset = () => setData({ name: '', id: -1, requirements: [], expiry_days: 15 });\r\n\r\n\tconst submit = async () => {\r\n\t\tif (processing) return;\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst payload = new FormData();\r\n\t\t\tdelete data.files;\r\n\t\t\tObject.entries(data).forEach(([key, value]) => payload.append(key, value));\r\n\r\n\t\t\tpayload.append('requirements', JSON.stringify(data.requirements));\r\n\t\t\tpayload.append('_method', mode === 'Add' ? 'post' : 'put');\r\n\r\n\t\t\tfiles.forEach((file) => {\r\n\t\t\t\tif (file.file instanceof File) {\r\n\t\t\t\t\tpayload.append('files[]', file.file);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tawait axios.post<DocumentType>('/document-types', payload);\r\n\t\t\ttoastr.success('Document Type saved successfully.');\r\n\t\t\treset();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchDocumentType = async (documentTypeID: string) => {\r\n\t\tsetMode('Edit');\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<DocumentType>(`/document-types/show?id=${documentTypeID}`);\r\n\t\t\tsetData(() => ({\r\n\t\t\t\t...data,\r\n\t\t\t\trequirements: ((requirements) => {\r\n\t\t\t\t\tif (!requirements) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst data = JSON.parse(requirements as any);\r\n\t\t\t\t\t\tif (!data) {\r\n\t\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error.toJSON());\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t})(data.requirements),\r\n\t\t\t}));\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst { params, path } = useRouteMatch<{ id: string }>();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (path.includes('edit')) {\r\n\t\t\tfetchDocumentType(params.id);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='container'\r\n\t\t\tonSubmit={async (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tawait submit();\r\n\t\t\t}}>\r\n\t\t\t<div className='d-flex'>\r\n\t\t\t\t<h3 className='align-self-center mb-0'>{mode} Document</h3>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tBack\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group text-primary'>\r\n\t\t\t\t<label htmlFor='name'></label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='name'\r\n\t\t\t\t\tid='name'\r\n\t\t\t\t\tplaceholder='Name'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.name}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='expiry_days'>Expiry Days</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tname='expiry_days'\r\n\t\t\t\t\tid='expiry_days'\r\n\t\t\t\t\tplaceholder='Expiry Days'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.expiry_days}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='container-fluid'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t\t<h4>Requirements</h4>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tdata.requirements.push('');\r\n\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tAdd Requirement\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{data.requirements.map((requirement, index) => (\r\n\t\t\t\t\t\t<div className='col-12' key={index}>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tdata.requirements.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tRemove Requirement\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label>Requirement {index + 1}</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tplaceholder={`Requirement ${index + 1}`}\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={requirement}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.requirements.splice(index, 1, e.target.value);\r\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t<div className='col-12 mt-3'>\r\n\t\t\t\t\t\t<h4>Forms</h4>\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tfiles.push({ file: null, ref: createRef<HTMLInputElement>() });\r\n\t\t\t\t\t\t\t\tsetFiles([...files]);\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tAdd Form\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{files.map((file, index) => (\r\n\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4 col-xl-3' key={index}>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tfiles.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\tsetFiles([...files]);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tRemove Form\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\t\tref={file.ref}\r\n\t\t\t\t\t\t\t\t\tclassName={`d-none ${outIf(processing || file !== null, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing || file.file !== null}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tfiles.splice(index, 1, { file: e.target.files[0], ref: file.ref });\r\n\t\t\t\t\t\t\t\t\t\t\tsetFiles([...files]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName='btn btn-secondary btn-sm'\r\n\t\t\t\t\t\t\t\t\tdisabled={file.file !== null}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tif (file.file === null && file.ref.current) {\r\n\t\t\t\t\t\t\t\t\t\t\tfile.ref.current.click();\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('yo');\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t{file.file === null ? 'Upload' : 'Uploaded'}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t\t\t{mode === 'Edit' && data.files && data.files.length > 0 ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<div className='col-12 mt-3'>\r\n\t\t\t\t\t\t\t\t<h4>Existing Forms</h4>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{data.files?.map((file, index) => (\r\n\t\t\t\t\t\t\t\t<div className='col-12 col-md-6 col-lg-4' key={index}>\r\n\t\t\t\t\t\t\t\t\t<div className='card'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='card-body d-flex align-items-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href={`${file.file?.url}&download=true`} target='_blank' rel='noreferrer'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{file.file?.name}\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm ml-auto'\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (window.confirm('Delete file?')) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.info('Deleting form file.', 'Notice');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tawait axios.delete(`/document-types/files?id=${file.id}`);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoastr.success('Form file deleted.');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata.files?.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\r\n\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Save'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { DocumentType } from '../../../contracts/DocumentType';\r\nimport { createTableColumns, exceptMany, ucwords } from '../../../helpers';\r\nimport { Table } from '../../Shared/Table';\r\nimport toastr from 'toastr';\r\nimport dayjs from 'dayjs';\r\n\r\nexport function List() {\r\n\tconst [documentTypes, setDocumentTypes] = useState<Array<DocumentType>>([]);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst match = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst path = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst fetchDocumentTypes = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<DocumentType>>('/document-types');\r\n\t\t\tsetDocumentTypes(exceptMany(data, ['requirements', 'files']));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch Document Types.');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteDocumentType = async (id: any) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/document-types?id=${id}`);\r\n\t\t\ttoastr.success('Document Type deleted successfully.');\r\n\t\t\tawait fetchDocumentTypes();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to delete Document Type.');\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchDocumentTypes();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\ttitle='Document Types'\r\n\t\t\tcolumns={createTableColumns(documentTypes).map((column) => {\r\n\t\t\t\tif (['updated at', 'created at'].includes(column.toLowerCase())) {\r\n\t\t\t\t\treturn ucwords(column.split(' ')[0]);\r\n\t\t\t\t}\r\n\t\t\t\treturn column;\r\n\t\t\t})}\r\n\t\t\tdata={documentTypes.map((documentType) => ({\r\n\t\t\t\t...documentType,\r\n\t\t\t\tcreated_at: dayjs(documentType.created_at).fromNow(),\r\n\t\t\t\tupdated_at: dayjs(documentType.updated_at).fromNow(),\r\n\t\t\t}))}\r\n\t\t\tprocessing={processing}\r\n\t\t\tonAddClick={() => history.push(path('add'))}\r\n\t\t\tonViewClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}`));\r\n\t\t\t}}\r\n\t\t\tonEditClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}/edit`));\r\n\t\t\t}}\r\n\t\t\tonDeleteConfirm={({ id }) => {\r\n\t\t\t\tdeleteDocumentType(id);\r\n\t\t\t}}\r\n\t\t\tonRefreshClick={fetchDocumentTypes}\r\n\t\t\twithAction={true}\r\n\t\t\tpagination={true}\r\n\t\t/>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { DocumentType } from '../../../contracts/DocumentType';\r\nimport { handleError } from '../../../helpers';\r\n\r\nexport function View() {\r\n\tconst [documentType, setDocumentType] = useState<DocumentType | null>(null);\r\n\tconst history = useHistory();\r\n\r\n\tconst fetchDocumentType = async (documentTypeID: string) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get(`/document-types/show?id=${documentTypeID}`);\r\n\t\t\tsetDocumentType({\r\n\t\t\t\t...data,\r\n\t\t\t\trequirements: ((requirements) => {\r\n\t\t\t\t\tif (!requirements) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst data = JSON.parse(requirements as any);\r\n\t\t\t\t\t\tif (!data) {\r\n\t\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn data;\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error.toJSON());\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t})(data.requirements),\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst { params } = useRouteMatch<{ id: string }>();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchDocumentType(params.id);\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h3 className='mb-0'>View Document Type</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t{documentType ? (\r\n\t\t\t\t\t\t<div className='card shadow rounded'>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<h6>Name</h6>\r\n\t\t\t\t\t\t\t\t<p>{documentType.name}</p>\r\n\t\t\t\t\t\t\t\t<h6>Requirements</h6>\r\n\t\t\t\t\t\t\t\t{documentType.requirements?.map((requirement, index) => (\r\n\t\t\t\t\t\t\t\t\t<p className='card-text' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t{requirement}\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t<h6>Forms</h6>\r\n\t\t\t\t\t\t\t\t{documentType.files?.map((file, index) => (\r\n\t\t\t\t\t\t\t\t\t<p className='card-text' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<a href={`${file.file?.url}&download=true`} target='_blank' rel='noreferrer'>\r\n\t\t\t\t\t\t\t\t\t\t\t{file.file?.name}\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\r\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { Form } from './Form';\r\nimport { List } from './List';\r\nimport { View } from './View';\r\n\r\nexport function DocumentTypes() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={List} />\r\n\t\t\t<Route path={url('/add')} component={Form} />\r\n\t\t\t<Route path={url('/:id')} exact component={View} />\r\n\t\t\t<Route path={url('/:id/edit')} component={Form} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { createRef, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Downloadable } from '../../../contracts/Downloadable';\r\nimport { handleError, outIf } from '../../../helpers';\r\nimport toastr from 'toastr';\r\n\r\nexport function Form() {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [data, setData] = useState<any>({\r\n\t\tid: -1,\r\n\t\tname: '',\r\n\t\tfile: null,\r\n\t\tcategory: '',\r\n\t});\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst reader = new FileReader();\r\n\r\n\treader.onload = (event) => {\r\n\t\tif (event.target && event.target.result) {\r\n\t\t\tdata.file = String(event.target.result) as any;\r\n\t\t\tsetData({\r\n\t\t\t\t...data,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst ref = createRef<HTMLInputElement>();\r\n\tconst form = createRef<HTMLFormElement>();\r\n\r\n\tconst reset = () => setData({ name: '', file: null });\r\n\r\n\tconst submit = async () => {\r\n\t\tif (processing) return;\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.post<Downloadable>('/downloadables', data);\r\n\t\t\ttoastr.success('Downloadable saved successfully.');\r\n\t\t\treset();\r\n\t\t\tif (form.current) {\r\n\t\t\t\tform.current.reset();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='container'\r\n\t\t\tref={form}\r\n\t\t\tonSubmit={async (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tawait submit();\r\n\t\t\t}}>\r\n\t\t\t<div className='d-flex'>\r\n\t\t\t\t<h3 className='align-self-center mb-0'>Create Downloadable</h3>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tBack\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='category'>Category</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='category'\r\n\t\t\t\t\tid='category'\r\n\t\t\t\t\tplaceholder='Category'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.category}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tdata.category = e.target.value;\r\n\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={`btn btn-info btn-sm ${outIf(processing || data.file !== null, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing || data.file !== null}\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tif (data.file === null) {\r\n\t\t\t\t\t\t\tref.current!.click();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\t{data.file === null ? 'Upload File' : 'File Uploaded'}\r\n\t\t\t\t</button>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='file'\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')} d-none`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0) {\r\n\t\t\t\t\t\t\tconst file = e.target.files[0];\r\n\r\n\t\t\t\t\t\t\treader.readAsDataURL(file);\r\n\r\n\t\t\t\t\t\t\tdata.name = file.name;\r\n\r\n\t\t\t\t\t\t\tsetData({\r\n\t\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\r\n\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Save'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { createTableColumns, exceptMany, ucwords } from '../../../helpers';\r\nimport { Table } from '../../Shared/Table';\r\nimport toastr from 'toastr';\r\nimport dayjs from 'dayjs';\r\nimport { Downloadable } from '../../../contracts/Downloadable';\r\n\r\nexport function List() {\r\n\tconst [downloadables, setDownloadables] = useState<Array<Downloadable>>([]);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst match = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst path = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst fetchDownloadables = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<Downloadable>>('/downloadables');\r\n\t\t\tsetDownloadables(exceptMany(data, ['file_id']));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch Downloadables.');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteDownloadable = async (id: any) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/downloadables?id=${id}`);\r\n\t\t\ttoastr.success('Downloadable deleted successfully.');\r\n\t\t\tawait fetchDownloadables();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to delete Downloadable.');\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchDownloadables();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\ttitle='Downloadables'\r\n\t\t\tcolumns={createTableColumns(downloadables).map((column) => {\r\n\t\t\t\tif (['updated at', 'created at'].includes(column.toLowerCase())) {\r\n\t\t\t\t\treturn ucwords(column.split(' ')[0]);\r\n\t\t\t\t}\r\n\t\t\t\treturn column;\r\n\t\t\t})}\r\n\t\t\tdata={downloadables.map((downloadable) => ({\r\n\t\t\t\t...downloadable,\r\n\t\t\t\tfile: (\r\n\t\t\t\t\t<a href={`${downloadable.file!.url}&download=true`} className='btn btn-success btn-sm'>\r\n\t\t\t\t\t\tDownload\r\n\t\t\t\t\t</a>\r\n\t\t\t\t),\r\n\t\t\t\tcreated_at: dayjs(downloadable.created_at).fromNow(),\r\n\t\t\t\tupdated_at: dayjs(downloadable.updated_at).fromNow(),\r\n\t\t\t}))}\r\n\t\t\tprocessing={processing}\r\n\t\t\tonAddClick={() => history.push(path('add'))}\r\n\t\t\tonViewClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}`));\r\n\t\t\t}}\r\n\t\t\tonEditClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}/edit`));\r\n\t\t\t}}\r\n\t\t\tonDeleteConfirm={({ id }) => {\r\n\t\t\t\tdeleteDownloadable(id);\r\n\t\t\t}}\r\n\t\t\tonRefreshClick={fetchDownloadables}\r\n\t\t\twithAction={true}\r\n\t\t\tpagination={true}\r\n\t\t\tdontShowEdit={true}\r\n\t\t\tdontShowView={true}\r\n\t\t/>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { Form } from './Form';\r\nimport { List } from './List';\r\n\r\nexport function Downloadables() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={List} />\r\n\t\t\t<Route path={url('/add')} component={Form} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Log } from '../contracts/Log';\r\nimport { handleError } from '../helpers';\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport function Logs() {\r\n\tconst [logs, setLogs] = useState<Array<Log>>([]);\r\n\r\n\tconst fetchLogs = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get('/logs');\r\n\t\t\tsetLogs([...data]);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\thandleError(error);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchLogs();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='card w-100'>\r\n\t\t\t<div className='card-header'>\r\n\t\t\t\t<h3 className='card-title'>History Logs</h3>\r\n\t\t\t\t{logs.length === 0 ? <p className='card-text'>No Data</p> : null}\r\n\t\t\t</div>\r\n\t\t\t<div className='card-body table-responsive' style={{ overflowY: 'hidden' }}>\r\n\t\t\t\t<table className='table table-sm text-center'>\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>User</th>\r\n\t\t\t\t\t\t\t<th>Action</th>\r\n\t\t\t\t\t\t\t<th>Request Type</th>\r\n\t\t\t\t\t\t\t<th>Requester's Name</th>\r\n\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t</thead>\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t{[...logs].reverse().map((log, index) => (\r\n\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t<td>{log.user?.name}</td>\r\n\t\t\t\t\t\t\t\t<td>{log.action}</td>\r\n\t\t\t\t\t\t\t\t<td>{log.loggable?.documentType?.name}</td>\r\n\t\t\t\t\t\t\t\t<td>{log.loggable?.user?.name}</td>\r\n\t\t\t\t\t\t\t\t<td>{dayjs(log.updated_at).format('MMMM DD, YYYY hh:mm A')}</td>\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tbody>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { routes } from '../../routes';\r\nimport { Logs } from '../Logs';\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport function Stats() {\r\n\tconst [stats, setStats] = useState({\r\n\t\tusers: 0,\r\n\t\tlogs: 0,\r\n\t\tapproved_requests: 0,\r\n\t\tpending_requests: 0,\r\n\t\tlast_log: null as any,\r\n\t});\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => {\r\n\t\tconst fragments = match.path.split('');\r\n\t\tif (fragments[fragments.length - 1] === '/') {\r\n\t\t\tfragments.splice(fragments.length - 1, 1);\r\n\t\t}\r\n\t\treturn `${fragments.join('')}${path}`;\r\n\t};\r\n\r\n\tconst fetchStats = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get('/statistics');\r\n\t\t\tsetStats(data);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchStats();\r\n\t\t// eslinst-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-lg-3 col-md-6 col-sm-6'>\r\n\t\t\t\t\t<div className='card card-stats'>\r\n\t\t\t\t\t\t<div className='card-body '>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-5 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t<div className='icon-big text-center icon-warning'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-globe text-warning'></i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-7 col-md-8'>\r\n\t\t\t\t\t\t\t\t\t<div className='numbers'>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-category'>Pending Requests</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-title'>{stats.pending_requests}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='card-footer'>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<Link to={url(routes.REQUESTS.ROOT)} className='stats'>\r\n\t\t\t\t\t\t\t\t<i className='fa fa-edit'></i>\r\n\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-lg-3 col-md-6 col-sm-6'>\r\n\t\t\t\t\t<div className='card card-stats'>\r\n\t\t\t\t\t\t<div className='card-body '>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-5 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t<div className='icon-big text-center icon-warning'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-money-coins text-success'></i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-7 col-md-8'>\r\n\t\t\t\t\t\t\t\t\t<div className='numbers'>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-category'>Completed Requests</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-title'>{stats.approved_requests}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='card-footer '>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<Link to={url(routes.REQUESTS.ROOT)} className='stats'>\r\n\t\t\t\t\t\t\t\t<i className='fa fa-calendar-o'></i>\r\n\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-lg-3 col-md-6 col-sm-6'>\r\n\t\t\t\t\t<div className='card card-stats'>\r\n\t\t\t\t\t\t<div className='card-body '>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-5 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t<div className='icon-big text-center icon-warning'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-vector text-danger'></i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-7 col-md-8'>\r\n\t\t\t\t\t\t\t\t\t<div className='numbers'>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-category'>Total Logs</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-title'>{stats.logs}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='card-footer '>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<div className='stats'>\r\n\t\t\t\t\t\t\t\t<i className='fa fa-clock-o'></i>\r\n\t\t\t\t\t\t\t\t{dayjs(stats.last_log ? stats.last_log.updated_at : new Date()).fromNow()}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-lg-3 col-md-6 col-sm-6'>\r\n\t\t\t\t\t<div className='card card-stats'>\r\n\t\t\t\t\t\t<div className='card-body '>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-5 col-md-4'>\r\n\t\t\t\t\t\t\t\t\t<div className='icon-big text-center icon-warning'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-favourite-28 text-primary'></i>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-7 col-md-8'>\r\n\t\t\t\t\t\t\t\t\t<div className='numbers'>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-category'>Users</p>\r\n\t\t\t\t\t\t\t\t\t\t<p className='card-title'>{stats.users}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p></p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='card-footer '>\r\n\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t<Link to={url(routes.USERS)} className='stats'>\r\n\t\t\t\t\t\t\t\t<i className='fa fa-refresh'></i>\r\n\t\t\t\t\t\t\t\tView\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<Logs />\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { ChangeEvent, useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { User } from '../../../contracts/User';\r\nimport { handleError, outIf } from '../../../helpers';\r\nimport toastr from 'toastr';\r\n\r\nexport function Form() {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [mode, setMode] = useState('Add');\r\n\tconst [data, setData] = useState<User>({\r\n\t\tid: -1,\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t\trole: 'Applicant',\r\n\t\tphone: '63',\r\n\t});\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n\t\tconst { id, value } = e.target;\r\n\t\tsetData({\r\n\t\t\t...data,\r\n\t\t\t[id]: value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst reset = () => setData({ name: '', email: '', password: '', role: data.role, id: -1, phone: '63' });\r\n\r\n\tconst submit = async () => {\r\n\t\tif (processing) return;\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait (mode === 'Add' ? axios.post<User>('/users', data) : axios.put<User>('/users', data));\r\n\t\t\ttoastr.success('User saved successfully.');\r\n\t\t\tif (mode === 'Add') {\r\n\t\t\t\treset();\r\n\t\t\t}\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchUser = async (userID: string) => {\r\n\t\tsetMode('Edit');\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<User>(`/users/show?id=${userID}`);\r\n\t\t\tdata.password = '';\r\n\t\t\tsetData(data);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst { params, path } = useRouteMatch<{ id: string }>();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (path.includes('edit')) {\r\n\t\t\tfetchUser(params.id);\r\n\t\t}\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='container'\r\n\t\t\tonSubmit={async (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tawait submit();\r\n\t\t\t}}>\r\n\t\t\t<div className='d-flex'>\r\n\t\t\t\t<h3 className='align-self-center mb-0'>{mode} User</h3>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tBack\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='name'>Name</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='name'\r\n\t\t\t\t\tid='name'\r\n\t\t\t\t\tplaceholder='Name'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.name}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='email'>Email</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='email'\r\n\t\t\t\t\tname='email'\r\n\t\t\t\t\tid='email'\r\n\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='phone'>Phone</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='phone'\r\n\t\t\t\t\tid='phone'\r\n\t\t\t\t\tplaceholder='Phone'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.phone}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='password'>Password</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='password'\r\n\t\t\t\t\tname='password'\r\n\t\t\t\t\tid='password'\r\n\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='role'>Role</label>\r\n\t\t\t\t<select name='role' id='role' className='form-control form-control-sm' value={data.role} onChange={handleChange}>\r\n\t\t\t\t\t{['Admin', 'Cashier', 'Evaluation', 'Director', 'Registrar', 'Releasing', 'Applicant'].map((role, index) => (\r\n\t\t\t\t\t\t<option value={role} key={index}>\r\n\t\t\t\t\t\t\t{role}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\r\n\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Save'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { User } from '../../../contracts/User';\r\nimport { createTableColumns, exceptMany, handleError, ucwords } from '../../../helpers';\r\nimport { Table } from '../../Shared/Table';\r\nimport toastr from 'toastr';\r\nimport dayjs from 'dayjs';\r\n\r\nexport function List() {\r\n\tconst [users, setUsers] = useState<Array<User>>([]);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst match = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst path = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst fetchUsers = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<User>>('/users');\r\n\t\t\tsetUsers(exceptMany(data, ['profile_picture_id']));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch users.');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteUser = async (id: any) => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/users?id=${id}`);\r\n\t\t\ttoastr.success('User deleted successfully.');\r\n\t\t\tawait fetchUsers();\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\thandleError(error);\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchUsers();\r\n\t}, []);\r\n\r\n\tconst getBadge = (role: Roles) => {\r\n\t\tif (role === 'Admin') {\r\n\t\t\treturn 'red';\r\n\t\t} else if (role === 'Applicant') {\r\n\t\t\treturn 'warning';\r\n\t\t} else {\r\n\t\t\treturn 'green';\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Table\r\n\t\t\ttitle='Users'\r\n\t\t\tcolumns={createTableColumns(users).map((column) => {\r\n\t\t\t\tif (['updated at', 'created at'].includes(column.toLowerCase())) {\r\n\t\t\t\t\treturn ucwords(column.split(' ')[0]);\r\n\t\t\t\t}\r\n\t\t\t\tif (column.toLowerCase() === 'profile picture') {\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\t\t\t\treturn column;\r\n\t\t\t})}\r\n\t\t\tdata={users.map((user) => ({\r\n\t\t\t\t...user,\r\n\t\t\t\tcreated_at: dayjs(user.created_at).fromNow(),\r\n\t\t\t\tupdated_at: dayjs(user.updated_at).fromNow(),\r\n\t\t\t\trole: <span className={`badge badge-${getBadge(user.role)}`}>{user.role}</span>,\r\n\t\t\t\tprofilePicture: (\r\n\t\t\t\t\t<Link to={path(`${user.id}`)}>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc={user.profilePicture?.url || 'https://via.placeholder.com/40'}\r\n\t\t\t\t\t\t\tclassName='rounded-circle shadow-sm border img-fluid d-none d-xl-block'\r\n\t\t\t\t\t\t\tstyle={{ height: '40px', width: '40px' }}\r\n\t\t\t\t\t\t\talt='Profile'\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t),\r\n\t\t\t}))}\r\n\t\t\tprocessing={processing}\r\n\t\t\tonAddClick={() => history.push(path('add'))}\r\n\t\t\tonViewClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}`));\r\n\t\t\t}}\r\n\t\t\tonEditClick={({ id }) => {\r\n\t\t\t\thistory.push(path(`${id}/edit`));\r\n\t\t\t}}\r\n\t\t\tonDeleteConfirm={({ id }) => {\r\n\t\t\t\tdeleteUser(id);\r\n\t\t\t}}\r\n\t\t\tonRefreshClick={fetchUsers}\r\n\t\t\twithAction={true}\r\n\t\t\tpagination={true}\r\n\t\t/>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { User } from '../../../contracts/User';\r\nimport { handleError } from '../../../helpers';\r\nimport toastr from 'toastr';\r\n\r\nexport function View() {\r\n\tconst [user, setUser] = useState<User | null>(null);\r\n\tconst history = useHistory();\r\n\r\n\tconst fetchUser = async (userID: string) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<User>(`/users/show?id=${userID}`);\r\n\t\t\tsetUser(data);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tlet deleting = false;\r\n\r\n\tconst deleteUser = async () => {\r\n\t\tif (deleting) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdeleting = true;\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/users?id=${user?.id}`);\r\n\t\t\ttoastr.success('User deleted successfully.');\r\n\t\t\thistory.goBack();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tdeleting = false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst { params } = useRouteMatch<{ id: string }>();\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchUser(params.id);\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst profileURL = user?.profilePicture?.url || 'https://via.placeholder.com/200';\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h3 className='mb-0'>View User</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12 d-flex'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<Link to={`${window.location.pathname}/edit`} className='btn btn-warning btn-sm align-self-center ml-auto'>\r\n\t\t\t\t\t\tEdit\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<a\r\n\t\t\t\t\t\thref={`${window.location.pathname}/delete`}\r\n\t\t\t\t\t\tclassName='btn btn-danger btn-sm align-self-center ml-1'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t$('#deleteUserModal').modal('show');\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tDelete\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t{user ? (\r\n\t\t\t\t\t\t<div className='card shadow rounded'>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={profileURL}\r\n\t\t\t\t\t\t\t\t\talt='Profile'\r\n\t\t\t\t\t\t\t\t\tclassName='img-fluid rounded-circle mb-3'\r\n\t\t\t\t\t\t\t\t\tstyle={{ height: '50px', width: '50px' }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<h6>Name</h6>\r\n\t\t\t\t\t\t\t\t<p>{user.name}</p>\r\n\t\t\t\t\t\t\t\t<h6>Email</h6>\r\n\t\t\t\t\t\t\t\t<p>{user.email}</p>\r\n\t\t\t\t\t\t\t\t<h6>Phone</h6>\r\n\t\t\t\t\t\t\t\t<p>{user.phone}</p>\r\n\t\t\t\t\t\t\t\t<h6>Role</h6>\r\n\t\t\t\t\t\t\t\t<p>{user.role}</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\r\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName='modal fade'\r\n\t\t\t\tid={`deleteUserModal`}\r\n\t\t\t\ttabIndex={-1}\r\n\t\t\t\trole='dialog'\r\n\t\t\t\taria-labelledby={`deleteUserModalLabel`}\r\n\t\t\t\taria-hidden='true'>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteUserModalLabel`}>\r\n\t\t\t\t\t\t\t\tDelete User\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'>Are you sure you want to delete {user?.name || 'this user'}?</div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t$('#deleteUserModal').modal('hide');\r\n\t\t\t\t\t\t\t\t\tdeleteUser();\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { Form } from './Form';\r\nimport { List } from './List';\r\nimport { View } from './View';\r\n\r\nexport function Users() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={List} />\r\n\t\t\t<Route path={url('/add')} component={Form} />\r\n\t\t\t<Route path={url('/:id')} exact component={View} />\r\n\t\t\t<Route path={url('/:id/edit')} component={Form} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { routes } from '../../routes';\r\nimport { Requests } from '../Shared/Requests';\r\nimport { CMS } from './CMS';\r\nimport { Contacts } from './Contacts';\r\nimport { DocumentTypes } from './DocumentTypes';\r\nimport { Downloadables } from './Downloadables';\r\nimport { Stats } from './Stats';\r\nimport { Users } from './Users/index';\r\n\r\nexport function Admin() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={Stats} />\r\n\t\t\t<Route path={url(routes.USERS)} component={Users} />\r\n\t\t\t<Route path={url(routes.DOCUMENT_TYPES)} component={DocumentTypes} />\r\n\t\t\t<Route path={url(routes.REQUESTS.ROOT)} component={Requests} />\r\n\t\t\t<Route path={url(routes.DOWNLOADABLES)} component={Downloadables} />\r\n\t\t\t<Route path={url(routes.CMS)} component={CMS} />\r\n\t\t\t<Route path={url(routes.CONTACTS)} component={Contacts} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { outIf } from '../../helpers';\r\nimport { routes } from '../../routes';\r\n\r\nexport function AdminSidebar() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst links = [\r\n\t\t{\r\n\t\t\turl: routes.DASHBOARD,\r\n\t\t\ticon: 'nc-icon nc-bank',\r\n\t\t\ttitle: 'Dashboard',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.DOCUMENT_TYPES),\r\n\t\t\ticon: 'nc-icon nc-book-bookmark',\r\n\t\t\ttitle: 'Document Types',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.REQUESTS.ROOT),\r\n\t\t\ticon: 'nc-icon nc-tag-content',\r\n\t\t\ttitle: 'Requests',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(`${routes.REQUESTS.ROOT}${routes.REQUESTS.INACTIVE}`),\r\n\t\t\ticon: 'nc-icon nc-calendar-60',\r\n\t\t\ttitle: 'Inactive Requests',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(`${routes.REQUESTS.ROOT}${routes.REQUESTS.ARCHIVED}`),\r\n\t\t\ticon: 'nc-icon nc-box-2',\r\n\t\t\ttitle: 'Archived Requests',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.USERS),\r\n\t\t\ticon: 'nc-icon nc-single-02',\r\n\t\t\ttitle: 'Users',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.CMS),\r\n\t\t\ticon: 'nc-icon nc-layout-11',\r\n\t\t\ttitle: 'Customization',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.CONTACTS),\r\n\t\t\ticon: 'nc-icon nc-single-copy-04',\r\n\t\t\ttitle: 'Contacts',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className='sidebar-wrapper bg-maroon' style={{ overflowX: 'hidden' }}>\r\n\t\t\t<ul className='nav'>\r\n\t\t\t\t{links.map((link, index) => (\r\n\t\t\t\t\t<li className={outIf(link.url === window.location.pathname, 'active')}  key={index}>\r\n\t\t\t\t\t\t<Link to={link.url}>\r\n\t\t\t\t\t\t\t<i className= {link.icon} ></i>\r\n\t\t\t\t\t\t\t<p>{link.title}</p>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { routes } from '../../routes';\r\nimport { Stats } from '../Admin/Stats';\r\nimport { Requests } from '../Shared/Requests';\r\n\r\nexport function Cashier() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={Stats} />\r\n\t\t\t<Route path={url(routes.REQUESTS.ROOT)} component={Requests} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { outIf } from '../../helpers';\r\nimport { routes } from '../../routes';\r\n\r\nexport function CashierSidebar() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst links = [\r\n\t\t{\r\n\t\t\turl: routes.DASHBOARD,\r\n\t\t\ticon: 'nc-icon nc-bank',\r\n\t\t\ttitle: 'Dashboard',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.REQUESTS.ROOT),\r\n\t\t\ticon: 'nc-icon nc-tag-content',\r\n\t\t\ttitle: 'Requests',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className='sidebar-wrapper' style={{ overflowX: 'hidden' }}>\r\n\t\t\t<ul className='nav'>\r\n\t\t\t\t{links.map((link, index) => (\r\n\t\t\t\t\t<li className={outIf(link.url === window.location.pathname, 'active')} key={index}>\r\n\t\t\t\t\t\t<Link to={link.url}>\r\n\t\t\t\t\t\t\t<i className={link.icon}></i>\r\n\t\t\t\t\t\t\t<p>{link.title}</p>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { ChangeEvent, createRef, useEffect, useState } from 'react';\r\nimport { User } from '../contracts/User';\r\nimport { handleError, outIf } from '../helpers';\r\nimport state from '../state';\r\nimport toastr from 'toastr';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport function Profile() {\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst [data, setData] = useState(state.get<User>('user'));\r\n\tconst [profileURL, setProfileURL] = useState(data.profilePicture?.url || 'https://via.placeholder.com/200');\r\n\tconst user = data;\r\n\r\n\tconst fileRef = createRef<HTMLInputElement>();\r\n\r\n\tconst reader = new FileReader();\r\n\r\n\tlet changingProfile = false;\r\n\r\n\treader.onload = async (e) => {\r\n\t\tif (e.target && e.target.result) {\r\n\t\t\tif (changingProfile) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tchangingProfile = true;\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await axios.put<User>('/self/profile', {\r\n\t\t\t\t\tfile: String(e.target.result),\r\n\t\t\t\t});\r\n\r\n\t\t\t\tsetProfileURL(data.profilePicture?.url || 'https://via.placeholder.com/200');\r\n\r\n\t\t\t\tstate.set('user', data);\r\n\r\n\t\t\t\ttoastr.info('Profile picture saved.', 'Info');\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.log(error);\r\n\t\t\t\thandleError(error);\r\n\t\t\t} finally {\r\n\t\t\t\t$<HTMLFormElement>('#file-upload')[0].reset();\r\n\t\t\t\tchangingProfile = false;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.put<User>(`/self`, data);\r\n\t\t\tstate.set('user', response.data);\r\n\t\t\ttoastr.info('Profile updated successfully.', 'Info');\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\t$('.main-panel').removeClass('h-100');\r\n\t\tconst key = state.listen<User>('user', (user) => {\r\n\t\t\tsetData({ ...data });\r\n\t\t});\r\n\t\treturn () => {\r\n\t\t\tstate.unlisten('user', key);\r\n\t\t};\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n\t\tconst { id, value } = e.target;\r\n\t\tsetData({\r\n\t\t\t...data,\r\n\t\t\t[id]: value,\r\n\t\t});\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='row'>\r\n\t\t\t<div className='col-md-4'>\r\n\t\t\t\t<div className='card card-user w-100'>\r\n\t\t\t\t\t<div className='image'>\r\n\t\t\t\t\t\t<img src='/assets/img/damir-bosnjak.jpg' alt='...' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\thref={window.location.pathname}\r\n\t\t\t\t\t\t\t\ttitle='Change Profile Picture'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\tfileRef.current?.click();\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t<img className='avatar border-gray shadow-sm' src={profileURL} alt='...' />\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<Link to={window.location.pathname}>\r\n\t\t\t\t\t\t\t\t<h5 className='title'>{user.name}</h5>\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t<p className='description'>@{user.name.split(' ').join('').toLowerCase()}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-footer'>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t<div className='button-container'>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-lg-3 col-md-6 col-6 ml-auto'>\r\n\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t12\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<small>Files</small>\r\n\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-lg-4 col-md-6 col-6 ml-auto mr-auto'>\r\n\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t2\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<small>Requests</small>\r\n\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-lg-3 mr-auto'>\r\n\t\t\t\t\t\t\t\t\t<h5>\r\n\t\t\t\t\t\t\t\t\t\t5\r\n\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t<small>Logins</small>\r\n\t\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='col-md-8'>\r\n\t\t\t\t<div className='card card-user'>\r\n\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t<h5 className='card-title'>Edit Profile</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t<form id='file-upload' onSubmit={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\tref={fileRef}\r\n\t\t\t\t\t\t\t\tclassName='d-none'\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\treader.readAsDataURL(e.target.files[0]);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\taccept='image/*'\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tonSubmit={async (e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tawait submit();\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='name'>Name</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\t\t\t\t\tid='name'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Name'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.name}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='email'>Email</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='phone'>Phone</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tname='phone'\r\n\t\t\t\t\t\t\t\t\t\t\tid='phone'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Phone'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.phone}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t\t<label htmlFor='password'>Password</label>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='update ml-auto mr-auto'>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-primary btn-round text-center ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: '160px' }}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t'Update Profile'\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\n\r\nexport function Footer() {\r\n\treturn (\r\n\t\t<footer className='footer d-none' style={{ position: 'absolute', bottom: 0, width: '-webkit-fill-available' }}>\r\n\t\t\t<div className='container-fluid'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<nav className='footer-nav'>\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref='/'\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tBlog\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\thref='/'\r\n\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\tLicenses\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</nav>\r\n\t\t\t\t\t<div className='credits ml-auto'>\r\n\t\t\t\t\t\t<span className='copyright'>\r\n\t\t\t\t\t\t\t 2020, made with <i className='fa fa-heart heart'></i> by JMM\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</footer>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { sentencify } from '../../helpers';\r\nimport { routes } from '../../routes';\r\nimport state from '../../state';\r\nimport toastr from 'toastr';\r\nimport { Request } from '../../contracts/Request';\r\nimport { User } from '../../contracts/User';\r\n\r\nexport function Header() {\r\n\tconst [expiring, setExpiring] = useState<Request[]>([]);\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst fragments = match.path.split('/');\r\n\r\n\tconst title = sentencify(fragments[fragments.length - 1]);\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\tconst logout = async () => {\r\n\t\ttry {\r\n\t\t\tawait axios.post('/auth/logout');\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error);\r\n\t\t} finally {\r\n\t\t\tstate.clear();\r\n\t\t\thistory.push(routes.LOGIN);\r\n\t\t\ttoastr.info('Logged out successfully.', 'Info');\r\n\t\t}\r\n\t};\r\n\r\n\tconst fetchExpiring = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Request[]>(`/requests/expiring`);\r\n\t\t\tif (user.role === 'Applicant' && data.length > 0) {\r\n\t\t\t\treturn setExpiring(Array.from(data.filter((request) => request.user_id === user.id)));\r\n\t\t\t}\r\n\t\t\tsetExpiring(Array.from(data));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handle = setInterval(() => fetchExpiring(), 5000);\r\n\t\treturn () => {\r\n\t\t\tclearInterval(handle);\r\n\t\t};\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<nav className='navbar navbar-expand-lg navbar-absolute fixed-top navbar-transparent '>\r\n\t\t\t<div className='container-fluid bg-grad'>\r\n\t\t\t\t<div className='navbar-wrapper'>\r\n\t\t\t\t\t<div className='navbar-toggle'>\r\n\t\t\t\t\t\t<button type='button' className='navbar-toggler'>\r\n\t\t\t\t\t\t\t<span className='navbar-toggler-bar bar1'></span>\r\n\t\t\t\t\t\t\t<span className='navbar-toggler-bar bar2'></span>\r\n\t\t\t\t\t\t\t<span className='navbar-toggler-bar bar3'></span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<a className='navbar-brand' href='/' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</a>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='navbar-toggler'\r\n\t\t\t\t\ttype='button'\r\n\t\t\t\t\tdata-toggle='collapse'\r\n\t\t\t\t\tdata-target='#navigation'\r\n\t\t\t\t\taria-controls='navigation-index'\r\n\t\t\t\t\taria-expanded='false'\r\n\t\t\t\t\taria-label='Toggle navigation'>\r\n\t\t\t\t\t<span className='navbar-toggler-bar navbar-kebab'></span>\r\n\t\t\t\t\t<span className='navbar-toggler-bar navbar-kebab'></span>\r\n\t\t\t\t\t<span className='navbar-toggler-bar navbar-kebab'></span>\r\n\t\t\t\t</button>\r\n\t\t\t\t<div className='collapse navbar-collapse justify-content-end' id='navigation'>\r\n\t\t\t\t\t{/* <form>\r\n\t\t\t\t\t\t<div className='input-group no-border'>\r\n\t\t\t\t\t\t\t<input type='text' className='form-control' placeholder='Search...' />\r\n\t\t\t\t\t\t\t<div className='input-group-append'>\r\n\t\t\t\t\t\t\t\t<div className='input-group-text'>\r\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-zoom-split'></i>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form> */}\r\n\t\t\t\t\t<ul className='navbar-nav'>\r\n\t\t\t\t\t\t<li className='nav-item btn-rotate dropdown'>\r\n\t\t\t\t\t\t\t<div className='dropdown-menu dropdown-menu-right p-0'>\r\n\t\t\t\t\t\t\t\t{expiring.map((request, index) => (\r\n\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\tclassName='dropdown-item d-flex'\r\n\t\t\t\t\t\t\t\t\t\tto={`${routes.DASHBOARD}${routes.REQUESTS.ROOT}/${request.id}`}\r\n\t\t\t\t\t\t\t\t\t\tkey={index}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-key-25 align-self-center mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t<span className='align-self-center'>Request for user {request.user?.name} is about to expire.</span>\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t<li className='nav-item btn-rotate dropdown'>\r\n\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\tclassName='nav-link dropdown-toggle'\r\n\t\t\t\t\t\t\t\thref='/'\r\n\t\t\t\t\t\t\t\tid='navbarDropdownMenuLink'\r\n\t\t\t\t\t\t\t\tdata-toggle='dropdown'\r\n\t\t\t\t\t\t\t\taria-expanded='false'>\r\n\t\t\t\t\t\t\t\t<i className='nc-icon nc-circle-10'></i>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<span className='d-lg-none d-md-block'>Account</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t<div className='dropdown-menu dropdown-menu-right p-0' aria-labelledby='navbarDropdownMenuLink'>\r\n\t\t\t\t\t\t\t\t<Link to={url(routes.PROFILE)} className='dropdown-item d-flex'>\r\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-single-02 align-self-center mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t<span className='align-self-center'>Profile</span>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\tclassName='dropdown-item d-flex'\r\n\t\t\t\t\t\t\t\t\thref={'/logout'}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tlogout();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-key-25 align-self-center mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t<span className='align-self-center'>Logout</span>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { ChangeEvent, createRef, RefObject, useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { handleError, outIf } from '../../../helpers';\r\nimport toastr from 'toastr';\r\nimport { Request } from '../../../contracts/Request';\r\nimport state from '../../../state';\r\nimport { User } from '../../../contracts/User';\r\nimport { DocumentType } from '../../../contracts/DocumentType';\r\n\r\nexport function Form() {\r\n\tconst [processing, setProcessing] = useState(true);\r\n\tconst [data, setData] = useState<any>({\r\n\t\tdocument_type_id: -1,\r\n\t\tapproved: false,\r\n\t\tstatus: 'Received',\r\n\t\tuser_id: state.get<User>('user').id,\r\n\t\tcopies: 1,\r\n\t\treason: '',\r\n\t\tacknowledged_dates: JSON.stringify([]),\r\n\t});\r\n\tconst [refs, setRefs] = useState<RefObject<HTMLInputElement>[]>([]);\r\n\tconst [files, setFiles] = useState<(File | null)[]>([]);\r\n\tconst [types, setTypes] = useState<Array<DocumentType>>([]);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst handleChange = (e: ChangeEvent<HTMLInputElement | HTMLSelectElement>) => {\r\n\t\tconst { id, value } = e.target;\r\n\t\tsetData({\r\n\t\t\t...data,\r\n\t\t\t[id]: value,\r\n\t\t});\r\n\t};\r\n\r\n\tconst fetchTypes = async () => {\r\n\t\ttry {\r\n\t\t\tconst response = await axios.get<Array<DocumentType>>('/document-types');\r\n\t\t\tif (response.data.length === 0) {\r\n\t\t\t\ttoastr.info('There are no available documents that you can request right now. Please try again later.', 'Notice');\r\n\t\t\t\treturn history.goBack();\r\n\t\t\t}\r\n\t\t\tsetTypes(response.data);\r\n\t\t\tsetData({ ...data, document_type_id: response.data[0].id as number });\r\n\t\t\tsetProcessing(false);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to connect to server. Please try again later.');\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchTypes();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\tconst createTask = async (title: string, request: Request) => {\r\n\t\ttry {\r\n\t\t\tawait axios.post(`/requests/tasks`, {\r\n\t\t\t\tfor: 'Received',\r\n\t\t\t\ttitle,\r\n\t\t\t\trequest_id: request.id,\r\n\t\t\t\tdone: false,\r\n\t\t\t\tname: user.name,\r\n\t\t\t});\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t}\r\n\t};\r\n\r\n\tconst submit = async () => {\r\n\t\tif (processing) return;\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst payload = new FormData();\r\n\r\n\t\t\tfor (const key in data) {\r\n\t\t\t\tpayload.append(key, data[key]);\r\n\t\t\t}\r\n\r\n\t\t\tfiles.filter((file) => file instanceof File).forEach((file) => payload.append('files[]', file!));\r\n\r\n\t\t\tconst { data: request } = await axios.post<Request>('/requests', payload);\r\n\r\n\t\t\tif (request.documentType) {\r\n\t\t\t\tawait Promise.all(\r\n\t\t\t\t\tArray.from<string>(JSON.parse((request.documentType?.requirements as any) || '[]')).map((requirement) =>\r\n\t\t\t\t\t\tcreateTask(requirement, request)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tsetFiles([]);\r\n\t\t\ttoastr.success('Request created successfully.');\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tclassName='container text-yellow'\r\n\t\t\tonSubmit={async (e) => {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\tawait submit();\r\n\t\t\t}}>\r\n\t\t\t<div className='d-flex'>\r\n\t\t\t\t<h3 className='align-self-center mb-0 text-yellow'>Create Request</h3>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center ml-auto'\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t}}>\r\n\t\t\t\t\tBack\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group text-yellow'>\r\n\t\t\t\t<label htmlFor='document_type_id'>Document Type</label>\r\n\t\t\t\t<select\r\n\t\t\t\t\tname='document_type_id'\r\n\t\t\t\t\tid='document_type_id'\r\n\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tvalue={data.document_type_id}>\r\n\t\t\t\t\t{types.map((type, index) => (\r\n\t\t\t\t\t\t<option key={index} value={type.id}>\r\n\t\t\t\t\t\t\t{type.name}\r\n\t\t\t\t\t\t</option>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</select>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='copies '>Copies</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tname='copies'\r\n\t\t\t\t\tid='copies'\r\n\t\t\t\t\tplaceholder='Copies'\r\n\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tvalue={data.copies}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<label htmlFor='reason'>Reason</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tname='reason'\r\n\t\t\t\t\tid='reason'\r\n\t\t\t\t\tplaceholder='Reason'\r\n\t\t\t\t\tclassName='form-control form-control-sm'\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tvalue={data.reason}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div className='container-fluid'>\r\n\t\t\t\t<h6>Requirements</h6>\r\n\t\t\t\t{((requirements) => {\r\n\t\t\t\t\tif (!requirements) {\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst data = JSON.parse(requirements as any);\r\n\t\t\t\t\t\tif (!data) {\r\n\t\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn data as string[];\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\tconsole.log(error.toJSON());\r\n\t\t\t\t\t\treturn [];\r\n\t\t\t\t\t}\r\n\t\t\t\t})(types.find((type) => Number(type.id) === Number(data.document_type_id))?.requirements || '').map(\r\n\t\t\t\t\t(requirement, index) => (\r\n\t\t\t\t\t\t<p key={index}>{requirement}</p>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t\t<h6>Forms</h6>\r\n\t\t\t\t{types\r\n\t\t\t\t\t.find((type) => Number(type.id) === Number(data.document_type_id))\r\n\t\t\t\t\t?.files?.map((file, index) => (\r\n\t\t\t\t\t\t<p key={index}>\r\n\t\t\t\t\t\t\t<a href={`${file.file?.url}&download=true`} target='_blank' rel='noreferrer'>\r\n\t\t\t\t\t\t\t\t{file.file?.name}\r\n\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t))}\r\n\t\t\t\t<h6>Compliance</h6>\r\n\t\t\t\t<div className='container'>\r\n\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\trefs.push(createRef());\r\n\t\t\t\t\t\t\t\t\tsetRefs([...refs]);\r\n\t\t\t\t\t\t\t\t\tfiles.push(null);\r\n\t\t\t\t\t\t\t\t\tsetFiles([...files]);\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tAdd File\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{refs.map((ref, index) => (\r\n\t\t\t\t\t\t\t<div className='col-12 col-md-4 col-lg-3 col-xl-2 p-2 border rounded' key={index}>\r\n\t\t\t\t\t\t\t\t<p>{files[index] ? files[index]?.name : ''}</p>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName={`btn ${files[index] === null ? 'btn-secondary' : 'btn-danger'} btn-sm`}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\tif (files[index] === null) {\r\n\t\t\t\t\t\t\t\t\t\t\tref.current?.click();\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tfiles.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\tsetFiles([...files]);\r\n\t\t\t\t\t\t\t\t\t\t\trefs.splice(index, 1);\r\n\t\t\t\t\t\t\t\t\t\t\tsetRefs([...refs]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t{files[index] === null ? 'Upload' : 'Remove'}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\tref={ref}\r\n\t\t\t\t\t\t\t\t\ttype='file'\r\n\t\t\t\t\t\t\t\t\tclassName='d-none'\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tif (e.target.files && e.target.files.length > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tfiles.splice(index, 1, e.target.files[0]);\r\n\t\t\t\t\t\t\t\t\t\t\tsetFiles([...files]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className='form-group'>\r\n\t\t\t\t<button type='submit' className={`btn btn-primary btn-sm ${outIf(processing, 'disabled')}`} disabled={processing}>\r\n\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t'Save'\r\n\t\t\t\t\t)}\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport { exceptMany } from '../../../helpers';\r\nimport { Table } from '../../Shared/Table';\r\nimport toastr from 'toastr';\r\nimport dayjs from 'dayjs';\r\nimport { Request } from '../../../contracts/Request';\r\nimport { TrackRequest } from '../../TrackRequest';\r\n\r\nexport function List() {\r\n\tconst [requests, setRequests] = useState<Array<Request>>([]);\r\n\tconst [processing, setProcessing] = useState(false);\r\n\tconst match = useRouteMatch();\r\n\tconst history = useHistory();\r\n\r\n\tconst path = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst fetchRequests = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<Request>>('/self/requests');\r\n\t\t\tsetRequests(exceptMany(data, ['document_type_id', 'file_id', 'user_id', 'file', 'acknowledged_dates']));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to fetch requests.');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchRequests();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TrackRequest />\r\n\t\t\t<Table\r\n\t\t\t\ttitle='Requests'\r\n\t\t\t\tdata={requests.map((request) => ({\r\n\t\t\t\t\t...request,\r\n\t\t\t\t\tdocumentType: request.documentType!.name,\r\n\t\t\t\t\tapproved: request.approved ? 'Yes' : 'No',\r\n\t\t\t\t\texpired: request.expired ? <span className='badge badge-red'>Yes</span> : <span className='badge badge-green'>No</span>,\r\n\t\t\t\t\tcreated_at: dayjs(request.created_at).fromNow(),\r\n\t\t\t\t\tupdated_at: dayjs(request.updated_at).fromNow(),\r\n\t\t\t\t\tacknowledged: request.acknowledged ? (\r\n\t\t\t\t\t\t<span className='badge badge-green'>Yes</span>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<span className='badge badge-red'>No</span>\r\n\t\t\t\t\t),\r\n\t\t\t\t\tstatus: request.acknowledged ? (\r\n\t\t\t\t\t\t<span className='badge badge-green'>{request.status}</span>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<span className='badge badge-danger'>Pending</span>\r\n\t\t\t\t\t),\r\n\t\t\t\t}))}\r\n\t\t\t\tprocessing={processing}\r\n\t\t\t\tonAddClick={() => history.push(path('add'))}\r\n\t\t\t\tonViewClick={({ id }) => {\r\n\t\t\t\t\thistory.push(path(`${id}`));\r\n\t\t\t\t}}\r\n\t\t\t\tonEditClick={() => {}}\r\n\t\t\t\tonDeleteConfirm={() => {}}\r\n\t\t\t\tonRefreshClick={fetchRequests}\r\n\t\t\t\twithAction={true}\r\n\t\t\t\tpagination={true}\r\n\t\t\t\tdontShowEdit={true}\r\n\t\t\t\tdontShowDelete={true}\r\n\t\t\t/>\r\n\t\t</>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\r\nimport toastr from 'toastr';\r\nimport { statuses } from '../../../constants';\r\nimport { AcknowledgedDate, Request } from '../../../contracts/Request';\r\nimport { User } from '../../../contracts/User';\r\nimport { handleError } from '../../../helpers';\r\nimport state from '../../../state';\r\nimport dayjs from 'dayjs';\r\nimport relativeTime from 'dayjs/plugin/relativeTime';\r\n\r\ndayjs.extend(relativeTime);\r\n\r\nexport function View() {\r\n\tconst [request, setRequest] = useState<Request | null>(null);\r\n\tconst history = useHistory();\r\n\tconst [feedback, setFeedback] = useState('');\r\n\r\n\tconst fetchRequest = async (requestID: string) => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Request>(`/requests/show?id=${requestID}`);\r\n\t\t\tsetRequest(data);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\thistory.goBack();\r\n\t\t}\r\n\t};\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\tlet deleting = false;\r\n\r\n\tconst deleteRequest = async () => {\r\n\t\tif (deleting) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdeleting = true;\r\n\t\ttry {\r\n\t\t\tawait axios.delete(`/requests?id=${request?.id}`);\r\n\t\t\ttoastr.success('Request deleted successfully.');\r\n\t\t\thistory.goBack();\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t} finally {\r\n\t\t\tdeleting = false;\r\n\t\t}\r\n\t};\r\n\r\n\tconst makeStatuses = (status: RequestStatus) => {\r\n\t\tconst level = ((status) => {\r\n\t\t\tswitch (status) {\r\n\t\t\t\tcase 'Received':\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\tcase 'Payment':\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\tcase 'Evaluating':\r\n\t\t\t\t\treturn 3;\r\n\t\t\t\tcase 'Evaluated':\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase 'Signed':\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase 'Releasing':\r\n\t\t\t\t\treturn 4;\r\n\t\t\t\tcase 'Released':\r\n\t\t\t\t\treturn 5;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t})(status);\r\n\r\n\t\treturn {\r\n\t\t\tstatuses: statuses.filter((status) => !['Released', 'Evaluated'].includes(status)),\r\n\t\t\tlevel,\r\n\t\t};\r\n\t};\r\n\r\n\tconst { params } = useRouteMatch<{ id: string }>();\r\n\tconst origin = window.location.origin;\r\n\tconst exportToPDF = async () => {\r\n\t\tconst card = $(String($('#request-card')[0].innerHTML));\r\n\r\n\t\tcard.find('button').remove();\r\n\t\tcard.find('.bi-plus-circle').remove();\r\n\t\tcard.find('i[title=\"Mark as Not Done\"]').remove();\r\n\t\tcard.find('i[title=\"Mark as Done\"]').remove();\r\n\t\tcard.find('i[title=\"Edit\"]').remove();\r\n\t\tcard.find('i[title=\"Delete\"]').remove();\r\n\r\n\t\tconst iframe = $('#iframe')[0] as HTMLIFrameElement;\r\n\t\tconst css = [\r\n\t\t\t'https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css',\r\n\t\t\t'https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css',\r\n\t\t\t'https://fonts.googleapis.com/css?family=Montserrat:400,700,200',\r\n\t\t\torigin + '/assets/css/bootstrap.min.css',\r\n\t\t\torigin + '/assets/css/paper-dashboard.css',\r\n\t\t\torigin + '/assets/demo/demo.css',\r\n\t\t];\r\n\t\tconst window = iframe.contentWindow;\r\n\r\n\t\twindow?.document.open();\r\n\r\n\t\tif (window && window.document) {\r\n\t\t\twindow.document.write('<head>');\r\n\r\n\t\t\tconst parsed = await Promise.all(\r\n\t\t\t\tcss.map(async (url) => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst { data } = await axios.get<string>(url);\r\n\t\t\t\t\t\treturn `<style>${data}</style>`;\r\n\t\t\t\t\t} catch (_) {\r\n\t\t\t\t\t\treturn `<link href=\"${url}\" rel=\"stylesheet\" />`;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t);\r\n\r\n\t\t\tconsole.log(parsed);\r\n\r\n\t\t\tparsed.forEach((css) => {\r\n\t\t\t\twindow.document.write(css);\r\n\t\t\t});\r\n\t\t\twindow.document.write('</head>');\r\n\r\n\t\t\twindow.document.write('<body>');\r\n\t\t\twindow.document.write(card.html());\r\n\t\t\twindow.document.write('</body>');\r\n\t\t\twindow.document.close();\r\n\t\t\twindow.focus();\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\twindow.print();\r\n\t\t\t}, 500);\r\n\t\t}\r\n\t};\r\n\r\n\tconst sendFeedback = async () => {\r\n\t\ttry {\r\n\t\t\tawait axios.put(`/requests?id=${request?.id}`, {\r\n\t\t\t\tevaluation: feedback,\r\n\t\t\t});\r\n\t\t\tsetRequest({\r\n\t\t\t\t...request!,\r\n\t\t\t\tevaluation: feedback,\r\n\t\t\t});\r\n\t\t\ttoastr.success('Feedback sent successfully!');\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to send feedback.');\r\n\t\t}\r\n\t};\r\n\r\n\tconst findDate = (status: string) => {\r\n\t\tconst dates = Array.from<AcknowledgedDate>(JSON.parse(request?.acknowledged_dates || '[]'));\r\n\t\treturn dates.find((date) => date.status === status);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchRequest(params.id);\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='container'>\r\n\t\t\t<div className='row'>\r\n\t\t\t\t<div className='col-12'>\r\n\t\t\t\t\t<h3 className='mb-0'>View Request</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12 d-flex'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='btn btn-info btn-sm align-self-center'\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\thistory.goBack();\r\n\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\tBack\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t{user && user.role !== 'Applicant' ? (\r\n\t\t\t\t\t\t<Link to={`${window.location.pathname}/edit`} className='btn btn-warning btn-sm align-self-center ml-auto'>\r\n\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{user && user.role !== 'Applicant' ? (\r\n\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\thref={`${window.location.pathname}/delete`}\r\n\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm align-self-center ml-1'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t$('#deleteRequestModal').modal('show');\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='col-12' id='request-card'>\r\n\t\t\t\t\t{request ? (\r\n\t\t\t\t\t\t<div className='card shadow rounded'>\r\n\t\t\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-success btn-sm`}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\texportToPDF();\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<i className='fas fa-print'></i> Export to PDF\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<p className='card-title'>Requester's Name: {request.user!.name}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-title'>Date: {dayjs(request.updated_at).format('MMMM DD, YYYY hh:mm A')}</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text'>Document Type: {request.documentType!.name}</p>\r\n\t\t\t\t\t\t\t\t{request.user?.student_id_number ? (\r\n\t\t\t\t\t\t\t\t\t<p className='card-text'>Student ID Number: {request.user.student_id_number}</p>\r\n\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t<p className='card-text'>\r\n\t\t\t\t\t\t\t\t\tLast Updated By:{' '}\r\n\t\t\t\t\t\t\t\t\t{request.logs &&\r\n\t\t\t\t\t\t\t\t\trequest.logs.length > 0 &&\r\n\t\t\t\t\t\t\t\t\trequest.logs[request.logs.length - 1].user.role !== 'Applicant'\r\n\t\t\t\t\t\t\t\t\t\t? `${request.logs[request.logs.length - 1].user.name} - ${dayjs(\r\n\t\t\t\t\t\t\t\t\t\t\t\trequest.logs[request.logs.length - 1].created_at\r\n\t\t\t\t\t\t\t\t\t\t  ).format('MMMM DD, YYYY')}`\r\n\t\t\t\t\t\t\t\t\t\t: 'N/A'}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p className='card-text mb-2'>Status: {request.status}</p>\r\n\t\t\t\t\t\t\t\t<ul className='list-group'>\r\n\t\t\t\t\t\t\t\t\t{(({ level, statuses }) => {\r\n\t\t\t\t\t\t\t\t\t\treturn statuses.map((status, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<li className='list-group-item' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{level !== 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfindDate(status) ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle-fill mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : level >= index + 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-circle mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-x-circle-fill mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{status}{' '}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{findDate(status)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? `- ${dayjs(findDate(status)?.date).format('MMMM DD, YYYY hh:mm A')}`\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: ''}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.tasks ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ul className='list-group mt-2'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{request.tasks\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.filter((task) => task.for === status)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((task, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<li className='list-group-item' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.done ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-check-circle-fill mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-circle mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{task.title}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t));\r\n\t\t\t\t\t\t\t\t\t})(makeStatuses(request.status))}\r\n\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t<div className='card w-100 mx-1 my-4 shadow rounded'>\r\n\t\t\t\t\t\t\t\t\t<div className='card-header'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>History</h4>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='card-body table-responsive' style={{ overflowY: 'hidden' }}>\r\n\t\t\t\t\t\t\t\t\t\t<table className='table table-sm text-center'>\r\n\t\t\t\t\t\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>User</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Action</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<th>Date</th>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.logs!.length === 0 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>No Data</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td></td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{request.logs!.map((log, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<tr key={index}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{log.user.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{log.action}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<td>{dayjs(log.updated_at).format('MMMM DD, YYYY hh:mm A')}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t\t\t\t\t\t</table>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{request.evaluation !== null ? null : (\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<hr className='my-2' />\r\n\t\t\t\t\t\t\t\t\t\t<h6>Leave a Feedback</h6>\r\n\t\t\t\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\t\t\t\tcols={30}\r\n\t\t\t\t\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='form-control'\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetFeedback(e.target.value);\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={feedback}></textarea>\r\n\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-info btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t\t\t\tsendFeedback();\r\n\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\tSend\r\n\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{request.approved ? (\r\n\t\t\t\t\t\t\t\trequest.expired ? (\r\n\t\t\t\t\t\t\t\t\t<div className='card-footer pb-5'>\r\n\t\t\t\t\t\t\t\t\t\t<span className='btn btn-danger btn-sm font-weight-bold'>\r\n\t\t\t\t\t\t\t\t\t\t\tThis request has expired. Please request this document again.\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className='card-footer'>\r\n\t\t\t\t\t\t\t\t\t\t{request.file ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<a\r\n\t\t\t\t\t\t\t\t\t\t\t\thref={`${request.file.url}&download=true`}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName='btn btn-success btn-sm'\r\n\t\t\t\t\t\t\t\t\t\t\t\ttarget='_blank'\r\n\t\t\t\t\t\t\t\t\t\t\t\trel='noreferrer'>\r\n\t\t\t\t\t\t\t\t\t\t\t\tDownload Document\r\n\t\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<span>The request is approved but there is no attached document yet.</span>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className='d-flex h-100 w-100'>\r\n\t\t\t\t\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t\t\t\t\t<i className='fas fa-circle-notch fa-spin fa-2x'></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tclassName='modal fade'\r\n\t\t\t\tid={`deleteRequestModal`}\r\n\t\t\t\ttabIndex={-1}\r\n\t\t\t\trole='dialog'\r\n\t\t\t\taria-labelledby={`deleteRequestModalLabel`}\r\n\t\t\t\taria-hidden='true'>\r\n\t\t\t\t<div className='modal-dialog modal-dialog-centered modal-lg' role='document'>\r\n\t\t\t\t\t<div className='modal-content'>\r\n\t\t\t\t\t\t<div className='modal-header'>\r\n\t\t\t\t\t\t\t<h5 className='modal-title' id={`deleteRequestModalLabel`}>\r\n\t\t\t\t\t\t\t\tDelete Request\r\n\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t<button type='button' className='close' data-dismiss='modal' aria-label='Close'>\r\n\t\t\t\t\t\t\t\t<span aria-hidden='true'>&times;</span>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className='modal-body'>Are you sure you want to delete this request?</div>\r\n\t\t\t\t\t\t<div className='modal-footer'>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\t\t\tclassName='btn btn-danger btn-sm'\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\t\t$('#deleteRequestModal').modal('hide');\r\n\t\t\t\t\t\t\t\t\tdeleteRequest();\r\n\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\tConfirm\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<button type='button' className='btn btn-secondary btn-sm' data-dismiss='modal'>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<iframe title='Print Page' id='iframe' className='d-none'></iframe>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { Form } from './Form';\r\nimport { List } from './List';\r\nimport { View } from './View';\r\n\r\nexport function Requests() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url('/')} exact component={List} />\r\n\t\t\t<Route path={url('/add')} component={Form} />\r\n\t\t\t<Route path={url('/:id')} component={View} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport { routes } from '../../routes';\r\nimport { Requests } from './Request';\r\n\r\nexport function Applicant() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\treturn (\r\n\t\t<Switch>\r\n\t\t\t<Route path={url(routes.REQUESTS.ROOT)} component={Requests} />\r\n\t\t</Switch>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link, useRouteMatch } from 'react-router-dom';\r\nimport { outIf } from '../../helpers';\r\nimport { routes } from '../../routes';\r\n\r\nexport function ApplicantSidebar() {\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\tconst links = [\r\n\t\t{\r\n\t\t\turl: routes.DASHBOARD,\r\n\t\t\ticon: 'nc-icon nc-bank',\r\n\t\t\ttitle: 'Dashboard',\r\n\t\t},\r\n\t\t{\r\n\t\t\turl: url(routes.REQUESTS.ROOT),\r\n\t\t\ticon: 'nc-icon nc-tag-content',\r\n\t\t\ttitle: 'Requests',\r\n\t\t},\r\n\t];\r\n\r\n\treturn (\r\n\t\t<div className='sidebar-wrapper' style={{ overflowX: 'hidden' }}>\r\n\t\t\t<ul className='nav'>\r\n\t\t\t\t{links.map((link, index) => (\r\n\t\t\t\t\t<li className={outIf(link.url === window.location.pathname, 'active')} key={index}>\r\n\t\t\t\t\t\t<Link to={link.url}>\r\n\t\t\t\t\t\t\t<i className={link.icon}></i>\r\n\t\t\t\t\t\t\t<p>{link.title}</p>\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link, useHistory, Route, useRouteMatch } from 'react-router-dom';\r\nimport { User } from '../contracts/User';\r\nimport { orEqual } from '../helpers';\r\nimport { routes } from '../routes';\r\nimport state from '../state';\r\nimport { Admin } from './Admin';\r\nimport { AdminSidebar } from './Admin/Sidebar';\r\nimport { Cashier } from './Cashier';\r\nimport { CashierSidebar } from './Cashier/Sidebar';\r\nimport { Profile } from './Profile';\r\nimport { Footer } from './Shared/Footer';\r\nimport { Header } from './Shared/Header';\r\nimport { Applicant } from './Student';\r\nimport { ApplicantSidebar } from './Student/Sidebar';\r\n\r\nexport function Dashboard() {\r\n\tconst history = useHistory();\r\n\tconst match = useRouteMatch();\r\n\r\n\tconst url = (path: string) => `${match.path}${path}`;\r\n\r\n\tif ((!state.has('logged') && !state.get('logged')) || state.get('user') === undefined) {\r\n\t\thistory.push(routes.LOGIN);\r\n\t\treturn null;\r\n\t}\r\n\r\n\tconst user = state.get<User>('user');\r\n\r\n\treturn (\r\n\t\t<div className='wrapper bg-yellow'>\r\n\t\t\t<div className='sidebar bg-maroon' data-color='white' data-active-color='danger'>\r\n\t\t\t\t<div className='logo bg-maroon'>\r\n\t\t\t\t\t<Link to={routes.DASHBOARD} className='simple-text logo-mini'>\r\n\t\t\t\t\t\t<img src='/assets/manifest-icon-512.png' alt='Logo' className='rounded-circle' />\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<Link to={routes.DASHBOARD} className='logo-normal text-warning bg-maroon'>\r\n\t\t\t\t\t\t<h5>PUPBBDMS</h5>\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t</div>\r\n\t\t\t\t{user.role === 'Admin' ? <AdminSidebar /> : null}\r\n\t\t\t\t{orEqual(user.role, ['Processing', 'Cashier', 'Evaluation', 'Signing', 'Releasing', 'Director', 'Registrar']) ? (\r\n\t\t\t\t\t<CashierSidebar />\r\n\t\t\t\t) : null}\r\n\t\t\t\t{user.role === 'Applicant' ? <ApplicantSidebar /> : null}\r\n\t\t\t</div>\r\n\t\t\t<div className='main-panel h-100 bg-yellow'>\r\n\t\t\t\t<Header />\r\n\t\t\t\t<div className='content bg-yellow'>\r\n\t\t\t\t\t<Route path={url(routes.PROFILE)} exact component={Profile} />\r\n\t\t\t\t\t{user.role === 'Admin' ? <Admin /> : null}\r\n\t\t\t\t\t{orEqual(user.role, ['Processing', 'Cashier', 'Evaluation', 'Signing', 'Releasing', 'Director', 'Registrar']) ? (\r\n\t\t\t\t\t\t<Cashier />\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t\t{user.role === 'Applicant' ? <Applicant /> : null}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { CMS } from '../../contracts/CMS';\r\n\r\ntype Props = {\r\n\tcms: Array<CMS>;\r\n};\r\n\r\nexport function AboutUs(props: Props) {\r\n\tconst find = (key: string, defaultValue: string) => {\r\n\t\tconst cms = props.cms.find((cms) => cms.key === key);\r\n\t\tif (cms) {\r\n\t\t\treturn cms.value;\r\n\t\t}\r\n\t\treturn defaultValue;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='section section-dark text-center'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<h2 className='title'>{find('about-us-title', \"Let's talk about us\")}</h2>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-md-4'>\r\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\r\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\r\n\t\t\t\t\t\t\t\t<a href='#avatar'>\r\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-1-picture', '/assets/img/prof.png')} alt='...' />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\r\n\t\t\t\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-1-name', 'Staff')}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-1-position', 'Staff Position')}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-1-description',\r\n\t\t\t\t\t\t\t\t\t\t'Description'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-4'>\r\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\r\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\r\n\t\t\t\t\t\t\t\t<a href='#avatar'>\r\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-2-picture', '/assets/img/prof.png')} alt='...' />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\r\n\t\t\t\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-2-name', 'Staff')}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-2-position', 'Staff Position')}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-2-description',\r\n\t\t\t\t\t\t\t\t\t\t'Description'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-4'>\r\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\r\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\r\n\t\t\t\t\t\t\t\t<a href='#avatar'>\r\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-3-picture', '/assets/img/prof.png')} alt='...' />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\r\n\t\t\t\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-3-name', 'Staff')}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-3-position', 'Staff Position')}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-3-description',\r\n\t\t\t\t\t\t\t\t\t\t'Descrption'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-4'>\r\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\r\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\r\n\t\t\t\t\t\t\t\t<a href='#avatar'>\r\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-4-picture', '/assets/img/prof.png')} alt='...' />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\r\n\t\t\t\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-4-name', 'Staff')}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-4-position', 'Staff Position')}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-4-description',\r\n\t\t\t\t\t\t\t\t\t\t'Description'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-4'>\r\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\r\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\r\n\t\t\t\t\t\t\t\t<a href='#avatar'>\r\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-5-picture', '/assets/img/prof.png')} alt='...' />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\r\n\t\t\t\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-5-name', 'Staff')}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-5-position', 'Staff Position')}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-5-description',\r\n\t\t\t\t\t\t\t\t\t\t'Description'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-4'>\r\n\t\t\t\t\t\t<div className={`card card-profile card-plain`}>\r\n\t\t\t\t\t\t\t<div className={`card-avatar`}>\r\n\t\t\t\t\t\t\t\t<a href='#avatar'>\r\n\t\t\t\t\t\t\t\t\t<img src={find('about-us-profile-6-picture', '/assets/img/prof.png')} alt='...' />\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t\t\t<a href='#paper-kit'>\r\n\t\t\t\t\t\t\t\t\t<div className='author'>\r\n\t\t\t\t\t\t\t\t\t\t<h4 className='card-title'>{find('about-us-profile-6-name', 'Staff')}</h4>\r\n\t\t\t\t\t\t\t\t\t\t<h6 className='card-category'>{find('about-us-profile-6-position', 'Staff Position')}</h6>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t<p className='card-description text-center'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'about-us-profile-6-description',\r\n\t\t\t\t\t\t\t\t\t\t'Description'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { FC } from 'react';\r\n\r\ntype Props = {};\r\n\r\nconst Carousel: FC<Props> = (props) => {\r\n\tconst id = Math.random().toString(36).substring(2, 15);\r\n\r\n\treturn (\r\n\t\t<div className='container mb-4'>\r\n\t\t\t<div id={id} className='carousel slide' data-ride='carousel'>\r\n\t\t\t\t<div className='carousel-inner'>\r\n\t\t\t\t\t<div className='carousel-item active'>\r\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login1.png' alt='First slide' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='carousel-item'>\r\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login2.png' alt='Second slide' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='carousel-item'>\r\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login3.png' alt='Third slide' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='carousel-item'>\r\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login4.png' alt='Fourth slide' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='carousel-item'>\r\n\t\t\t\t\t\t<img className='d-block w-100' src='/assets/img/login5.png' alt='Fifth slide' />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a className='carousel-control-prev' href={`#${id}`} role='button' data-slide='prev'>\r\n\t\t\t\t\t<span className='carousel-control-prev-icon' aria-hidden='true'></span>\r\n\t\t\t\t\t<span className='sr-only'>Previous</span>\r\n\t\t\t\t</a>\r\n\t\t\t\t<a className='carousel-control-next' href={`#${id}`} role='button' data-slide='next'>\r\n\t\t\t\t\t<span className='carousel-control-next-icon' aria-hidden='true'></span>\r\n\t\t\t\t\t<span className='sr-only'>Next</span>\r\n\t\t\t\t</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Carousel;\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { outIf } from '../../helpers';\r\nimport toastr from 'toastr';\r\n\r\nexport function ContactUs() {\r\n\tconst [data, setData] = useState({\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tmessage: '',\r\n\t});\r\n\tconst [processing, setProcessing] = useState(false);\r\n\r\n\tconst submit = async () => {\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tawait axios.post('/contacts', data);\r\n\t\t\tsetData({\r\n\t\t\t\tname: '',\r\n\t\t\t\temail: '',\r\n\t\t\t\tmessage: '',\r\n\t\t\t});\r\n\t\t\ttoastr.info('Message has been sent.', 'Notice');\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\ttoastr.error('Unable to send message', 'Oops!');\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='section landing-section'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-md-8 ml-auto mr-auto'>\r\n\t\t\t\t\t\t<h2 className='text-center'>Keep in touch?</h2>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tclassName='contact-form'\r\n\t\t\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-md-6'>\r\n\t\t\t\t\t\t\t\t\t<label>Name</label>\r\n\t\t\t\t\t\t\t\t\t<div className='input-group'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='input-group-prepend'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='input-group-text'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-single-02'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetData({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Name'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className='col-md-6'>\r\n\t\t\t\t\t\t\t\t\t<label>Email</label>\r\n\t\t\t\t\t\t\t\t\t<div className='input-group'>\r\n\t\t\t\t\t\t\t\t\t\t<div className='input-group-prepend'>\r\n\t\t\t\t\t\t\t\t\t\t\t<span className='input-group-text'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-email-85'></i>\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={`form-control ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetData({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temail: e.target.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder='Email'\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<label>Message</label>\r\n\t\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\t\tclassName={`form-control ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetData({\r\n\t\t\t\t\t\t\t\t\t\t...data,\r\n\t\t\t\t\t\t\t\t\t\tmessage: e.target.value,\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\trows={4}\r\n\t\t\t\t\t\t\t\tplaceholder='Tell us your thoughts and feelings...'></textarea>\r\n\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t<div className='col-md-4 ml-auto mr-auto text-center'>\r\n\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\t\tclassName={`btn btn-danger btn-lg btn-fill ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\t\t\t\t{processing ? 'Sending' : 'Send Message'}\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-12 col-md-6 offset-md-3 pt-5 text-center'>\r\n\t\t\t\t\t\t<a href='/' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t<i className='fab fa-facebook fa-2x mx-2'></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a href='/' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t<i className='fab fa-twitter fa-2x mx-2'></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a href='/' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t<i className='fab fa-youtube fa-2x mx-2'></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t<a href='/' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t<i className='fab fa-linkedin fa-2x mx-2'></i>\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-12 col-md-6 offset-md-3 pt-5'>\r\n\t\t\t\t\t\t<h6>Contact Us</h6>\r\n\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t<div className='col-3'>\r\n\t\t\t\t\t\t\t\t<b>PHONE</b>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='col-9'>091234567890</div>\r\n\t\t\t\t\t\t\t<div className='col-3'>\r\n\t\t\t\t\t\t\t\t<b>EMAIL</b>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='col-9'>email@pup.com</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { CMS } from '../../contracts/CMS';\r\n\r\ntype Props = {\r\n\tcms: Array<CMS>;\r\n};\r\n\r\nexport function Description(props: Props) {\r\n\tconst find = (key: string, defaultValue: string) => {\r\n\t\tconst cms = props.cms.find((cms) => cms.key === key);\r\n\t\tif (cms) {\r\n\t\t\treturn cms.value;\r\n\t\t}\r\n\t\treturn defaultValue;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='section text-center'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-md-8 ml-auto mr-auto'>\r\n\t\t\t\t\t\t<h2 className='title'>{find('description-title', \"\")}</h2>\r\n\t\t\t\t\t\t<h5 className='description text-dark'>\r\n\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t'description-paragraph',\r\n\t\t\t\t\t\t\t\t\"\"\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<br />\r\n\t\t\t\t<br />\r\n\t\t\t\t<div className='row text-dark'>\r\n\t\t\t\t\t<div className='col-md-3'>\r\n\t\t\t\t\t\t<div className='info'>\r\n\t\t\t\t\t\t\t<div className={`icon icon-danger`}>\r\n\t\t\t\t\t\t\t\t<i className=''></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='description'>\r\n\t\t\t\t\t\t\t\t<h4 className='info-title'>{find('description-card-1-title', 'Beautiful Gallery')}</h4>\r\n\t\t\t\t\t\t\t\t<p className='description'>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'description-card-1-description',\r\n\t\t\t\t\t\t\t\t\t\t\"Spend your time generating new ideas. You don't have to think of implementing.\"\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-3'>\r\n\t\t\t\t\t\t<div className='info'>\r\n\t\t\t\t\t\t\t<div className={`icon icon-danger`}>\r\n\t\t\t\t\t\t\t\t<i className=''></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='description'>\r\n\t\t\t\t\t\t\t\t<h4 className='info-title'>{find('description-card-2-title', 'New Ideas')}</h4>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'decsription-card-2-description',\r\n\t\t\t\t\t\t\t\t\t\t'Larger, yet dramatically thinner. More powerful, but remarkably power efficient.'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-3'>\r\n\t\t\t\t\t\t<div className='info'>\r\n\t\t\t\t\t\t\t<div className={`icon icon-danger`}>\r\n\t\t\t\t\t\t\t\t<i className=''></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='description'>\r\n\t\t\t\t\t\t\t\t<h4 className='info-title'>{find('description-card-3-title', 'Statistics')}</h4>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'description-card-3-description',\r\n\t\t\t\t\t\t\t\t\t\t'Choose from a veriety of many colors resembling sugar paper pastels.'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='col-md-3'>\r\n\t\t\t\t\t\t<div className='info'>\r\n\t\t\t\t\t\t\t<div className={`icon icon-danger`}>\r\n\t\t\t\t\t\t\t\t<i className=''></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='description'>\r\n\t\t\t\t\t\t\t\t<h4 className='info-title'>{find('description-card-4-title', 'Delightful design')}</h4>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t{find(\r\n\t\t\t\t\t\t\t\t\t\t'description-card-4-description',\r\n\t\t\t\t\t\t\t\t\t\t'Find unique and handmade delightful designs related items directly from our sellers'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { FC, useState } from 'react';\r\n\r\ntype Props = {\r\n\tanswer: string;\r\n};\r\n\r\nconst Item: FC<Props> = ({ answer }) => {\r\n\tconst [show, setShow] = useState(false);\r\n\r\n\treturn (\r\n\t\t<div className='card-body'>\r\n\t\t\t{show ? <p className='card-text'>{answer}</p> : null}\r\n\t\t\t<a\r\n\t\t\t\thref='/'\r\n\t\t\t\tclassName='text-info font-weight-bold'\r\n\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tsetShow(!show);\r\n\t\t\t\t}}>\r\n\t\t\t\t{show ? 'Hide' : 'Show'}\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Item;\r\n","import React from 'react';\r\nimport { CMS } from '../../contracts/CMS';\r\nimport Item from './FAQ/Item';\r\n\r\ntype Props = {\r\n\tcms: Array<CMS>;\r\n};\r\n\r\nexport function FAQs(props: Props) {\r\n\tconst find = (key: string, defaultValue: string) => {\r\n\t\tconst cms = props.cms.find((cms) => cms.key === key);\r\n\t\tif (cms) {\r\n\t\t\treturn cms.value;\r\n\t\t}\r\n\t\treturn defaultValue;\r\n\t};\r\n\r\n\tconst faqs = JSON.parse(find('faqs', JSON.stringify([]))) as Array<FAQ>;\r\n\r\n\tconst chunks: Array<Array<FAQ>> = [[]];\r\n\r\n\tfaqs.forEach((faq) => {\r\n\t\tconst last = chunks[chunks.length - 1];\r\n\t\tif (last.length < 2) {\r\n\t\t\tlast.push(faq);\r\n\t\t\tchunks.splice(chunks.length - 1, 1, last);\r\n\t\t} else {\r\n\t\t\tchunks.push([faq]);\r\n\t\t}\r\n\t});\r\n\r\n\treturn (\r\n\t\t<div className='section landing-section'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='row'>\r\n\t\t\t\t\t<div className='col-md-8 mx-auto justify-content-center'>\r\n\t\t\t\t\t\t<h2 className='col-md-8 ml-auto mr-auto text-center justify-content-center'><b>FAQs</b></h2>\r\n\t\t\t\t\t\t{chunks.map((faqs, index) => (\r\n\t\t\t\t\t\t\t<div className='card-group' key={index}>\r\n\t\t\t\t\t\t\t\t{faqs.map((faq, index) => (\r\n\t\t\t\t\t\t\t\t\t<div className='card m-1 border-0 shadow rounded' key={index}>\r\n\t\t\t\t\t\t\t\t\t\t<div className='card-header d-flex'>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className='card-title mb-0 align-self-center' style={{ color: '#000' }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{faq.question}\r\n\t\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<Item answer={faq.answer} />\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { CMS } from '../../contracts/CMS';\r\nimport { routes } from '../../routes';\r\n\r\ntype Props = {\r\n\tcms: Array<CMS>;\r\n};\r\n\r\nexport function Header(props: Props) {\r\n\tconst history = useHistory();\r\n\tconst url = new URLSearchParams(history.location.search);\r\n\tconst isPreview = url.get('preview') === 'true';\r\n\tconst find = (key: string, defaultValue: string) => {\r\n\t\tconst cms = props.cms.find((cms) => cms.key === key);\r\n\t\tif (cms) {\r\n\t\t\treturn cms.value;\r\n\t\t}\r\n\t\treturn defaultValue;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tclassName='page-header'\r\n\t\t\tstyle={{\r\n\t\t\t\tbackgroundImage: `url(${find('header-picture', '/assets/img/pup.jpg')})`,\r\n\t\t\t\tbackgroundPosition: '50%',\r\n\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t\tminHeight: '100vh',\r\n\t\t\t\tmaxHeight: '999px',\r\n\t\t\t\toverflow: 'hidden',\r\n\t\t\t\tposition: 'relative',\r\n\t\t\t\twidth: '100%',\r\n\t\t\t\tzIndex: 1,\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t}}>\r\n\t\t\t<div className='filter'></div>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='text-center' style={{ color: '#fff', zIndex: 3, position: 'relative' }}>\r\n\t\t\t\t\t<h1>{find('header-title', 'Welcome to PBBDTM')}</h1>\r\n\t\t\t\t\t<h3>{find('header-description', 'PUP Bansud Branch Documents Monitoring System')}</h3>\r\n\t\t\t\t\t<br />\r\n\t\t\t\t\t{!isPreview ? (\r\n\t\t\t\t\t\t<Link to={routes.REGISTER} className={`btn btn-outline-neutral btn-round`}>\r\n\t\t\t\t\t\t\t<i className='fa fa-play'></i> Get Started\r\n\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<a href={routes.REGISTER} className={`btn btn-outline-neutral btn-round`} onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t<i className='fa fa-play'></i> Get Started\r\n\t\t\t\t\t\t</a>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { Downloadable } from '../../contracts/Downloadable';\r\nimport { exceptMany } from '../../helpers';\r\nimport { routes } from '../../routes';\r\nimport state from '../../state';\r\n\r\nexport function Nav() {\r\n\tconst history = useHistory();\r\n\tconst url = new URLSearchParams(history.location.search);\r\n\tconst [downloadables, setDownloadables] = useState<Downloadable[]>([]);\r\n\r\n\tconst logged = () => {\r\n\t\treturn state.get('logged') && state.get('user');\r\n\t};\r\n\r\n\tconst isPreview = url.get('preview') === 'true';\r\n\r\n\tconst fetchDownloadables = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<Downloadable>>('/downloadables');\r\n\t\t\tsetDownloadables(exceptMany(data, ['file_id']));\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t}\r\n\t};\r\n\r\n\tconst categories: string[] = [];\r\n\r\n\tdownloadables.forEach((downloadable) => {\r\n\t\tif (!categories.includes(downloadable.category!)) {\r\n\t\t\tcategories.push(downloadable.category!);\r\n\t\t}\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchDownloadables();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<nav className='navbar navbar-expand-lg fixed-top navbar-transparent border-0' color-on-scroll='300'>\r\n\t\t\t<div className='container'>\r\n\t\t\t\t<div className='navbar-translate'>\r\n\t\t\t\t\t<Link className='navbar-brand' to='/' title='PBBDTM' data-placement='bottom'>\r\n\t\t\t\t\t\tPBBDMS\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='navbar-toggler navbar-toggler'\r\n\t\t\t\t\t\ttype='button'\r\n\t\t\t\t\t\tdata-toggle='collapse'\r\n\t\t\t\t\t\tdata-target='#navigation'\r\n\t\t\t\t\t\taria-controls='navigation-index'\r\n\t\t\t\t\t\taria-expanded='false'\r\n\t\t\t\t\t\taria-label='Toggle navigation'>\r\n\t\t\t\t\t\t<span className='navbar-toggler-bar bar1'></span>\r\n\t\t\t\t\t\t<span className='navbar-toggler-bar bar2'></span>\r\n\t\t\t\t\t\t<span className='navbar-toggler-bar bar3'></span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t{!isPreview ? (\r\n\t\t\t\t\t<div className='collapse navbar-collapse justify-content-end' id='navigation'>\r\n\t\t\t\t\t\t<ul className='navbar-nav'>\r\n\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t<Link to={routes.TRACK_REQUEST} className='nav-link'>\r\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-bag-16 mr-1'></i>\r\n\t\t\t\t\t\t\t\t\tTrack Request\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t{!logged() ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={routes.LOGIN} className='nav-link'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-layout-11 mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t<Link to={routes.REGISTER} className='nav-link'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-book-bookmark mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t<Link to={routes.DASHBOARD} className='nav-link'>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-bank mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className='collapse navbar-collapse justify-content-end' id='navigation'>\r\n\t\t\t\t\t\t<ul className='navbar-nav'>\r\n\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t<a href={routes.TRACK_REQUEST} className='nav-link' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-bag-16 mr-1'></i>\r\n\t\t\t\t\t\t\t\t\tTrack Request\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t{!logged() ? (\r\n\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t<a href={routes.LOGIN} className='nav-link' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-layout-11 mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t\t<a href={routes.REGISTER} className='nav-link' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-book-bookmark mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t<li className='nav-item'>\r\n\t\t\t\t\t\t\t\t\t<a href={routes.DASHBOARD} className='nav-link' onClick={(e) => e.preventDefault()}>\r\n\t\t\t\t\t\t\t\t\t\t<i className='nc-icon nc-bank mr-1'></i>\r\n\t\t\t\t\t\t\t\t\t\tDashboard\r\n\t\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</nav>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { CMS } from '../../contracts/CMS';\r\nimport { outIf } from '../../helpers';\r\nimport { Stats } from '../Admin/Stats';\r\nimport { AboutUs } from './AboutUs';\r\nimport Carousel from './Carousel';\r\nimport { ContactUs } from './ContactUs';\r\nimport { Description } from './Description';\r\nimport { FAQs } from './FAQs';\r\nimport { Header } from './Header';\r\nimport { Nav } from './Nav';\r\n\r\nexport function Landing() {\r\n\tconst [loaded, setLoaded] = useState(false);\r\n\tconst [cms, setCMS] = useState<Array<CMS>>([]);\r\n\r\n\tconst fetchCMS = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<Array<CMS>>('/cms');\r\n\t\t\tsetCMS([...data]);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t} finally {\r\n\t\t\tsetLoaded(true);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tfetchCMS();\r\n\t\t$('body').css('background-color', '#fff');\r\n\t\tconst link = $('#dashboard-styles').attr('href');\r\n\t\t// $('#dashboard-styles').remove();\r\n\t\t$('head').append(\r\n\t\t\t`<link rel=\"stylesheet\" href=\"https://demos.creative-tim.com/paper-kit-2/assets/css/paper-kit.min.css?v=2.2.0\" id=\"landing-styles\" />`\r\n\t\t);\r\n\t\t$('head').append(\r\n\t\t\t`<script src=\"https://demos.creative-tim.com/paper-kit-2/assets/js/paper-kit.min.js?v=2.2.0\" id=\"landing-script\"></script>`\r\n\t\t);\r\n\r\n\t\treturn () => {\r\n\t\t\t$('body').css('background-color', '#f4f3ef');\r\n\t\t\t$('#landing-styles').remove();\r\n\t\t\t$('#landing-script').remove();\r\n\t\t\t$('head').append(`<link rel=\"stylesheet\" href=\"${link}\" />`);\r\n\t\t};\r\n\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={`pb-5 ${outIf(!loaded, 'd-none')}`}>\r\n\t\t\t\t<Nav />\r\n\t\t\t\t<Header cms={cms} />\r\n\t\t\t\t<Description cms={cms} />\r\n\t\t\t\t<Carousel />\r\n\t\t\t\t<AboutUs cms={cms} />\r\n\t\t\t\t<ContactUs />\r\n\t\t\t\t<FAQs cms={cms} />\r\n\t\t\t\t<div className='container'>\r\n\t\t\t\t\t<h3 className='text-center mb-4'>Current Statistics</h3>\r\n\t\t\t\t\t<Stats />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t{!loaded ? (\r\n\t\t\t\t<div className='h-100vh d-flex align-items-center justify-content-center'>\r\n\t\t\t\t\t<div className='container-fluid text-center'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\r\n\t\t\t\t\t\t\talt='Logo'\r\n\t\t\t\t\t\t\tclassName='img-fluid rounded-circle'\r\n\t\t\t\t\t\t\tstyle={{ height: '200px', width: '200px' }}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { User } from '../contracts/User';\r\nimport { handleError, outIf } from '../helpers';\r\nimport { routes } from '../routes';\r\nimport state from '../state';\r\nimport styles from '../styles/Login.module.css';\r\nimport toastr from 'toastr';\r\n\r\ntype Response = {\r\n\tuser: User;\r\n\ttoken: string;\r\n};\r\n\r\nexport function Login() {\r\n\tconst [data, setData] = useState({\r\n\t\temail: '',\r\n\t\tpassword: '',\r\n\t});\r\n\tconst [processing, setProcessing] = useState(false);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tif (state.has('logged') && state.get<boolean>('logged') && state.get('user')) {\r\n\t\thistory.push(routes.DASHBOARD);\r\n\t}\r\n\r\n\tconst submit = async () => {\r\n\t\tif (data.password.length === 0) {\r\n\t\t\treturn toastr.error('Please provide a password.');\r\n\t\t}\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.post<Response>('/auth/login', data);\r\n\r\n\t\t\tconst { user, token } = response.data;\r\n\r\n\t\t\tstate.set('logged', true);\r\n\t\t\tstate.set('user', user);\r\n\t\t\tstate.set('token', token);\r\n\t\t\tconsole.log(state.getAll(), 'all');\r\n\t\t\thistory.push(routes.DASHBOARD);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\tconsole.log(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`w-100 h-100vh d-flex bg-vgrad ${styles.body}`}>\r\n\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t<div className={`card shadow ${styles.card}`}>\r\n\t\t\t\t\t<div className='card-header text-center'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\r\n\t\t\t\t\t\t\talt='Logo'\r\n\t\t\t\t\t\t\tclassName='img-fluid hw-max-75 rounded-circle clickable'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\thistory.push(routes.ROOT);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<h2 className='card-title'>\r\n\t\t\t\t\t\t\t<Link to={routes.ROOT} style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t\t\t\tPUP Bansud Branch\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<p className='card-text'>Documents Monitoring System</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\t\tplaceholder='email@dtms.com'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.email = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='password'>Password</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.password = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData({ ...data });\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-sm btn-secondary ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Login'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\tDon't have an account?{' '}\r\n\t\t\t\t\t\t\t\t<Link to={routes.REGISTER} className='d-inline'>\r\n\t\t\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import axios from 'axios';\r\nimport React, { useState } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { User } from '../contracts/User';\r\nimport { handleError, makeMask, outIf } from '../helpers';\r\nimport { routes } from '../routes';\r\nimport state from '../state';\r\nimport styles from '../styles/Login.module.css';\r\nimport toastr from 'toastr';\r\nimport InputMask from 'react-input-mask';\r\n\r\ntype Response = {\r\n\tuser: User;\r\n\ttoken: string;\r\n};\r\n\r\nexport function Register() {\r\n\tconst [data, _setData] = useState({\r\n\t\tname: '',\r\n\t\temail: '',\r\n\t\tphone: '09',\r\n\t\tpassword: '',\r\n\t\tpassword_confirmation: '',\r\n\t\ttype: 'Client',\r\n\t\tstudent_id_number: '',\r\n\t});\r\n\tconst [processing, setProcessing] = useState(false);\r\n\r\n\tconst setData = makeMask(_setData, (data: any) => ({ ...data }));\r\n\r\n\tconst history = useHistory();\r\n\r\n\tif (state.has('logged') && state.get<boolean>('logged')) {\r\n\t\thistory.push(routes.DASHBOARD);\r\n\t}\r\n\r\n\tconst submit = async () => {\r\n\t\tif (data.password.length === 0) {\r\n\t\t\treturn toastr.error('Please provide a password.');\r\n\t\t}\r\n\t\tif (data.password !== data.password_confirmation) {\r\n\t\t\treturn toastr.error('Password and Confirm Password does not match.', 'Oops!');\r\n\t\t}\r\n\r\n\t\tif (data.type === 'Student') {\r\n\t\t\tif (!/\\d{4}-\\d{5}-[A-Z]{2}-\\d{1}/g.test(data.student_id_number)) {\r\n\t\t\t\treturn toastr.error('Student ID Number is not in correct format.');\r\n\t\t\t}\r\n\t\t\tconst year = data.student_id_number.split('-')[0];\r\n\t\t\tif (Number(year) >= new Date().getUTCFullYear()) {\r\n\t\t\t\treturn toastr.error('Student ID Number is invalid.');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetProcessing(true);\r\n\t\ttry {\r\n\t\t\tconst response = await axios.post<Response>('/auth/register', data);\r\n\r\n\t\t\tconst { user, token } = response.data;\r\n\r\n\t\t\tstate.set('logged', true);\r\n\t\t\tstate.set('user', user);\r\n\t\t\tstate.set('token', token);\r\n\t\t\thistory.push(routes.DASHBOARD);\r\n\t\t} catch (error) {\r\n\t\t\thandleError(error);\r\n\t\t\tconsole.log(error);\r\n\t\t} finally {\r\n\t\t\tsetProcessing(false);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={`w-100 h-100vh d-flex ${styles.body}`}>\r\n\t\t\t<div className='align-self-center mx-auto'>\r\n\t\t\t\t<div className={`card shadow ${styles.card}`}>\r\n\t\t\t\t\t<div className='card-header text-center'>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tsrc='/assets/manifest-icon-512.png'\r\n\t\t\t\t\t\t\talt='Logo'\r\n\t\t\t\t\t\t\tclassName='img-fluid hw-max-75 rounded-circle clickable'\r\n\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\thistory.push(routes.ROOT);\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<h2 className='card-title'>\r\n\t\t\t\t\t\t\t<Link to={routes.ROOT} style={{ textDecoration: 'none' }}>\r\n\t\t\t\t\t\t\t\tPBBDTM\r\n\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t<p className='card-text'> New here? Please fill in the required information.</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className='card-body'>\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tonSubmit={(e) => {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tsubmit();\r\n\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='name'>Name</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tname='name'\r\n\t\t\t\t\t\t\t\t\tid='name'\r\n\t\t\t\t\t\t\t\t\tplaceholder='John Smith'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.name}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.name = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='email'>Email</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='email'\r\n\t\t\t\t\t\t\t\t\tname='email'\r\n\t\t\t\t\t\t\t\t\tid='email'\r\n\t\t\t\t\t\t\t\t\tplaceholder='email@dtms.com'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.email}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.email = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='phone'>Phone</label>\r\n\t\t\t\t\t\t\t\t<InputMask\r\n\t\t\t\t\t\t\t\t\tmask='0\\9999999999'\r\n\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\tname='phone'\r\n\t\t\t\t\t\t\t\t\tid='phone'\r\n\t\t\t\t\t\t\t\t\tplaceholder='639123456789'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.phone}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.phone = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='password'>Password</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\tname='password'\r\n\t\t\t\t\t\t\t\t\tid='password'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.password}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.password = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='password_confirmation'>Confirm Password</label>\r\n\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\ttype='password'\r\n\t\t\t\t\t\t\t\t\tname='password_confirmation'\r\n\t\t\t\t\t\t\t\t\tid='password_confirmation'\r\n\t\t\t\t\t\t\t\t\tplaceholder='Password'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.password_confirmation}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.password_confirmation = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<label htmlFor='Type'>Type</label>\r\n\t\t\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\t\t\tname='type'\r\n\t\t\t\t\t\t\t\t\tid='type'\r\n\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\tvalue={data.type}\r\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\tdata.type = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t<option value='Client'>Client</option>\r\n\t\t\t\t\t\t\t\t\t<option value='Student'>Student</option>\r\n\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{data.type === 'Student' ? (\r\n\t\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t\t<label htmlFor='student_id_number'>Student ID Number:</label>\r\n\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\tname='student_id_number'\r\n\t\t\t\t\t\t\t\t\t\tid='student_id_number'\r\n\t\t\t\t\t\t\t\t\t\tplaceholder='Student ID Number'\r\n\t\t\t\t\t\t\t\t\t\tclassName={`form-control form-control-sm ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={processing}\r\n\t\t\t\t\t\t\t\t\t\tvalue={data.student_id_number}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\t\t\tdata.student_id_number = e.target.value;\r\n\t\t\t\t\t\t\t\t\t\t\tsetData(data);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t<small className='form-text text-muted'>Ex: 2020-00001-BS-0</small>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype='submit'\r\n\t\t\t\t\t\t\t\t\tclassName={`btn btn-sm btn-secondary ${outIf(processing, 'disabled')}`}\r\n\t\t\t\t\t\t\t\t\tdisabled={processing}>\r\n\t\t\t\t\t\t\t\t\t{processing ? (\r\n\t\t\t\t\t\t\t\t\t\t<div className='spin'>\r\n\t\t\t\t\t\t\t\t\t\t\t<i className='bi bi-arrow-clockwise'></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t'Register'\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className='form-group'>\r\n\t\t\t\t\t\t\t\tAlready have an account?{' '}\r\n\t\t\t\t\t\t\t\t<Link to={routes.LOGIN} className='d-inline'>\r\n\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n","import React, { FC, useEffect } from 'react';\r\nimport { TrackRequest } from '../TrackRequest';\r\nimport { Nav } from './Nav';\r\n\r\ntype Props = {};\r\n\r\nconst Track: FC<Props> = (props) => {\r\n\tuseEffect(() => {\r\n\t\t$('body').css('background-color', '#fff');\r\n\t\tconst link = $('#dashboard-styles').attr('href');\r\n\t\t$('#dashboard-styles').remove();\r\n\t\t$('head').append(\r\n\t\t\t`<link rel=\"stylesheet\" href=\"https://demos.creative-tim.com/paper-kit-2/assets/css/paper-kit.min.css?v=2.2.0\" id=\"landing-styles\" />`\r\n\t\t);\r\n\t\t$('head').append(\r\n\t\t\t`<script src=\"https://demos.creative-tim.com/paper-kit-2/assets/js/paper-kit.min.js?v=2.2.0\" id=\"landing-script\"></script>`\r\n\t\t);\r\n\r\n\t\treturn () => {\r\n\t\t\t$('body').css('background-color', '#f4f3ef');\r\n\t\t\t$('#landing-styles').remove();\r\n\t\t\t$('#landing-script').remove();\r\n\t\t\t$('head').append(`<link rel=\"stylesheet\" href=\"${link}\" />`);\r\n\t\t};\r\n\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='pb-5'>\r\n\t\t\t<Nav />\r\n\t\t\t<div\r\n\t\t\t\tclassName='page-header'\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackgroundImage: 'url(/assets/img/pup.jpg)',\r\n\t\t\t\t\tbackgroundPosition: '50%',\r\n\t\t\t\t\tbackgroundSize: 'cover',\r\n\t\t\t\t\tminHeight: '100vh',\r\n\t\t\t\t\tmaxHeight: '999px',\r\n\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t\t\tzIndex: 1,\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t}}>\r\n\t\t\t\t<div className='filter'></div>\r\n\t\t\t\t<div className='container d-flex'>\r\n\t\t\t\t\t<TrackRequest className='d-inline mx-auto' />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default Track;\r\n","import React, { useEffect } from 'react';\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\r\nimport './App.css';\r\nimport { Dashboard } from './components/Dashboard';\r\nimport { Landing } from './components/Landing';\r\nimport { Login } from './components/Login';\r\nimport { Register } from './components/Register';\r\nimport { routes } from './routes';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\nimport axios from 'axios';\r\nimport { User } from './contracts/User';\r\nimport state from './state';\r\nimport Track from './components/Landing/Track';\r\nimport { View } from './components/Student/Request/View';\r\n\r\nexport default function App() {\r\n\tconst verifyUser = async () => {\r\n\t\ttry {\r\n\t\t\tconst { data } = await axios.get<User>('/self');\r\n\t\t\tstate.set('logged', true);\r\n\t\t\tstate.set('user', data);\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error.toJSON());\r\n\t\t\tstate.remove('user').set('logged', false);\r\n\t\t}\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tverifyUser();\r\n\t\t// eslint-disable-next-line\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Router>\r\n\t\t\t<Switch>\r\n\t\t\t\t<Route path={routes.ROOT} exact component={Landing} />\r\n\t\t\t\t<Route path={routes.LOGIN} component={Login} />\r\n\t\t\t\t<Route path={routes.REGISTER} component={Register} />\r\n\t\t\t\t<Route path={routes.DASHBOARD} component={Dashboard} />\r\n\t\t\t\t<Route path={routes.TRACK_REQUEST} exact component={Track} />\r\n\t\t\t\t<Route path={`${routes.TRACK_REQUEST}/:id`} component={View} />\r\n\t\t\t</Switch>\r\n\t\t</Router>\r\n\t);\r\n}\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","// eslint-disable-next-line\r\nError.prototype.toJSON = function () {\r\n\tconst alt = {} as any;\r\n\r\n\tconst _this = this as any;\r\n\tObject.getOwnPropertyNames(_this).forEach(function (key) {\r\n\t\talt[key] = _this[key];\r\n\t}, _this);\r\n\r\n\tif ('stack' in alt) {\r\n\t\talt.stack = alt.stack\r\n\t\t\t.split(/\\r?\\n/)\r\n\t\t\t.map((string: string) => string.trim())\r\n\t\t\t.filter((_: any, i: number) => i !== 0);\r\n\t}\r\n\r\n\treturn alt;\r\n};\r\n\r\n// eslint-disable-next-line\r\nString.prototype.parseNumbers = function () {\r\n\tconst parts = this.split('.');\r\n\tif (parts.length > 1) {\r\n\t\tconst whole = (parts[0].match(/\\d/g) || []).join('');\r\n\t\tconst decimals = (parts[1].match(/\\d/g) || []).join('');\r\n\t\treturn Number(`${whole}.${decimals}`) || 0;\r\n\t}\r\n\tconst match = this.match(/\\d/g);\r\n\tif (!match) {\r\n\t\treturn 0;\r\n\t}\r\n\treturn Number(match.join('')) || 0;\r\n};\r\n\r\nexport {};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'toastr/build/toastr.css';\r\nimport axios from 'axios';\r\nimport state from './state';\r\nimport './shims';\r\nimport '@fortawesome/fontawesome-free/css/all.css';\r\n\r\naxios.defaults.baseURL = process.env.REACT_APP_BACKEND_URL;\r\naxios.defaults.headers.common['Accept'] = 'application/json';\r\n\r\nif (state.has('token')) {\r\n\taxios.defaults.headers.common['Authorization'] = `Bearer ${state.get('token')}`;\r\n}\r\n\r\nstate.listen<string>('token', (token) => {\r\n\taxios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\r\n});\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Login_card__2G1x8\",\"body\":\"Login_body__1gsPU\"};"],"sourceRoot":""}